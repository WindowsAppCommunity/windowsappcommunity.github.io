{"version":3,"sources":["common/const.ts","common/services/discord.ts","common/helpers.ts","common/services/projects.ts","components/ProjectCard.tsx","components/forms/EditProjectDetailsForm.tsx","components/UserManager.tsx","components/PromiseVisualizer.tsx","views/Projects.tsx","components/HoverBox.tsx","views/Home.tsx","components/NavMenu.tsx","common/services/users.ts","components/forms/RegisterUser.tsx","components/AppHeader.tsx","views/Launch.tsx","components/ProjectReviewPanel.tsx","views/signin.tsx","components/forms/CreateProjectForm.tsx","components/RoleManager.tsx","views/dashboard.tsx","views/NotFound.tsx","components/markdown-loader.tsx","App.tsx","components/prerender-loader.tsx","index.tsx"],"names":["Links","Images","getBackendHost","isLocalhost","CurrentUser","discordAuthEndpoint","window","location","host","includes","AuthData","Get","authData","localStorage","getItem","JSON","parse","Set","SetDiscordAuthData","Clear","removeItem","data","setItem","stringify","RefreshTokenIfNeeded","a","UnixTime","Math","round","Date","getTime","auth","expires_at","fetch","refresh_token","json","refreshData","expires_in","IsUserInServer","Auth","Error","headers","access_token","Req","status","Response","filter","server","id","toString","length","GetCurrentDiscordUser","GetUserRoles","user","fetchBackend","request","result","map","role","name","GetDiscordUser","discordId","AssignUserRole","roleName","GetUserAvatar","avatar","navigator","userAgent","isReactSnap","route","method","requestBody","push","url","body","match","toMatch","regex","m","exec","undefined","ObjectToPathQuery","queryString","Object","entries","key","value","charAt","slice","CreateProject","projectData","downloadLink","storeId","GetProjectCollaborators","projectId","ModifyProject","queryData","DeleteProject","bodyData","GetAllProjects","GetAllProjects_Unfiltered","GetLaunchProjects","year","projects","ButtonType","categoryOptions","category","index","text","EditProjectDetailsForm","props","React","useState","isPrivate","awaitingLaunchApproval","projectRequest","setProjectRequest","submissionError","setSubmissionError","showSuccessIndicator","setShowSuccessIndicator","response","images","features","tags","toggleTagById","x","editing","appName","encodeURIComponent","error","reason","setTimeout","onSuccess","useEffect","getProjectImages","getProjectFeatures","getProjectTags","Stack","horizontalAlign","style","display","height","src","alt","tokens","childrenGap","maxWidth","width","Pivot","PivotItem","headerText","TextField","label","maxLength","styles","root","required","onChange","e","multiline","autoAdjustHeight","description","placeholder","ComboBox","options","defaultSelectedKey","option","Text","variant","fontWeight","feature","i","horizontal","type","IconButton","iconProps","iconName","onClick","DefaultButton","marginTop","Checkbox","checked","appIcon","heroImage","disabled","githubLink","externalLink","color","onCancel","PrimaryButton","UserManager","loading","setLoading","setError","users","setUsers","groupedUsers","setGroupedUsers","collaborator","userId","project","removeCollaboratorReq","statusText","removeUserFromView","newGrouping","originalSize","collaborators","discordUser","avatarUrl","getProjectCollaborators","separatorTheme","createTheme","fonts","medium","fontSize","Image","verticalAlign","Spinner","size","SpinnerSize","large","Separator","theme","wrap","item","BaseButton","padding","backgroundColor","outline","borderColor","isOwner","confirm","removeCollaborator","Icon","title","ariaLabel","borderRadius","username","FaIconStyle","PointerOnHover","styled","span","ProjectCard","setWindowWidth","projectCardActions","setProjectCardActions","showEditDialog","setShowEditDialog","showDeleteProjectDialog","setShowDeleteProjectDialog","showManualApproveProjectDialog","setShowManualApproveProjectDialog","showManualApproveProjectDialogErrorMessage","setShowManualApproveProjectDialogErrorMessage","showLaunchApprovalDialog","setShowLaunchApprovalDialog","showLaunchApproveProjectDialogErrorMessage","setShowLaunchApproveProjectDialogErrorMessage","showProjectDetailsModal","setShowProjectDetailsModal","showProjectUserManagerDialog","setShowProjectUserManagerDialog","ViewModel","setProjectViewModel","projectOwner","setProjectOwner","updateDimensions","addEventListener","projectCardsData","microsoftStoreLinkLabel","Download","link","href","target","onRenderIcon","gitHubLinkLabel","Github","externalLinkLabel","External","removeEventListener","innerWidth","buttonProps","buttonData","valueOf","icon","ManuallyApproveProject","needsManualReview","req","onProjectRemove","call","ApproveLaunchSubmission","launchYear","tagName","tagUpdateReq","projectUpdateReq","AssignLaunchParticipantRole","p","roleAssignReq","ok","GetOwner","GetCollaborators","projectCollaboratorsReq","GetImages","GetFeatures","OnLaunchApproval","owner","console","then","OnManualApproval","DocumentCard","tabIndex","onKeyDown","keyCode","Dialog","hidden","dialogContentProps","margin","DialogType","largeHeader","onDismiss","updatedProject","subText","discriminator","Modal","isOpen","marginBottom","zIndex","Link","FontIcon","editable","minWidth","modOptions","DocumentCardActions","actions","borderTop","imageFit","ImageFit","contain","img","centerCover","DocumentCardDetails","marginRight","TooltipHost","content","delay","TooltipDelay","zero","DocumentCardTitle","overflowY","PromiseVisualizer","promiseState","promise","isLoading","visualState","setVisualState","results","prevState","catch","usePromise","loadingStyle","loadingMessage","errorStyle","onResolve","children","Projects","state","setState","isAdmin","setIsAdmin","currentUser","currentUserRoles","setupUserRoles","sort","b","localeCompare","div","Depths","depth8","depth16","LinkCard","section","Img","LargeCard","Home","fontFamily","className","coverStyle","ImageCoverStyle","landscape","HomeViewData","main","subtitle","details","HoverBox","navLinkActiveStyle","borderBottom","MyNavLink","NavLink","NavText","NavMenu","to","exact","activeStyle","Component","CreateUser","userData","ModifyUser","GetUser","GetUserProjects","RegisterUserForm","userRequest","setUserRequest","modifying","defaultValue","email","paddingLeft","AppHeader","render","history","Helmet","path","endsWith","getHeadTitle","pathname","SignInButton","loggedIn","setLoggedIn","setDiscordUser","setUser","userAvatar","setUserAvatar","joinServerAlertHidden","setJoinServerAlertHidden","registerUserShown","setRegisterUserShown","editProfileShown","setEditProfileShown","policyConfirmationShown","setPolicyConfirmationShown","setupLoggedInUser","LoggedInButtonDropdownItems","onItemClick","ev","LogOut","useTargetWidth","items","reload","normal","modalProps","isBlocking","DialogFooter","long","border","menuProps","Persona","PersonaSize","size40","imageUrl","aria-label","showCloseButton","ReviewType","PaddedProjectHolder","MarkdownRenderer","ReactMarkdown","Launch","launch2020Projects","setLaunch2020Projects","launch2019Projects","setLaunch2019Projects","launchMarkdown","setLaunchMarkdown","res","Promise","reject","LaunchViewData","textAlign","getLaunchDetailsMarkdown","Signin","authResponse","URL","searchParams","get","atob","showRedirectLink","setShowRedirectLink","timer","clearTimeout","Label","ariaLive","visibility","CreateProjectForm","verified","setVerified","codeVerificationDisplayed","setCodeVerificationDisplayed","manualReviewMessageShown","setManualReviewMessageShown","setProjectData","projectDetails","ProjectCodeVerifier","VerficationState","storeIdTeachingBubbleTarget","setStoreIdTeachingBubbleTarget","setStoreId","verificationCodeText","setVerificationCodeText","PreInit","verificationState","setVerificationState","errorMessage","setErrorMessage","BeginVerification","validateStoreIdField","WaitingForCode","checkVerification","Verified","hideStoreIdTeachingBubbleTimeout","tick","onTimeout","init","clear","cleared","showStoreIdTeachingButton","event","nativeEvent","hideStoreIdTeachingButton","onStoreIDTextFieldKeyPress","onVerificationCodeTextFieldKeyPress","TeachingBubble","calloutProps","directionalHintFixed","directionalHint","DirectionalHint","topAutoEdge","onMouseLeave","onMouseOver","grow","onKeyPress","field","RoleManager","setProjects","groupedProjects","setGroupedProjects","removeProjectFromView","proj","getUserApps","collaborativeProject","ProjectReviewPanel","removeProject","ManualReview","DashboardHeader","header","Dashboard","welcomeMessage","setWelcomeMessage","userIcon","setUserIcon","roles","setRoles","appRegistrationShown","setAppRegistrationShown","devRegistrationShown","setDevRegistrationShown","userRoles","PersonaDark","size72","primaryText","marginLeft","textDecoration","userSelect","close","paddingBottom","justifyContent","itemContainer","NotFound","renderers","heading","level","1","2","3","headerType","as","getMarkdown","memoize","markdown","createMarkdownPage","filename","default","verticalFill","source","library","add","fab","faDiscord","faMedium","faGithub","fas","faGlobe","faArrowCircleDown","AppHeaderWithRouter","withRouter","PrivacyPolicy","dynamicImport","LoadableComponent","loadable","memo","PrerenderedComponent","live","load","prerenderedLoader","App","basename","component","initializeIcons","rootElement","document","getElementById","hasChildNodes","hydrate"],"mappings":"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","file":"static/js/main.43cf9ee5.chunk.js","sourcesContent":["import { isLocalhost } from \"./helpers\";\r\n\r\nexport const Links = {\r\n  thisSiteRepo: \"https://github.com/UWPCommunity/uwpcommunity.github.io/\",\r\n  launch2019Medium: \"https://medium.com/@Arlodottxt/launch-2019-7efd37cc0877\",\r\n  launch2020Medium: \"https://medium.com/@Arlodottxt/uwp-community-launch-2020-1772efb1e382\",\r\n  discordServerInvite: \"https://discord.gg/eBHZSKG\",\r\n  githubOrganization: \"https://github.com/UWPCommunity/\"\r\n};\r\n\r\nexport const Images = {\r\n  discordChatExample: \"/assets/img/discordchatexample.jpg\",\r\n  discordChatExampleAltText: \"Screenshot of Discord chat\",\r\n  githubOrgScreenshot: \"/assets/img/githuborgscreenshot.jpg\",\r\n  githubOrgScreenshotAltText: \"Screenshot of GitHub showing the UWP Community organization\",\r\n  launchHeroImage: \"/assets/img/LaunchHero.jpg\",\r\n  launchHeroImageAltText: \"Hero image of Launch 2021\",\r\n  launchHeroImageHD: \"/assets/img/LaunchHeroHD.jpg\",\r\n  launchAppsHero: \"/assets/img/LaunchAppsHero.png\",\r\n  launchAppsHeroAltText: \"Image showing logos of Launch 2020 apps\",\r\n\r\n  uwpCommunityLogo: \"/assets/img/uwpCommunityLogo.png\",\r\n  Badges: {\r\n    msstore: \"/assets/img/msstoreBadge.svg\",\r\n    github: \"/assets/img/githubBadge.svg\",\r\n    discord: \"/assets/img/discordBadge.svg\"\r\n  }\r\n};\r\n\r\nexport const MicrosoftStoreAppCategories = [\r\n  \"Books & reference\",\r\n  \"Business\",\r\n  \"Developer tools\",\r\n  \"Education\",\r\n  \"Entertainment\",\r\n  \"Food & dining\",\r\n  \"Government & politics\",\r\n  \"Kids & family\",\r\n  \"Lifestyle\",\r\n  \"Medical\",\r\n  \"Multimedia design\",\r\n  \"Music\",\r\n  \"Navigation & maps\",\r\n  \"News & weather\",\r\n  \"Personal finance\",\r\n  \"Personalization\",\r\n  \"Photo & video\",\r\n  \"Productivity\",\r\n  \"Security\",\r\n  \"Shopping\",\r\n  \"Social\",\r\n  \"Sports\",\r\n  \"Travel\",\r\n  \"Utilities & tools\"\r\n];\r\n\r\nexport function getBackendHost(): string {\r\n  return isLocalhost ? \"localhost:5000\" : \"uwpcommunity-site-backend.herokuapp.com\"\r\n}","import { getBackendHost } from \"../const\";\r\nimport { isLocalhost, fetchBackend } from \"../helpers\";\r\n\r\nexport const uwpCommunityGuildId = 372137812037730304;\r\nexport const uwpCommunityTestGuildId = 667491687639023636;\r\nexport const developerRoleId = 372142246625017871;\r\n\r\nexport const discordAuthEndpoint = (\r\n    window.location.host.includes(\"localhost\") ?\r\n        `https://discordapp.com/api/oauth2/authorize?client_id=611491369470525463&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fsignin%2Fredirect&response_type=code&scope=identify%20guilds`\r\n        :\r\n        `https://discordapp.com/api/oauth2/authorize?client_id=611491369470525463&redirect_uri=http%3A%2F%2Fuwpcommunity-site-backend.herokuapp.com%2Fsignin%2Fredirect&response_type=code&scope=identify%20guilds`\r\n);\r\n\r\nexport const AuthData = {\r\n    Get: GetDiscordAuthData,\r\n    Set: SetDiscordAuthData,\r\n    Clear: ClearDiscordAuthData\r\n};\r\n\r\nexport function GetDiscordAuthData(): IDiscordAuthResponse | undefined {\r\n    const authData = localStorage.getItem(\"discordAuthData\");\r\n    if (!authData) return;\r\n    return JSON.parse(authData);\r\n}\r\n\r\nexport function SetDiscordAuthData(data: IDiscordAuthResponse) {\r\n    if (!data) return;\r\n    localStorage.setItem(\"discordAuthData\", JSON.stringify(data));\r\n}\r\n\r\nexport function ClearDiscordAuthData() {\r\n    localStorage.removeItem(\"discordAuthData\");\r\n}\r\n\r\nexport async function RefreshTokenIfNeeded() {\r\n    const UnixTime: number = Math.round((new Date()).getTime() / 1000);\r\n    let auth = AuthData.Get();\r\n\r\n    if (!auth) return;\r\n\r\n    if (auth.expires_at && auth.expires_at < UnixTime) {\r\n        let refreshData: IDiscordAuthResponse = await (await fetch(`https://${getBackendHost()}/signin/refresh?refreshToken=${auth.refresh_token}`)).json();\r\n\r\n        if (refreshData.expires_in) refreshData.expires_at = UnixTime + refreshData.expires_in;\r\n\r\n        SetDiscordAuthData(refreshData);\r\n    }\r\n}\r\n\r\nexport async function IsUserInServer(): Promise<boolean> {\r\n    await RefreshTokenIfNeeded();\r\n\r\n    const Auth = AuthData.Get();\r\n    if (!Auth) throw new Error(\"No auth data found\");\r\n\r\n    const Req = await fetch(\"https://discordapp.com/api/v6/users/@me/guilds\", {\r\n        headers: {\r\n            \"Authorization\": \"Bearer \" + Auth.access_token\r\n        }\r\n    });\r\n    if (Req.status !== 200) return true; // If something goes wrong, give the benefit of the doubt\r\n\r\n    const Response: IDiscordGuild[] = await Req.json();\r\n\r\n    return Response.filter(server => server.id === (!isLocalhost ? uwpCommunityGuildId.toString() : uwpCommunityTestGuildId.toString())).length > 0;\r\n}\r\n\r\nexport let CurrentUser: IDiscordUser;\r\nexport async function GetCurrentDiscordUser(): Promise<IDiscordUser | undefined> {\r\n    if (CurrentUser) return CurrentUser;\r\n\r\n    const Auth = AuthData.Get();\r\n    if (!Auth) return;\r\n\r\n    const Req = await fetch(\"https://discordapp.com/api/v6/users/@me\", {\r\n        headers: {\r\n            \"Authorization\": \"Bearer \" + Auth.access_token\r\n        }\r\n    });\r\n    if (!Req || Req.status !== 200) return;\r\n\r\n    CurrentUser = await Req.json();\r\n    return CurrentUser;\r\n}\r\n\r\nexport async function GetUserRoles(user?: IDiscordUser): Promise<string[] | undefined> {\r\n    user = user || await GetCurrentDiscordUser();\r\n    if (!user) return;\r\n\r\n    const request = await fetchBackend(`bot/user/${user.id}/roles`, \"GET\");\r\n\r\n    if (request && request.status === 200) {\r\n        const result: IDiscordRoleData[] = await request.json();\r\n\r\n        return result.map(role => role.name);\r\n    }\r\n}\r\n\r\nexport async function GetDiscordUser(discordId: string): Promise<IDiscordUser | undefined> {\r\n    return (await fetchBackend(`bot/user/${discordId}`, \"GET\")).json();\r\n}\r\n\r\nexport async function AssignUserRole(roleName: string, discordId?: string) {\r\n    discordId = discordId || CurrentUser.id;\r\n    if (!discordId) return;\r\n\r\n    return await fetchBackend(`bot/user/${discordId}/roles`, \"PUT\", { role: roleName });\r\n}\r\n\r\nexport async function GetUserAvatar(user?: IDiscordUser): Promise<string | undefined> {\r\n    user = user || await GetCurrentDiscordUser();\r\n    if (!user) return;\r\n    return `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`;\r\n}\r\n\r\n/**\r\n * @summary Discord API user object\r\n */\r\nexport interface IDiscordUser {\r\n    /** @summary the user's id */\r\n    id: string;\r\n    /** @summary the user's username, not unique across the platform */\r\n    username: string;\r\n    /** @summary the user's 4-digit discord-tag */\r\n    discriminator: string;\r\n    /** @summary the user's avatar hash */\r\n    avatar: string;\r\n    /** @summary whether the user belongs to an OAuth2 application */\r\n    bot?: boolean;\r\n    /** @summary the user's id */\r\n    mfa_enabled?: boolean;\r\n    /** @summary whether the user has two factor enabled on their account */\r\n    locale?: string;\r\n    /** @summary the user's chosen language option */\r\n    verified?: string;\r\n    /** @summary whether the email on this account has been verified */\r\n    email?: string;\r\n    /** @summary the flags on a user's account */\r\n    flags?: number;\r\n    /** @summary the type of Nitro subscription on a user's account\t */\r\n    premium_type?: number;\r\n}\r\n\r\nexport interface IDiscordRoleData {\r\n    deleted: boolean;\r\n    id: string;\r\n    name: string;\r\n    color: number;\r\n    hoist: boolean;\r\n    position: number;\r\n    permissions: number;\r\n    managed: boolean;\r\n    mentionable: boolean;\r\n}\r\n\r\nexport interface IDiscordGuildMember {\r\n    /** @summary the user this guild member represents */\r\n    user: IDiscordUser;\r\n    /** @summary this users guild nickname (if one is set) */\r\n    nick?: string;\r\n    /** @summary array of role object ids @type Snowflake[] */\r\n    roles: string[];\r\n    /** @summary when the user joined the guild */\r\n    joined_at: string;\r\n    /** @summary when the user used their Nitro boost on the server */\r\n    premium_since?: string;\r\n    /** @summary whether the user is deafened in voice channels */\r\n    deaf: boolean;\r\n    /** @summary whether the user is muted in voice channels */\r\n    mute: boolean;\r\n};\r\n\r\nexport interface IDiscordGuild {\r\n    \"owner\": boolean,\r\n    \"permissions\": number,\r\n    \"icon\": string,\r\n    \"id\": string,\r\n    \"name\": string;\r\n}\r\n\r\nexport interface IDiscordAuthResponse {\r\n    \"access_token\": string;\r\n    \"token_type\": \"Bearer\";\r\n    \"expires_in\": number;\r\n    \"expires_at\"?: number;\r\n    \"refresh_token\": string;\r\n    \"scope\": string;\r\n}","import { AuthData } from \"./services/discord\";\r\nimport { getBackendHost } from \"./const\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport const getStoreUrl = (id: string) => {\r\n    return `https://www.microsoft.com/store/apps/${id}`;\r\n}\r\n\r\nexport const getGithubUrl = (id: string) => {\r\n    return `https://www.github.com/${id}`;\r\n}\r\n\r\nexport const getDiscordUrl = (id: string) => {\r\n    return `https://www.discord.gg/${id}`;\r\n}\r\n\r\nexport const getHeadTitle = (path: string) => {\r\n    let title = \"UWP Community\"\r\n    if (path.endsWith(\"/\")) {\r\n        path = path.slice(0, path.length - 1)\r\n    }\r\n    switch (path) {\r\n        case \"\":\r\n            title = title + \" // Home\"\r\n            break;\r\n        case \"/projects\":\r\n            title = title + \" // Projects\"\r\n            break;\r\n        case \"/launch\":\r\n            title = title + \" // Launch\"\r\n            break;\r\n        case \"/dashboard\":\r\n            title = title + \" // Dashboard\"\r\n            break;\r\n        case \"/signin\":\r\n            title = title + \" // Sign in\"\r\n            break;\r\n        default:\r\n            title = title + \" // 404\"\r\n            break;\r\n    }\r\n    return title\r\n}\r\nexport const isLocalhost = window.location.host.includes(\"localhost\") || navigator.userAgent.includes(\"ReactSnap\");\r\n\r\nexport const isReactSnap = navigator.userAgent.includes(\"ReactSnap\");\r\n\r\nexport async function fetchBackend(route: string, method: (\"GET\" | \"POST\" | \"PUT\" | \"DELETE\"), requestBody?: any): Promise<Response> {\r\n    let headers: string[][] = [[\"Content-Type\", \"application/json\"]];\r\n\r\n    let authData = await AuthData.Get();\r\n    if (authData) headers.push([\"authorization\", authData.access_token])\r\n\r\n    let protocol = isLocalhost ? \"http\" : \"https\";\r\n    let url = `${protocol}://${getBackendHost()}/${route}`;\r\n\r\n    return await fetch(url, {\r\n        headers: headers,\r\n        method: method,\r\n        body: JSON.stringify(requestBody)\r\n    });\r\n}\r\n\r\n\r\nexport interface IUsePromiseState<T> {\r\n    results?: T\r\n    error?: Error\r\n    isLoading: boolean\r\n}\r\n\r\nexport function usePromise<T>(promise?: (Promise<T>)): IUsePromiseState<T> {\r\n    const [visualState, setVisualState] = useState<IUsePromiseState<T>>({ isLoading: true });\r\n\r\n    useEffect(() => {\r\n    if (isReactSnap)\r\n        return setVisualState({ isLoading: false, error: new Error() });\r\n\r\n        if (promise && !visualState.results) promise.then(results => {\r\n            setVisualState(prevState => ({ ...prevState, isLoading: false, results }));\r\n        }).catch(error => {\r\n            setVisualState(prevState => ({ ...prevState, isLoading: false, error }));\r\n        });\r\n    }, [visualState, promise]);\r\n\r\n    return visualState;\r\n};\r\n\r\n/**\r\n * @summary Get the first matching regex group, instead of an array with the full string and all matches\r\n * @param {string} toMatch  \r\n * @param {regex} regex \r\n * @returns {string} First matching regex group\r\n */\r\nexport function match(toMatch: string, regex: RegExp) {\r\n    let m = regex.exec(toMatch);\r\n    return (m && m[1]) ? m[1] : undefined;\r\n}\r\nexport function ObjectToPathQuery(data: object) {\r\n    let queryString: string = \"\";\r\n    for (let [key, value] of Object.entries(data)) {\r\n        queryString += `${key}=${value}&`;\r\n    }\r\n    // If the last character is an \"&\", remove it\r\n    if (queryString.charAt(queryString.length - 1) === \"&\") queryString = queryString.slice(0, -1);\r\n    return queryString;\r\n}\r\n\r\nexport default {\r\n    getDiscordUrl, getGithubUrl, getStoreUrl\r\n}","import { IUser } from \"./users\";\r\nimport { fetchBackend, ObjectToPathQuery, match, isReactSnap } from \"../helpers\";\r\n\r\nexport async function CreateProject(projectData: ICreateProjectsRequestBody): Promise<Response> {\r\n    // Reformat microsoft store links to an international format\r\n    if (projectData.downloadLink) {\r\n        const storeId = match(projectData.downloadLink, /http.*microsoft\\..*([\\w\\d]{12})[/|?]?/);\r\n        if (storeId) {\r\n            projectData.downloadLink = `https://www.microsoft.com/store/apps/${storeId}`;\r\n        }\r\n    }\r\n    return await fetchBackend(\"projects\", \"POST\", projectData);\r\n}\r\nexport interface ICreateProjectsRequestBody {\r\n    role: \"Developer\" | \"Other\"; // Only a developer or \"Other\" (manager, etc) can create a new project\r\n    appName: string;\r\n    category: string;\r\n    description: string;\r\n    isPrivate: boolean;\r\n    downloadLink?: string;\r\n    githubLink?: string;\r\n    externalLink?: string;\r\n    awaitingLaunchApproval: boolean;\r\n    needsManualReview: boolean;\r\n    heroImage: string;\r\n    appIcon?: string;\r\n    images: string[];\r\n    features: string[];\r\n    tags: ITag[];\r\n    lookingForRoles: string[];\r\n}\r\n\r\nexport async function GetProjectCollaborators(projectId: number): Promise<IProjectCollaborator[]> {\r\n    return (await fetchBackend(`projects/collaborators?projectId=${projectId}`, \"GET\")).json();\r\n}\r\n\r\n\r\nexport async function ModifyProject(projectData: IModifyProjectsRequestBody, queryData: IModifyProjectRequestQuery) {\r\n    // Reformat microsoft store links to an international format\r\n    if (projectData.downloadLink) {\r\n        const storeId = match(projectData.downloadLink, /http.*microsoft\\..*([\\w\\d]{12})[/|?]?/);\r\n        if (storeId) {\r\n            projectData.downloadLink = `https://www.microsoft.com/store/apps/${storeId}`;\r\n        }\r\n    }\r\n\r\n    return await fetchBackend(`projects?${ObjectToPathQuery(queryData)}`, \"PUT\", projectData);\r\n}\r\n\r\nexport async function DeleteProject(bodyData: IDeleteProjectRequestBody) {\r\n    return await fetchBackend(`projects`, \"DELETE\", bodyData);\r\n}\r\n\r\nexport async function GetAllProjects(): Promise<IProject[]> {\r\n    if (isReactSnap)\r\n        return [];\r\n\r\n    return (await fetchBackend(`projects`, \"GET\")).json();\r\n}\r\n\r\nexport async function GetAllProjects_Unfiltered(): Promise<IProject[]> {\r\n    return (await fetchBackend(`projects?all=true`, \"GET\")).json();\r\n}\r\n\r\nexport async function GetLaunchProjects(year: number): Promise<IProject[]> {\r\n    if (isReactSnap)\r\n        return [];\r\n\r\n    var request = await fetchBackend(`projects/launch/${year}`, \"GET\");\r\n    var result = await request.json();\r\n\r\n    return result.projects;\r\n}\r\n\r\nexport interface IModifyProjectsRequestBody {\r\n    appName: string;\r\n    description?: string;\r\n    isPrivate: boolean;\r\n\r\n    downloadLink?: string;\r\n    githubLink?: string;\r\n    externalLink?: string;\r\n\r\n    heroImage: string;\r\n    images: string[];\r\n    appIcon?: string;\r\n    awaitingLaunchApproval: boolean;\r\n    needsManualReview: boolean;\r\n    lookingForRoles?: string[];\r\n    category?: string;\r\n}\r\n\r\nexport interface IModifyProjectRequestQuery {\r\n    /** @summary The app name that's being modified */\r\n    appName: string;\r\n}\r\n\r\nexport interface IDeleteProjectRequestBody {\r\n    /** @summary The app name that's being deleted */\r\n    appName: string;\r\n}\r\n\r\nexport interface IProjectCollaborator extends IUser {\r\n    role: \"Developer\" | \"Translator\" | \"Beta Tester\" | \"Other\";\r\n    isOwner: boolean;\r\n}\r\n\r\nexport interface IProject {\r\n    id: number;\r\n\r\n    appName: string;\r\n    description: string;\r\n    isPrivate: boolean;\r\n    downloadLink?: string;\r\n    githubLink?: string;\r\n    externalLink?: string;\r\n\r\n    heroImage: string;\r\n    appIcon?: string;\r\n    images: string[];\r\n    features: string[];\r\n\r\n    awaitingLaunchApproval: boolean;\r\n    needsManualReview: boolean;\r\n    lookingForRoles?: string[];\r\n\r\n    collaborators: IProjectCollaborator[];\r\n    tags: ITag[];\r\n    category?: string;\r\n};\r\n\r\nexport interface ITag {\r\n    id: number;\r\n    projects?: IProject[];\r\n    name: string;\r\n    icon?: string;\r\n}","import { IProject, DeleteProject, ModifyProject, IModifyProjectsRequestBody, IProjectCollaborator } from \"../common/services/projects\";\r\nimport { DocumentCard, ImageFit, DocumentCardDetails, DocumentCardTitle, Text, Stack, DocumentCardActions, IButtonProps, PrimaryButton, Dialog, FontIcon, DefaultButton, DialogType, TooltipHost, TooltipDelay, Modal, Image, Link } from \"office-ui-fabric-react\";\r\nimport * as React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { EditProjectDetailsForm } from \"./forms/EditProjectDetailsForm\";\r\nimport { IDiscordUser, GetDiscordUser, AssignUserRole } from \"../common/services/discord\";\r\nimport styled from \"styled-components\";\r\nimport { fetchBackend, ObjectToPathQuery } from \"../common/helpers\";\r\nimport { UserManager } from \"./UserManager\";\r\n\r\nenum ButtonType {\r\n  Github, Download, External\r\n}\r\n\r\ninterface ICustomButtonRenderProps {\r\n  type: ButtonType;\r\n  link: string;\r\n}\r\nconst FaIconStyle: React.CSSProperties = {\r\n  color: \"black\",\r\n  height: \"25px\",\r\n  width: \"25px\"\r\n};\r\n\r\nconst PointerOnHover = styled.span`\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport interface IProjectCard {\r\n  project: IProject;\r\n  editable?: boolean;\r\n  onProjectRemove?: (project: IProject) => void;\r\n  modOptions?: boolean;\r\n}\r\n\r\nexport const ProjectCard = (props: IProjectCard) => {\r\n  const [width, setWindowWidth] = React.useState<number>(0)\r\n\r\n  const [projectCardActions, setProjectCardActions] = React.useState<IButtonProps[]>([]);\r\n  const [showEditDialog, setShowEditDialog] = React.useState<boolean>(false);\r\n  const [showDeleteProjectDialog, setShowDeleteProjectDialog] = React.useState(false);\r\n\r\n  const [showManualApproveProjectDialog, setShowManualApproveProjectDialog] = React.useState(false);\r\n  const [showManualApproveProjectDialogErrorMessage, setShowManualApproveProjectDialogErrorMessage] = React.useState<string>(\"\");\r\n\r\n  const [showLaunchApprovalDialog, setShowLaunchApprovalDialog] = React.useState(false);\r\n  const [showLaunchApproveProjectDialogErrorMessage, setShowLaunchApproveProjectDialogErrorMessage] = React.useState<string>(\"\");\r\n\r\n  const [showProjectDetailsModal, setShowProjectDetailsModal] = React.useState(false);\r\n\r\n  const [showProjectUserManagerDialog, setShowProjectUserManagerDialog] = React.useState(false);\r\n\r\n  const [ViewModel, setProjectViewModel] = React.useState<IProject>(props.project);\r\n  const [projectOwner, setProjectOwner] = React.useState<IDiscordUser>();\r\n\r\n  React.useEffect(() => {\r\n    updateDimensions();\r\n    window.addEventListener(\"resize\", updateDimensions);\r\n\r\n    const projectCardsData: IButtonProps[] = [];\r\n\r\n    if (ViewModel.downloadLink) {\r\n      const microsoftStoreLinkLabel = \"View \" + ViewModel.appName + \" on the Microsoft Store\";\r\n      projectCardsData.push({\r\n        data: {\r\n          type: ButtonType.Download,\r\n          link: ViewModel.downloadLink\r\n        },\r\n        href: ViewModel.downloadLink,\r\n        \"aria-label\": microsoftStoreLinkLabel,\r\n        target: \"_blank\",\r\n        onRenderIcon: onRenderIcon\r\n      });\r\n    }\r\n\r\n    if (ViewModel.githubLink) {\r\n      const gitHubLinkLabel = \"View \" + ViewModel.appName + \" on GitHub\";\r\n      projectCardsData.push({\r\n        data: {\r\n          type: ButtonType.Github,\r\n          link: ViewModel.githubLink\r\n        },\r\n        href: ViewModel.githubLink,\r\n        \"aria-label\": gitHubLinkLabel,\r\n        target: \"_blank\",\r\n        onRenderIcon: onRenderIcon\r\n      });\r\n    }\r\n\r\n    if (ViewModel.externalLink) {\r\n      const externalLinkLabel = \"View \" + ViewModel.appName + \" on the web\";\r\n      projectCardsData.push({\r\n        data: {\r\n          type: ButtonType.External,\r\n          link: ViewModel.externalLink\r\n        },\r\n        href: ViewModel.externalLink,\r\n        \"aria-label\": externalLinkLabel,\r\n        target: \"_blank\",\r\n        onRenderIcon: onRenderIcon\r\n      });\r\n    }\r\n\r\n    setProjectCardActions(projectCardsData);\r\n\r\n    return () =>\r\n      window.removeEventListener(\"resize\", updateDimensions);\r\n  }, [ViewModel.githubLink, ViewModel.externalLink, ViewModel.downloadLink]);\r\n\r\n  const updateDimensions = () => {\r\n    const width = window.innerWidth\r\n    setWindowWidth(width)\r\n  }\r\n\r\n  function onRenderIcon(buttonProps: IButtonProps | undefined) {\r\n    if (!buttonProps) return null;\r\n    const buttonData: ICustomButtonRenderProps = buttonProps.data;\r\n    if (!buttonData.link) return null;\r\n\r\n    switch (buttonData.type.valueOf()) {\r\n      case ButtonType.Download:\r\n        if (buttonData.link && buttonData.link.includes(\"microsoft.com\")) {\r\n          return <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"microsoft\"]} />\r\n        } else {\r\n          return <FontAwesomeIcon style={FaIconStyle} icon=\"arrow-circle-down\" />\r\n        }\r\n      case ButtonType.External:\r\n        return <FontAwesomeIcon style={FaIconStyle} icon={[\"fas\", \"globe\"]} />\r\n      case ButtonType.Github:\r\n        return <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"github\"]} />\r\n      default: return null;\r\n    }\r\n  }\r\n\r\n  async function ManuallyApproveProject() {\r\n    const data: IModifyProjectsRequestBody = {\r\n      needsManualReview: false,\r\n      appName: ViewModel.appName,\r\n      description: ViewModel.description,\r\n      heroImage: ViewModel.heroImage,\r\n      images: ViewModel.images,\r\n      awaitingLaunchApproval: ViewModel.awaitingLaunchApproval,\r\n      isPrivate: ViewModel.isPrivate\r\n    };\r\n    setProjectViewModel({ ...ViewModel, ...data });\r\n\r\n    const req = await ModifyProject(data, { appName: ViewModel.appName });\r\n    if (req.status !== 200) {\r\n      setShowManualApproveProjectDialogErrorMessage((await req.json()).reason);\r\n    } else {\r\n      setShowManualApproveProjectDialog(false);\r\n      props.onProjectRemove?.call(undefined, ViewModel);\r\n    }\r\n  }\r\n\r\n  async function ApproveLaunchSubmission(launchYear: number) {\r\n    const projectData: IModifyProjectsRequestBody = {\r\n      appName: ViewModel.appName,\r\n      description: ViewModel.description,\r\n      needsManualReview: ViewModel.needsManualReview,\r\n      isPrivate: ViewModel.isPrivate,\r\n      heroImage: ViewModel.heroImage,\r\n      images: ViewModel.images,\r\n      awaitingLaunchApproval: false,\r\n    };\r\n\r\n    setProjectViewModel({ ...ViewModel, ...projectData });\r\n\r\n    const tagUpdateReq = await fetchBackend(`projects/tags?appName=${ViewModel.appName}`, \"POST\", { tagName: `Launch ${launchYear}` });\r\n    if (tagUpdateReq.status !== 200) {\r\n      setShowLaunchApproveProjectDialogErrorMessage((await tagUpdateReq.json()).reason);\r\n      return;\r\n    }\r\n\r\n    const projectUpdateReq = await ModifyProject(projectData, { appName: ViewModel.appName });\r\n    if (projectUpdateReq.status !== 200) {\r\n      setShowLaunchApproveProjectDialogErrorMessage((await projectUpdateReq.json()).reason);\r\n      return;\r\n    }\r\n\r\n    await AssignLaunchParticipantRole(ViewModel.collaborators.filter(p => p.isOwner)[0]);\r\n    setShowLaunchApprovalDialog(false);\r\n    props.onProjectRemove?.call(undefined, ViewModel);\r\n  }\r\n\r\n  async function AssignLaunchParticipantRole(user: IProjectCollaborator) {\r\n    const roleAssignReq = await AssignUserRole(\"Launch Participant\", user.discordId);\r\n    if (roleAssignReq && roleAssignReq.ok === false) {\r\n      setShowLaunchApproveProjectDialogErrorMessage(`Project was approved, but the user couldn't be assigned the Launch Participant role. (Error: ${(await roleAssignReq.json()).reason})`);\r\n    }\r\n  }\r\n\r\n  async function GetOwner() {\r\n    var collaborators = await GetCollaborators();\r\n    return collaborators?.filter(x => x.isOwner)[0];\r\n  }\r\n\r\n  async function GetCollaborators() {\r\n    const projectCollaboratorsReq = await fetchBackend(`projects/collaborators?projectId=${ViewModel.id}`, \"GET\");\r\n    if (projectCollaboratorsReq.status !== 200) {\r\n      setShowLaunchApproveProjectDialogErrorMessage((await projectCollaboratorsReq.json()).reason);\r\n      return;\r\n    }\r\n\r\n    var json = await projectCollaboratorsReq.json();\r\n    const collaborators = json as IProjectCollaborator[];\r\n\r\n    return collaborators;\r\n  }\r\n\r\n  async function GetImages() {\r\n    const req = await fetchBackend(`projects/images?projectId=${ViewModel.id}`, \"GET\");\r\n    if (req.status !== 200) {\r\n      return;\r\n    }\r\n\r\n    var json = await req.json();\r\n    return json as string[];\r\n  }\r\n\r\n  async function GetFeatures() {\r\n    const req = await fetchBackend(`projects/features?projectId=${ViewModel.id}`, \"GET\");\r\n    if (req.status !== 200) {\r\n      return;\r\n    }\r\n\r\n    var json = await req.json();\r\n    const features = json as string[];\r\n    return features;\r\n  }\r\n\r\n  async function OnLaunchApproval() {\r\n    const owner = await GetOwner();\r\n    if (!owner) {\r\n      console.error(\"Owner not found\");\r\n      return;\r\n    }\r\n\r\n    GetDiscordUser(owner.discordId).then(owner => {\r\n      setProjectOwner(owner);\r\n      setShowLaunchApprovalDialog(true);\r\n    });\r\n  }\r\n\r\n  async function OnManualApproval() {\r\n    const owner = await GetOwner();\r\n    if (!owner) {\r\n      console.error(\"Owner not found\");\r\n      return;\r\n    }\r\n\r\n    GetDiscordUser(owner.discordId)\r\n      .then(owner => {\r\n        setProjectOwner(owner);\r\n        setShowManualApproveProjectDialog(true);\r\n      });\r\n  }\r\n\r\n  function onCardKeyDown(ev: React.KeyboardEvent<HTMLDivElement>) {\r\n    if (ev.keyCode === 13) {\r\n      setShowProjectDetailsModal(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <DocumentCard style={{ width: 275 }} tabIndex={0} onKeyDown={(e) => onCardKeyDown(e)}>\r\n\r\n      <Dialog hidden={!showEditDialog} title={`Edit ${ViewModel.appName}`}\r\n        dialogContentProps={{\r\n          styles: { title: { padding: \"16px 16px 5px 24px\", margin: 0 } },\r\n          type: DialogType.largeHeader\r\n        }}\r\n        onDismiss={() => {\r\n          setShowEditDialog(false)\r\n        }}>\r\n        <EditProjectDetailsForm editing projectData={ViewModel} onSuccess={(updatedProject) => {\r\n          setShowEditDialog(false);\r\n          if (updatedProject) setProjectViewModel(updatedProject);\r\n        }} />\r\n      </Dialog>\r\n\r\n      <Dialog hidden={!showDeleteProjectDialog}\r\n        dialogContentProps={{\r\n          styles: { title: { padding: \"16px 16px 8px 24px\", fontSize: 20 }, subText: { fontSize: 16 } },\r\n          type: DialogType.largeHeader,\r\n          title: `Are you sure?`,\r\n          subText: `This action can't be undone`\r\n        }}\r\n        onDismiss={() => { setShowDeleteProjectDialog(false) }}>\r\n        <Stack horizontal tokens={{ childrenGap: 7 }}>\r\n          <DefaultButton style={{ backgroundColor: \"#cc0000\", color: \"#fff\", borderColor: \"#cc0000\" }} text={`Yes, delete`}\r\n            onClick={async () => {\r\n              await DeleteProject({ appName: ViewModel.appName });\r\n              setShowDeleteProjectDialog(false);\r\n              if (props.onProjectRemove) props.onProjectRemove(ViewModel);\r\n            }} />\r\n          <PrimaryButton onClick={() => { setShowDeleteProjectDialog(false); }} text=\"Cancel\" />\r\n        </Stack>\r\n      </Dialog>\r\n\r\n      <Dialog hidden={!showManualApproveProjectDialog}\r\n        dialogContentProps={{\r\n          styles: { title: { padding: \"16px 16px 8px 24px\", fontSize: 20 }, subText: { fontSize: 16 } },\r\n          type: DialogType.largeHeader,\r\n          title: `Approve this project?`,\r\n          subText: projectOwner ? `${ViewModel.appName} belongs to ${projectOwner.username}#${projectOwner.discriminator}` : \"Project owner info not avilable\"\r\n        }}\r\n        onDismiss={() => { setShowManualApproveProjectDialog(false) }}>\r\n        <Stack>\r\n          <Text style={{ color: \"red\" }}>{showManualApproveProjectDialogErrorMessage}</Text>\r\n          <Stack horizontal tokens={{ childrenGap: 7 }}>\r\n            <PrimaryButton text={`Confirm`}\r\n              onClick={async () => {\r\n                await ManuallyApproveProject();\r\n              }} />\r\n            <DefaultButton onClick={() => { setShowManualApproveProjectDialog(false); }} text=\"Cancel\" />\r\n          </Stack>\r\n        </Stack>\r\n      </Dialog>\r\n\r\n      <Dialog hidden={!showLaunchApprovalDialog}\r\n        dialogContentProps={{\r\n          styles: { title: { padding: \"16px 16px 8px 24px\", fontSize: 20 }, subText: { fontSize: 16 } },\r\n          type: DialogType.largeHeader,\r\n          title: `Approve launch submission?`,\r\n          subText: projectOwner ?\r\n            `${ViewModel.appName} belongs to ${projectOwner.username}#${projectOwner.discriminator}. Follow up with them to ensure the project is eligible for the Launch event` : \"Project owner info not avilable\"\r\n        }}\r\n        onDismiss={() => { setShowLaunchApprovalDialog(false) }}>\r\n        <Stack>\r\n          <Text style={{ color: \"red\" }}>{showLaunchApproveProjectDialogErrorMessage}</Text>\r\n          <Stack horizontal tokens={{ childrenGap: 7 }}>\r\n            <PrimaryButton text={`Confirm`}\r\n              onClick={async () => {\r\n                await ApproveLaunchSubmission(2021);\r\n              }} />\r\n            <DefaultButton onClick={() => { setShowLaunchApprovalDialog(false); }} text=\"Cancel\" />\r\n          </Stack>\r\n        </Stack>\r\n      </Dialog>\r\n\r\n      <Modal styles={{ root: { maxWidth: \"100vw\" } }} onDismiss={() => setShowProjectUserManagerDialog(false)} isOpen={showProjectUserManagerDialog}>\r\n        <Stack style={{ margin: 15 }}>\r\n          <Stack style={{ marginBottom: -20, zIndex: 1 }} horizontalAlign=\"end\">\r\n            <Link onClick={() => setShowProjectUserManagerDialog(false)}>\r\n              <FontIcon style={{ fontSize: 16, color: \"black\" }} iconName=\"ChromeClose\" />\r\n            </Link>\r\n          </Stack>\r\n\r\n          <UserManager project={props.project} />\r\n        </Stack>\r\n      </Modal>\r\n\r\n      <Modal styles={{ root: { maxWidth: \"100vw\" } }} onDismiss={() => setShowProjectDetailsModal(false)} isOpen={showProjectDetailsModal}>\r\n        <Stack>\r\n          <Stack tokens={{ padding: \"7px 10px\" }}>\r\n            <Stack horizontal horizontalAlign=\"space-between\" style={{ padding: \"0px 0px 2px 0px\", marginBottom: \"10px\" }}>\r\n              <Stack horizontal tokens={{ childrenGap: 10, padding: 5 }}>\r\n                {ViewModel.appIcon ?\r\n                  <Image style={{ height: 40, width: 40 }} src={ViewModel.appIcon} />\r\n                  : <></>}\r\n\r\n                <Text variant=\"xxLarge\" style={{ fontWeight: 400 }}>{ViewModel.appName}</Text>\r\n\r\n                <Stack horizontal tokens={{ childrenGap: 5, padding: 5 }} style={{ display: (width > 700 ? 'flex' : 'none') }} verticalAlign=\"center\">\r\n                  {props.editable === true ? (<>\r\n                    <PrimaryButton iconProps={{ iconName: \"group\", style: { fontSize: 18 } }} style={{ minWidth: 45, padding: 0 }} onClick={() => { setShowProjectUserManagerDialog(true) }} />\r\n                    <PrimaryButton iconProps={{ iconName: \"edit\", style: { fontSize: 16 } }} style={{ minWidth: 40, padding: 0 }} onClick={() => { setShowEditDialog(true) }} />\r\n                    <PrimaryButton iconProps={{ iconName: \"delete\", style: { fontSize: 16 } }} style={{ minWidth: 40, padding: 0 }} onClick={() => { setShowDeleteProjectDialog(true) }} />\r\n                  </>) : <></>}\r\n\r\n                  {props.modOptions !== undefined && ViewModel.needsManualReview ? (<>\r\n                    <PrimaryButton iconProps={{ iconName: \"Ferry\", style: { fontSize: 18 } }} style={{ minWidth: 35, padding: 0 }} onClick={OnManualApproval}\r\n                    />\r\n                  </>) : <></>}\r\n\r\n                  {props.modOptions !== undefined && ViewModel.awaitingLaunchApproval && !ViewModel.needsManualReview ? (<>\r\n                    <PrimaryButton iconProps={{ iconName: \"Rocket\", style: { fontSize: 18 } }} style={{ minWidth: 35, padding: 0 }} onClick={OnLaunchApproval} />\r\n                  </>) : <></>}\r\n\r\n                  <DocumentCardActions styles={{ root: { padding: 0 } }} actions={projectCardActions} />\r\n                </Stack>\r\n              </Stack>\r\n\r\n              <Stack horizontal verticalAlign=\"center\" tokens={{ childrenGap: 5 }}>\r\n                {projectOwner ?\r\n                  (<>\r\n                    <Text variant=\"smallPlus\">{projectOwner.username}#{projectOwner.discriminator}</Text>\r\n                  </>) : <>No owner data</>}\r\n                <Link style={{ margin: 10 }} onClick={() => setShowProjectDetailsModal(false)}>\r\n                  <FontIcon style={{ fontSize: 16, color: \"black\" }} iconName=\"ChromeClose\" />\r\n                </Link>\r\n              </Stack>\r\n            </Stack>\r\n\r\n            <Stack horizontal tokens={{ childrenGap: 5, padding: 5 }} style={{ display: (width < 700 ? 'flex' : 'none') }} verticalAlign=\"center\">\r\n              {props.editable === true ? (<>\r\n                <PrimaryButton iconProps={{ iconName: \"group\", style: { fontSize: 18 } }} style={{ minWidth: 45, padding: 0 }} onClick={() => { setShowProjectUserManagerDialog(true) }} />\r\n                <PrimaryButton iconProps={{ iconName: \"edit\", style: { fontSize: 16 } }} style={{ minWidth: 40, padding: 0 }} onClick={() => { setShowEditDialog(true) }} />\r\n                <PrimaryButton iconProps={{ iconName: \"delete\", style: { fontSize: 16 } }} style={{ minWidth: 40, padding: 0 }} onClick={() => { setShowDeleteProjectDialog(true) }} />\r\n              </>) : <></>}\r\n\r\n              {props.modOptions !== undefined && ViewModel.needsManualReview ? (<>\r\n                <PrimaryButton iconProps={{ iconName: \"Ferry\", style: { fontSize: 18 } }} style={{ minWidth: 35, padding: 0 }} onClick={OnManualApproval}\r\n                />\r\n              </>) : <></>}\r\n\r\n              {props.modOptions !== undefined && ViewModel.awaitingLaunchApproval && !ViewModel.needsManualReview ? (<>\r\n                <PrimaryButton iconProps={{ iconName: \"Rocket\", style: { fontSize: 18 } }} style={{ minWidth: 35, padding: 0 }} onClick={OnLaunchApproval} />\r\n              </>) : <></>}\r\n\r\n              <DocumentCardActions styles={{ root: { padding: 0 } }} actions={projectCardActions} />\r\n            </Stack>\r\n\r\n            <Text style={{ maxWidth: 1190 }} variant=\"medium\">{ViewModel.description}</Text>\r\n\r\n          </Stack>\r\n\r\n          <div style={{ display: ((ViewModel.features.length > 0) ? 'none' : 'flex') }}>\r\n            <Image style={{ borderTop: \"2px solid midnightblue\", width: \"auto\" }} width={1200} height={675} src={ViewModel.heroImage} imageFit={ImageFit.contain} />\r\n          </div>\r\n\r\n          <Stack style={{ display: ((ViewModel.features.length > 0) ? 'flex' : 'none'), maxWidth: 1200 }} horizontal={(width > 800)}>\r\n            <Image src={ViewModel.heroImage} style={{ maxWidth: 700 }} />\r\n\r\n            <Stack style={{ margin: 15, width: '40%' }} verticalAlign=\"space-between\">\r\n              <Stack>\r\n                <Text variant=\"large\">Features</Text>\r\n                <Stack>\r\n                  {(ViewModel.features.map((feature, i) =>\r\n                    <Text key={i} variant=\"mediumPlus\"> {feature}</Text>\r\n                  ))}\r\n                </Stack>\r\n              </Stack>\r\n\r\n              <Stack style={{ marginTop: 15 }}>\r\n                <Text variant=\"large\">Developers</Text>\r\n                <Stack horizontal wrap style={{ marginTop: 10 }} tokens={{ childrenGap: 10 }}>\r\n\r\n                  {(ViewModel.collaborators.filter(x => x.role == \"Developer\").map((user, i) =>\r\n                    <Stack key={i}>\r\n                      <Text key={i}>{user.name}</Text>\r\n                    </Stack>\r\n                  ))}\r\n                </Stack>\r\n              </Stack>\r\n\r\n              <Stack style={{ marginTop: 15, display: (ViewModel.collaborators.filter(x => x.role == \"Beta Tester\").length > 0 ? 'flex' : 'none') }}>\r\n                <Text variant=\"large\">Beta Testers</Text>\r\n                <Stack horizontal wrap style={{ marginTop: 10 }} tokens={{ childrenGap: 10 }}>\r\n\r\n                  {(ViewModel.collaborators.filter(x => x.role == \"Beta Tester\").map((user, i) =>\r\n                    <Stack key={i}>\r\n                      <Text key={i}>{user.name}</Text>\r\n                    </Stack>\r\n                  ))}\r\n                </Stack>\r\n              </Stack>\r\n            </Stack>\r\n          </Stack>\r\n\r\n          <Stack style={{ maxWidth: 1200 }}>\r\n\r\n            <Stack horizontal wrap style={{ marginTop: 15 }} horizontalAlign=\"center\">\r\n              {(ViewModel.images.map((img, i) =>\r\n\r\n                <Image src={img} key={i} style={{ height: (width > 600 ? 600 : 'unset'), width: (width > 600 ? '600' : '100%') }} />\r\n\r\n              ))}\r\n            </Stack>\r\n\r\n          </Stack>\r\n\r\n        </Stack>\r\n      </Modal>\r\n\r\n      <PointerOnHover>\r\n        <Image onClick={async () => {\r\n          const owner = await GetOwner();\r\n          if (!owner) {\r\n            console.error(\"Owner not found\");\r\n            return;\r\n          }\r\n\r\n          GetDiscordUser(owner.discordId)\r\n            .then(owner => {\r\n              setProjectOwner(owner);\r\n              setShowProjectDetailsModal(true)\r\n            });\r\n\r\n          var images = await GetImages();\r\n          var features = await GetFeatures();\r\n          var collaborators = await GetCollaborators();\r\n\r\n          setProjectViewModel({ ...ViewModel, features: features ?? [], collaborators: collaborators ?? [], images: images ?? [] });\r\n        }}\r\n          height={150} imageFit={ImageFit.centerCover} src={ViewModel.heroImage} alt={\"Preview image for \" + ViewModel.appName} />\r\n      </PointerOnHover>\r\n\r\n      <DocumentCardDetails>\r\n        <Stack horizontal tokens={{ padding: 5 }} verticalAlign=\"center\">\r\n          {ViewModel.appIcon ?\r\n            <Image style={{ height: 30, width: 30, marginRight: 5 }} src={ViewModel.appIcon} />\r\n            : <></>}\r\n\r\n          {ViewModel.needsManualReview ?\r\n            <TooltipHost content=\"Waiting for approval\" delay={TooltipDelay.zero}>\r\n              <FontIcon style={{ fontSize: 26, padding: \"0px 5px\" }} iconName=\"Manufacturing\" />\r\n            </TooltipHost>\r\n            : <></>}\r\n\r\n          {(ViewModel.awaitingLaunchApproval && props.modOptions) ?\r\n            <TooltipHost content=\"Awaiting Launch approval\" delay={TooltipDelay.zero}>\r\n              <FontIcon style={{ fontSize: 24, padding: \"0px 5px\" }} iconName=\"Rocket\" />\r\n            </TooltipHost>\r\n            : <></>}\r\n\r\n          {/*           {ViewModel.tags.map((tag, i) => (\r\n            tag.name.includes(\"Launch \") ?\r\n              <TooltipHost content={`${tag.name} participant`} delay={TooltipDelay.zero} key={tag.id}>\r\n                <FontIcon style={{ fontSize: 24, padding: \"0px 5px\" }} iconName=\"Rocket\" />\r\n              </TooltipHost>\r\n              : <div key={tag.id}/>\r\n          ))} */}\r\n          <DocumentCardTitle styles={{ root: { padding: \"5px 5px\", height: \"auto\", fontWeight: 600 } }} title={ViewModel.appName} />\r\n        </Stack>\r\n        <Stack tokens={{ padding: \"0px 10px 10px 10px\" }}>\r\n          <Text style={{ overflowY: \"auto\", height: 60 }}>{ViewModel.description}</Text>\r\n        </Stack>\r\n        <Stack horizontal tokens={{ childrenGap: 5, padding: 5 }} verticalAlign=\"center\">\r\n          {props.editable === true ? (<>\r\n            <PrimaryButton iconProps={{ iconName: \"group\", style: { fontSize: 18 } }} style={{ minWidth: 45, padding: 0 }} onClick={() => { setShowProjectUserManagerDialog(true) }} />\r\n            <PrimaryButton iconProps={{ iconName: \"edit\", style: { fontSize: 18 } }} style={{ minWidth: 45, padding: 0 }} onClick={() => { setShowEditDialog(true) }} />\r\n            <PrimaryButton iconProps={{ iconName: \"delete\", style: { fontSize: 18 } }} style={{ minWidth: 45, padding: 0 }} onClick={() => { setShowDeleteProjectDialog(true) }} />\r\n          </>) : <></>}\r\n\r\n          {props.modOptions !== undefined && ViewModel.needsManualReview ? (<>\r\n            <PrimaryButton iconProps={{ iconName: \"Ferry\", style: { fontSize: 20 } }} style={{ minWidth: 35, padding: 0 }} onClick={OnManualApproval}\r\n            />\r\n          </>) : <></>}\r\n\r\n          {props.modOptions !== undefined && ViewModel.awaitingLaunchApproval && !ViewModel.needsManualReview ? (<>\r\n            <PrimaryButton iconProps={{ iconName: \"Rocket\", style: { fontSize: 20 } }} style={{ minWidth: 35, padding: 0 }} onClick={OnLaunchApproval} />\r\n          </>) : <></>}\r\n\r\n          <DocumentCardActions styles={{ root: { padding: 0 } }} actions={projectCardActions} />\r\n        </Stack>\r\n      </DocumentCardDetails>\r\n    </DocumentCard>\r\n  )\r\n}\r\n","import { Text, Stack, PrimaryButton, Checkbox, TextField, DefaultButton, IComboBoxOption, ComboBox, Pivot, PivotItem, IComboBox, Button, IconButton } from \"office-ui-fabric-react\";\r\nimport React, { FormEvent } from \"react\";\r\nimport { IBackendReponseError } from \"../../common/interfaces\";\r\nimport { CreateProject, ICreateProjectsRequestBody, IProject, ModifyProject, IModifyProjectsRequestBody } from \"../../common/services/projects\";\r\nimport { MicrosoftStoreAppCategories } from \"../../common/const\";\r\nimport { fetchBackend } from \"../../common/helpers\";\r\n\r\nexport interface IEditProjectDetailsFormProps {\r\n    onCancel?: Function;\r\n    onSuccess: (updatedProject?: IProject) => void;\r\n    projectData: Partial<IProject>;\r\n    editing?: boolean;\r\n};\r\n\r\n/* const roleOptions: IComboBoxOption[] = [\r\n    { key: 1, text: 'Developer', selected: true },\r\n    { key: 2, text: 'Beta tester' },\r\n    { key: 3, text: 'Translator' },\r\n    { key: 4, text: 'Other' }\r\n]; */\r\n\r\nconst categoryOptions: IComboBoxOption[] = MicrosoftStoreAppCategories.map((category, index) => {\r\n    return { key: category, text: category }\r\n});\r\n\r\nexport const EditProjectDetailsForm = (props: IEditProjectDetailsFormProps) => {\r\n    let [projectRequest, setProjectRequest] = React.useState<Partial<ICreateProjectsRequestBody>>({\r\n        isPrivate: false, awaitingLaunchApproval: false, role: \"Developer\", ...props.projectData\r\n    });\r\n\r\n    let [submissionError, setSubmissionError] = React.useState<string>(\"\");\r\n    let [showSuccessIndicator, setShowSuccessIndicator] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        getProjectImages();\r\n        getProjectFeatures();\r\n        getProjectTags();\r\n    }, [props.projectData, props.projectData.images, props.projectData.features, props.projectData.tags]);\r\n\r\n    async function getProjectImages() {\r\n        const request = await fetchBackend(`projects/images?projectId=${props.projectData.id}`, \"GET\");\r\n        const response = await request.json();\r\n\r\n        if (!response)\r\n            return;\r\n\r\n        projectRequest.images = response;\r\n\r\n        setProjectRequest({ ...projectRequest });\r\n    }\r\n\r\n    async function getProjectFeatures() {\r\n        const request = await fetchBackend(`projects/features?projectId=${props.projectData.id}`, \"GET\");\r\n        const response = await request.json();\r\n\r\n        if (!response)\r\n            return;\r\n\r\n        projectRequest.features = response;\r\n\r\n        setProjectRequest({ ...projectRequest });\r\n    }\r\n\r\n    async function getProjectTags() {\r\n        const request = await fetchBackend(`projects/tags?projectId=${props.projectData.id}`, \"GET\");\r\n        const response = await request.json();\r\n\r\n        if (!response)\r\n            return;\r\n\r\n        projectRequest.tags = response;\r\n\r\n        setProjectRequest({ ...projectRequest });\r\n    }\r\n\r\n    function toggleTagById(id: number) {\r\n        projectRequest.tags = projectRequest.tags ?? [];\r\n\r\n        if (projectRequest.tags.filter(x => x.id == id).length == 0) {\r\n            // doesn't exist, add it\r\n            projectRequest.tags.push({ id: id, name: \"\" }); // name is ignored server side.\r\n        } else {\r\n            // exists, remove it\r\n            projectRequest.tags = projectRequest.tags.filter(x => x.id != id);\r\n        }\r\n\r\n        setProjectRequest({ ...projectRequest });\r\n    }\r\n\r\n    async function submitParticipantRequest() {\r\n        let request;\r\n        if (props.editing) {\r\n            if (!props.projectData.appName) {\r\n                throw new Error(\"Unable to modify project details. Missing app name prop\");\r\n            }\r\n\r\n            props.projectData.appName = encodeURIComponent(props.projectData.appName);\r\n\r\n            request = await ModifyProject(projectRequest as IModifyProjectsRequestBody, { appName: props.projectData.appName });\r\n        } else {\r\n            request = await CreateProject(projectRequest as ICreateProjectsRequestBody);\r\n        }\r\n\r\n        let success = request.status === 200;\r\n\r\n        if (!success) {\r\n            let error: IBackendReponseError = await request.json();\r\n            if (error.error && error.reason) {\r\n                setSubmissionError(error.reason);\r\n            }\r\n        } else {\r\n            setShowSuccessIndicator(true);\r\n            setTimeout(() => {\r\n                // TODO. Make a new request to get new project details, the below only is only a temporary solution\r\n                props.onSuccess(projectRequest as IProject);\r\n            }, 2500);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Stack horizontalAlign=\"center\">\r\n            {/* Need to toggle both src and display so it trigger the animation, and space is taken up during the transition (while the svg loads) */}\r\n            <img style={{ display: (showSuccessIndicator ? \"block\" : \"none\"), height: \"200px\" }} src={showSuccessIndicator ? \"/assets/img/checkanimated.svg\" : \"\"} alt=\"Check\" />\r\n            <Stack horizontalAlign=\"start\" tokens={{ childrenGap: 10 }} style={{ maxWidth: \"100%\", width: \"300px\", display: (!showSuccessIndicator ? \"block\" : \"none\") }}>\r\n                <Pivot>\r\n                    <PivotItem headerText=\"Project\">\r\n                        <Stack tokens={{ childrenGap: 10 }}>\r\n                            <TextField label=\"Project name:\" maxLength={75}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                value={projectRequest.appName}\r\n                                required onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, appName: value })} />\r\n\r\n                            <TextField label=\"Description\" maxLength={240}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                multiline required autoAdjustHeight\r\n                                value={projectRequest.description}\r\n                                placeholder=\"Enter a brief description\"\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, description: value })} />\r\n\r\n                            <ComboBox\r\n                                label=\"Category\"\r\n                                options={categoryOptions}\r\n                                defaultSelectedKey={projectRequest.category || categoryOptions[0].key}\r\n                                onChange={(e: FormEvent<IComboBox>, option: IComboBoxOption | undefined) => {\r\n                                    if (!option) return;\r\n                                    setProjectRequest({ ...projectRequest, category: option.text });\r\n                                }} />\r\n\r\n                            <Stack tokens={{ childrenGap: 10 }}>\r\n                                <Text variant=\"medium\" style={{ fontWeight: 600 }}>Features</Text>\r\n\r\n                                {(projectRequest.features ?? []).map((feature, i) =>\r\n                                    <Stack horizontal tokens={{ childrenGap: 5 }} key={i}>\r\n                                        <TextField\r\n                                            type=\"text\"\r\n                                            styles={{ root: { width: \"100%\" } }}\r\n                                            value={feature}\r\n                                            placeholder=\"Short feature description\"\r\n                                            onChange={(e: any, value: any) => {\r\n                                                (projectRequest.features ?? [])[i] = value;\r\n                                                setProjectRequest({ ...projectRequest });\r\n                                            }} />\r\n\r\n                                        <IconButton iconProps={{ iconName: \"Cancel\" }} onClick={() => setProjectRequest({ ...projectRequest, features: [...((projectRequest.features ?? []).filter((x, index) => i != index))] })} />\r\n                                    </Stack>\r\n                                )}\r\n\r\n                                <DefaultButton style={{ marginTop: 5, display: ((projectRequest.features?.length ?? 0) >= 7) ? \"none\" : \"block\" }} text=\"+ Add Feature\" onClick={() => {\r\n                                    setProjectRequest({ ...projectRequest, features: [...(projectRequest.features ?? []), \"\"] })\r\n                                }} />\r\n                            </Stack>\r\n\r\n                            <Checkbox label=\"Don't display this project publicly\"\r\n                                checked={projectRequest.isPrivate}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, isPrivate: value })} />\r\n                        </Stack>\r\n                    </PivotItem>\r\n                    <PivotItem headerText=\"Images\">\r\n                        <Stack tokens={{ childrenGap: 10 }}>\r\n                            <TextField label=\"Project icon\"\r\n                                type=\"url\"\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                value={projectRequest.appIcon}\r\n                                placeholder=\"Your project's icon, if applicable\"\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, appIcon: value })} />\r\n\r\n                            <TextField label=\"Hero image\"\r\n                                type=\"url\"\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                required\r\n                                value={projectRequest.heroImage}\r\n                                placeholder=\"Link to an image of your project\"\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, heroImage: value })} />\r\n\r\n                            <DefaultButton style={{ marginTop: 25, display: ((projectRequest.images?.length ?? 0) >= 5) ? \"none\" : \"block\" }} text=\"Add more images\" onClick={() => {\r\n                                setProjectRequest({ ...projectRequest, images: [...(projectRequest.images ?? []), \"\"] })\r\n                            }} />\r\n\r\n                            {(projectRequest.images ?? []).map((url, i) =>\r\n                                <Stack horizontal tokens={{ childrenGap: 5 }} key={i}>\r\n                                    <TextField\r\n                                        type=\"url\"\r\n                                        styles={{ root: { width: \"100%\" } }}\r\n                                        value={url}\r\n                                        placeholder=\"Link to an image of your project\"\r\n                                        onChange={(e: any, value: any) => {\r\n                                            (projectRequest.images ?? [])[i] = value;\r\n                                            setProjectRequest({ ...projectRequest });\r\n                                        }} />\r\n\r\n                                    <IconButton iconProps={{ iconName: \"Cancel\" }} onClick={() => setProjectRequest({ ...projectRequest, images: [...((projectRequest.images ?? []).filter((x, index) => i != index))] })} />\r\n                                </Stack>\r\n                            )}\r\n                        </Stack>\r\n                    </PivotItem>\r\n                    <PivotItem headerText=\"Links\">\r\n                        <Stack tokens={{ childrenGap: 10 }}>\r\n                            <TextField label=\"Download link\"\r\n                                value={projectRequest.downloadLink}\r\n                                disabled={!props.editing && props.projectData.downloadLink !== undefined}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, downloadLink: value })} />\r\n\r\n                            <TextField label=\"GitHub link\"\r\n                                value={projectRequest.githubLink}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, githubLink: value })} />\r\n\r\n                            <TextField label=\"External link\"\r\n                                value={projectRequest.externalLink}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, externalLink: value })} />\r\n\r\n                        </Stack>\r\n                    </PivotItem>\r\n\r\n                    <PivotItem headerText=\"More\">\r\n                        <Stack style={{ marginTop: 7 }} tokens={{ childrenGap: 10 }}>\r\n                            {/*                             <Checkbox label=\"Participation in Launch 2021\" disabled\r\n                                checked={projectRequest.awaitingLaunchApproval}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, awaitingLaunchApproval: value })} />\r\n\r\n                            <Text style={{ display: projectRequest.awaitingLaunchApproval ? \"block\" : \"none\" }}>A moderator will contact you over Discord for the review process.</Text> */}\r\n\r\n                            <Text>This project is powered by:</Text>\r\n\r\n                            <Checkbox label=\"Uno Platform\"\r\n                                checked={(projectRequest.tags ?? []).filter(x => x.id == 6).length > 0}\r\n                                onChange={(e: any, value: any) => toggleTagById(6)} />\r\n\r\n                            <Checkbox label=\"Windows Community Toolkit\"\r\n                                checked={(projectRequest.tags ?? []).filter(x => x.id == 5).length > 0}\r\n                                onChange={(e: any, value: any) => toggleTagById(5)} />\r\n                        </Stack>\r\n                    </PivotItem>\r\n                </Pivot>\r\n\r\n                <Text style={{ color: \"red\" }}>{submissionError}</Text>\r\n                <Stack horizontal tokens={{ childrenGap: 10 }} horizontalAlign=\"space-evenly\" style={{ marginTop: 20 }}>\r\n                    {\r\n                        props.onCancel ?\r\n                            <DefaultButton text=\"Cancel\" onClick={() => props.onCancel ? props.onCancel() : undefined} />\r\n                            : \"\"\r\n                    }\r\n                    <PrimaryButton text={props.editing ? \"Update\" : \"Register\"} onClick={submitParticipantRequest} />\r\n                </Stack>\r\n            </Stack>\r\n        </Stack>\r\n    )\r\n};\r\n","import { Text, Stack, PrimaryButton, TextField, DefaultButton, TooltipHost, IconButton, Icon, ITheme, createTheme, Separator, BaseButton, Spinner, SpinnerSize, DialogType, DialogFooter, Dialog, Modal, Image } from \"office-ui-fabric-react\";\r\nimport React from \"react\";\r\nimport { IBackendReponseError } from \"../common/interfaces\";\r\nimport { CreateUser, GetUserProjects, IUser, ModifyUser } from \"../common/services/users\";\r\nimport { CurrentUser, GetDiscordUser, GetUserAvatar, IDiscordUser } from \"../common/services/discord\";\r\nimport { fetchBackend } from \"../common/helpers\";\r\nimport { ProjectCard } from './ProjectCard';\r\nimport { GetProjectCollaborators, IProject, IProjectCollaborator } from \"../common/services/projects\";\r\nimport styled from \"styled-components\";\r\n\r\nexport interface IUserManagerProps {\r\n    project: IProject;\r\n};\r\n\r\ninterface IUserManagerItem {\r\n    collaborator: IProjectCollaborator;\r\n    discordUser: IDiscordUser;\r\n    avatarUrl: string;\r\n}\r\n\r\ninterface IRoleGroups {\r\n    [key: string]: IUserManagerItem[];\r\n}\r\n\r\nexport const UserManager = (props: IUserManagerProps) => {\r\n    const [loading, setLoading] = React.useState<boolean>(false);\r\n    const [error, setError] = React.useState<string>(\"\");\r\n    const [users, setUsers] = React.useState<IProjectCollaborator[]>([]);\r\n\r\n    let [groupedUsers, setGroupedUsers] = React.useState<IRoleGroups>({\r\n        \"Developer\": [],\r\n        \"Translator\": [],\r\n        \"Beta Tester\": [],\r\n        \"Other\": [],\r\n        \"Advocate\": [],\r\n        \"Lead\": [],\r\n        \"Support\": [],\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        getProjectCollaborators(props.project);\r\n    }, []);\r\n\r\n    async function removeCollaborator(collaborator: IProjectCollaborator, role: string) {\r\n        const removeCollaboratorReq = await fetchBackend(`projects/collaborators`, \"DELETE\", {\r\n            userId: collaborator.id,\r\n            role: role,\r\n            projectId: props.project.id,\r\n        });\r\n\r\n        if (removeCollaboratorReq.status !== 200) {\r\n            setError(\"Error while removing collaborator. \" + (await removeCollaboratorReq.json()).reason || removeCollaboratorReq.statusText);\r\n            return;\r\n        }\r\n\r\n        removeUserFromView(role, collaborator);\r\n    }\r\n\r\n    function removeUserFromView(role: string, collaborator: IProjectCollaborator) {\r\n        const newGrouping = { ...groupedUsers };\r\n\r\n        var originalSize = newGrouping[role].length;\r\n\r\n        newGrouping[role] = newGrouping[role].filter(x => x.collaborator.id != collaborator.id);\r\n\r\n        if (newGrouping[role].length == originalSize) {\r\n            setError(\"Internal error: tried removing a project that doesn't exist.\");\r\n            return;\r\n        }\r\n\r\n        setGroupedUsers(newGrouping);\r\n\r\n        setUsers(users.filter(x => x.id != collaborator.id));\r\n    }\r\n\r\n    async function getProjectCollaborators(project: IProject) {\r\n        setLoading(true);\r\n\r\n        const collaborators = await GetProjectCollaborators(project.id);\r\n        setUsers(collaborators);\r\n\r\n        setLoading(false);\r\n\r\n        if (collaborators.length == 0) {\r\n            return;\r\n        }\r\n\r\n        const newGrouping = { ...groupedUsers };\r\n\r\n        for (const collaborator of collaborators) {\r\n            if (newGrouping[collaborator.role].filter(x => x.collaborator.id == collaborator.id).length > 0)\r\n                continue;\r\n\r\n            var discordUser = await GetDiscordUser(collaborator.discordId);\r\n            if (!discordUser)\r\n                return;\r\n\r\n            var avatarUrl = await GetUserAvatar(discordUser);\r\n            if (!avatarUrl)\r\n                return;\r\n\r\n            newGrouping[collaborator.role].push({ collaborator, discordUser, avatarUrl });\r\n        }\r\n\r\n        setGroupedUsers(newGrouping);\r\n    }\r\n\r\n    const separatorTheme: ITheme = createTheme({\r\n        fonts: {\r\n            medium: {\r\n                fontSize: '20px',\r\n            },\r\n        },\r\n    });\r\n\r\n\r\n    return (\r\n        <Stack tokens={{ childrenGap: 20 }} horizontalAlign=\"center\">\r\n            <Stack tokens={{ childrenGap: 5 }}>\r\n                <Stack horizontal tokens={{ childrenGap: 7 }} horizontalAlign=\"center\">\r\n                    <Image style={{ height: 35, width: 35 }} src={props.project.appIcon} />\r\n                    <Stack horizontal tokens={{ childrenGap: 7 }} verticalAlign=\"baseline\">\r\n                        <Text variant=\"xxLarge\">{props.project.appName}</Text>\r\n                        <Text variant=\"large\">collaborators</Text>\r\n                    </Stack>\r\n                </Stack>\r\n\r\n                <Text variant=\"small\">{props.project.description}</Text>\r\n            </Stack>\r\n\r\n            {(\r\n                (error != \"\" ?\r\n                    <Stack>\r\n                        <Text>{error}</Text>\r\n                        <PrimaryButton onClick={() => setError(\"\")}>OK</PrimaryButton>\r\n                    </Stack> :\r\n\r\n                    loading ?\r\n                        <Spinner label=\"Loading...\" size={SpinnerSize.large} />\r\n                        :\r\n\r\n                        (Object.entries(groupedUsers).map(([key, users], i) =>\r\n                        (\r\n                            users.length == 0 ? <div key={\"UserManagerSection\" + key + i} /> :\r\n                                <Stack tokens={{ childrenGap: 10 }} key={\"UserManagerSection\" + key + i}>\r\n                                    <Separator theme={separatorTheme}>{key}</Separator>\r\n                                    <Stack horizontal wrap tokens={{ childrenGap: 10 }} style={{ maxWidth: 1000 }}>\r\n                                        {(\r\n                                            users.map((item, i) =>\r\n                                                <Stack horizontalAlign=\"end\" key={\"UserManagerItem\" + item.collaborator.id + item.collaborator.role}>\r\n\r\n                                                    <BaseButton style={{ width: 25, padding: 0, backgroundColor: \"transparent\", outline: \"none\", borderColor: \"transparent\" }} disabled={item.collaborator.isOwner}\r\n                                                        onClick={() => {\r\n                                                            if (window.confirm(`User will lose access to channels or services for this project, and will need to be re-added by a project manager to regain access.\\n\\nUser will be removed. Are you sure?`)) {\r\n                                                                removeCollaborator(item.collaborator, key);\r\n                                                            }\r\n                                                        }}>\r\n                                                        <Icon iconName=\"Cancel\" style={{ fontSize: 14, padding: 3 }}\r\n                                                            title={item.collaborator.isOwner ? \"You cannot remove the owner from this project.\" : \"Remove this user\"} ariaLabel=\"Remove user\" />\r\n                                                    </BaseButton>\r\n\r\n                                                    <Stack style={{ marginTop: 5, width: 115, }} horizontalAlign=\"center\">\r\n                                                        <Image style={{ height: 75, width: 75, borderRadius: 100 }} src={item.avatarUrl} />\r\n                                                        <Text>{item.collaborator.name}</Text>\r\n                                                        <Text variant=\"xSmall\">a.k.a. {item.discordUser?.username}</Text>\r\n                                                    </Stack>\r\n                                                </Stack>\r\n                                            )\r\n                                        )}\r\n                                    </Stack>\r\n                                </Stack>\r\n                        )\r\n\r\n                        ))))}\r\n\r\n            {!loading && users.length < 2 ?\r\n                <Stack tokens={{ childrenGap: 20 }}>\r\n                    <Stack tokens={{ childrenGap: 4 }} horizontalAlign=\"center\">\r\n                        <Text variant=\"large\">You aren't collaborating on this project.</Text>\r\n                        <Text>Collab services are available for projects that can actively use it.</Text>\r\n                    </Stack>\r\n\r\n                    <Stack tokens={{ childrenGap: 4 }} horizontalAlign=\"center\">\r\n                        <Text variant=\"small\">Includes role management for your testers, translators, developers, patreons, support team and more, with a dedicated channel for your project.</Text>\r\n                        <Text variant=\"small\">Ask a mod to get started!</Text>\r\n                    </Stack>\r\n                </Stack>\r\n                : <></>}\r\n        </Stack>\r\n    )\r\n};","import * as React from \"react\";\r\nimport { Stack, Spinner, FontIcon, Text } from \"office-ui-fabric-react\";\r\nimport { isReactSnap, usePromise } from \"../common/helpers\";\r\n\r\ninterface IPromiseVisualizerProps<T> {\r\n    loadingMessage?: string\r\n    loadingStyle?: React.CSSProperties\r\n    errorStyle?: React.CSSProperties\r\n    onResolve: (result: T) => void\r\n    promise?: Promise<T>\r\n    children?: React.ReactNode\r\n}\r\n\r\n// This component, while it works, is the source of much pain. Poor performance, failing puppeteer crawls, etc.\r\n// TODO: Nuke and try again.\r\nexport function PromiseVisualizer<T>(props: IPromiseVisualizerProps<T>) {\r\n    const promiseState = usePromise(props.promise);\r\n\r\n    if (promiseState.isLoading) {\r\n        return (\r\n            <Stack horizontalAlign=\"center\" style={props.loadingStyle}>\r\n                <Spinner label={props.loadingMessage} />\r\n            </Stack>\r\n        )\r\n    }\r\n\r\n    if (promiseState.error) {\r\n        return (\r\n            <Stack horizontalAlign=\"center\" style={props.errorStyle}>\r\n                <FontIcon iconName=\"sad\" style={{ fontSize: 55 }}></FontIcon>\r\n                <Text variant=\"xLarge\">Something went wrong</Text>\r\n            </Stack>\r\n        )\r\n    }\r\n\r\n    if (promiseState.results) {\r\n        props.onResolve(promiseState.results);\r\n        return <>{props.children}</>\r\n    }\r\n    return <></>\r\n}","import * as React from \"react\";\r\nimport { Stack, Text, FontIcon } from \"office-ui-fabric-react\";\r\nimport { GetAllProjects, IProject } from \"../common/services/projects\";\r\nimport { ProjectCard } from \"../components/ProjectCard\";\r\nimport { PromiseVisualizer } from \"../components/PromiseVisualizer\";\r\nimport { GetCurrentDiscordUser, GetUserRoles } from \"../common/services/discord\";\r\n\r\nexport const Projects = () => {\r\n  const [state, setState] = React.useState<IProject[]>();\r\n  const [isAdmin, setIsAdmin] = React.useState<boolean>(false);\r\n\r\n  React.useEffect(() => {\r\n    setupUserRoles();\r\n  }, []);\r\n\r\n  async function setupUserRoles() {\r\n    var currentUser = await GetCurrentDiscordUser();\r\n    if (!currentUser)\r\n      return;\r\n\r\n    var currentUserRoles = await GetUserRoles(currentUser);\r\n    if (!currentUserRoles)\r\n      return;\r\n\r\n    setIsAdmin(currentUserRoles.filter(x => x == \"Admin\").length > 0);\r\n  }\r\n\r\n  return (\r\n    /* Todo: Add a header with brief explanation of the below */\r\n    <Stack horizontalAlign=\"center\" horizontal wrap tokens={{ childrenGap: 10 }}>\r\n      <PromiseVisualizer promise={GetAllProjects()} onResolve={setState} loadingMessage='Loading Projects...' loadingStyle={{ padding: 25 }} errorStyle={{ padding: 25 }}>\r\n        {state && (\r\n          state.length > 0 ? state.sort((a, b) => a.appName.localeCompare(b.appName)).map((project, i) => (\r\n            <ProjectCard key={i} onProjectRemove={project => setState(state.filter(p => p.appName !== project.appName))} project={project} editable={isAdmin}></ProjectCard>\r\n          )) : (\r\n            <Stack horizontalAlign=\"center\" >\r\n              <FontIcon iconName=\"sad\" style={{ fontSize: 55 }}></FontIcon>\r\n              <Text variant=\"xLarge\">No projects, yet</Text>\r\n            </Stack>\r\n          )\r\n        )}\r\n      </PromiseVisualizer>\r\n    </Stack>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\r\n\r\nexport default styled.div`\r\n    box-shadow: ${Depths.depth8};\r\n    :hover {\r\n      box-shadow: ${Depths.depth16};\r\n    };\r\n    transition: 150ms all;\r\n`;","import React, { CSSProperties } from \"react\";\r\nimport { Stack, Text, PrimaryButton, Image, ImageFit, ImageCoverStyle } from \"office-ui-fabric-react\";\r\nimport { Links, Images } from \"../common/const\";\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport HoverBox from '../components/HoverBox';\r\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\r\nimport HomeViewData from '../assets/views/home.json';\r\n\r\nconst FaIconStyle: CSSProperties = {\r\n  color: \"black\",\r\n  height: \"65px\",\r\n  width: \"65px\"\r\n};\r\n\r\nconst LinkCard = styled.section`\r\n    font-family: Segoe UI, sans-serif;\r\n    padding: 7px;\r\n    max-width: 400px;\r\n`;\r\n\r\nlet Link = styled.a`\r\n    color: blue;\r\n    width: fit-content;\r\n    text-decoration: none;\r\n    :hover {\r\n      text-decoration: underline;\r\n    };\r\n`;\r\n\r\nlet Img = styled.img`\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n`;\r\n\r\nconst LargeCard = styled.div`\r\n  box-shadow: ${Depths.depth16};\r\n  height: min-content;\r\n  .heroImage, .heroImage img {\r\n    border: none;\r\n    display: flex;\r\n    justify-content: center;\r\n    height: 350px;\r\n  }\r\n\r\n  @media screen and (max-width: 1479px) {\r\n    width: min-content;\r\n    .heroImage, .heroImage img {\r\n        width: 700px;\r\n        height: 350px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Home: React.StatelessComponent = () => {\r\n  return (\r\n    <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 10 }}>\r\n      <p style={{ fontFamily: \"Segoe UI, Sans-Serif\", fontWeight: \"lighter\", fontSize: \"24px\", margin: 5 }}>The homepage for the unofficial Discord server </p>\r\n\r\n      <Stack horizontal wrap horizontalAlign=\"space-around\" tokens={{ childrenGap: 25 }}>\r\n\r\n        <LargeCard>\r\n          <Stack horizontal wrap horizontalAlign=\"space-evenly\">\r\n            <Image className=\"heroImage\" height=\"350\" coverStyle={ImageCoverStyle.landscape} src={Images.launchHeroImage} alt={Images.launchHeroImageAltText}/>\r\n\r\n            <Stack style={{ margin: 30, width: 350 }} tokens={{ childrenGap: 5 }} verticalAlign=\"center\">\r\n              <Text variant=\"xLarge\">{HomeViewData.main.subtitle}</Text>\r\n              <Text variant=\"mediumPlus\">{HomeViewData.main.details.map(x => <Text style={{ display: 'block', marginBottom: 10 }}>{x}</Text>)}</Text>\r\n            \r\n              <PrimaryButton text=\"See the showcase\" href=\"https://uwpcommunity.com/launch/2021\" />\r\n            </Stack>\r\n          </Stack>\r\n        </LargeCard>\r\n\r\n        <Stack wrap horizontal horizontalAlign=\"space-around\" tokens={{ childrenGap: 15 }}>\r\n          <HoverBox>\r\n            <LinkCard>\r\n              <Stack>\r\n                <Img src={Images.discordChatExample} alt={Images.discordChatExampleAltText}/>\r\n\r\n                <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\" tokens={{ childrenGap: 7 }}>\r\n                  <Stack style={{ margin: \"10px\" }} tokens={{ childrenGap: 10 }}>\r\n                    <Text>Discuss the platform with other enthusiasts, get help as a developer, and interact with the devs of your favorite apps</Text>\r\n                    <Link href={Links.discordServerInvite} target=\"_blank\"> Join our discord server </Link>\r\n                  </Stack>\r\n                  <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"discord\"]} />\r\n                </Stack>\r\n\r\n              </Stack>\r\n            </LinkCard>\r\n          </HoverBox>\r\n\r\n          <HoverBox>\r\n            <LinkCard>\r\n              <Stack>\r\n                <Img src={Images.githubOrgScreenshot} alt={Images.githubOrgScreenshotAltText}/>\r\n                <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\" tokens={{ childrenGap: 7 }}>\r\n                  <Stack style={{ margin: \"10px\" }} tokens={{ childrenGap: 10 }}>\r\n                    <Text>Many of our projects are open source, so others can learn or build with them</Text>\r\n                    <Link href={Links.githubOrganization} target=\"_blank\">See our open source projects</Link>\r\n                  </Stack>\r\n                  <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"github\"]} />\r\n                </Stack>\r\n              </Stack>\r\n            </LinkCard>\r\n          </HoverBox>\r\n\r\n          <HoverBox>\r\n            <LinkCard>\r\n              <Stack>\r\n                <Img src={Images.launchAppsHero} alt={Images.launchAppsHeroAltText}/>\r\n                <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\" tokens={{ childrenGap: 7 }}>\r\n                  <Stack style={{ margin: \"10px\" }} tokens={{ childrenGap: 10 }}>\r\n                    <Text>As a community of talented developers, each year we Launch our projects together in an annual event known as <code>Launch</code></Text>\r\n                    <Link href={Links.launch2020Medium} target=\"_blank\">Read about Launch 2020</Link>\r\n                  </Stack>\r\n                  <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"medium\"]} />\r\n                </Stack>\r\n              </Stack>\r\n            </LinkCard>\r\n          </HoverBox>\r\n\r\n        </Stack>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n","import React, { CSSProperties } from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { Text, Stack } from \"office-ui-fabric-react\";\r\n\r\nconst navLinkActiveStyle: CSSProperties = {\r\n  borderBottom: \"3px solid #5e5eff\",\r\n};\r\n\r\nconst MyNavLink = styled(NavLink)`     \r\n   color: black;\r\n   padding: 10px 12px 5px 12px;\r\n   text-align: center;\r\n   display: inline-block;\r\n   text-decoration: none;\r\n   margin: 7px;\r\n   border-bottom: 3px solid #c9c9c9;\r\n\r\n  :hover  {\r\n    text-decoration: none;    \r\n    border-bottom: 3px solid #9e9e9e;\r\n  };\r\n`;\r\n\r\nconst NavText = styled(Text)`\r\n  font-size: 18px;\r\n`;\r\n\r\nexport class NavMenu extends React.Component<any, any> {\r\n  public render(): JSX.Element {\r\n    return (\r\n      <nav>\r\n        <Stack horizontal wrap style={{ maxWidth: \"100%\" }}>\r\n          <MyNavLink to=\"/\" exact activeStyle={navLinkActiveStyle}>\r\n            <NavText>Home</NavText>\r\n          </MyNavLink>\r\n          <MyNavLink to=\"/projects\" activeStyle={navLinkActiveStyle}>\r\n            <NavText>Projects</NavText>\r\n          </MyNavLink>\r\n          <MyNavLink to=\"/launch\" activeStyle={navLinkActiveStyle}>\r\n            <NavText>Launch</NavText>\r\n          </MyNavLink>\r\n          {/* Present but not shown, so it gets crawled */}\r\n          <MyNavLink style={{ display: \"none\" }} to=\"/dashboard\" activeStyle={navLinkActiveStyle}>\r\n            <NavText>Dashboard</NavText>\r\n          </MyNavLink>\r\n        </Stack>\r\n      </nav>\r\n    );\r\n  }\r\n}","import { fetchBackend } from \"../helpers\";\r\nimport { IProject } from \"./projects\";\r\n\r\nexport async function CreateUser(userData: IUser): Promise<Response> {\r\n    return await fetchBackend(\"user\", \"POST\", userData);\r\n}\r\n\r\nexport async function ModifyUser(userData: IUser) {\r\n    return await fetchBackend(\"user\", \"PUT\", userData);\r\n}\r\n\r\nexport async function GetUser(discordId: string) {\r\n    return await fetchBackend(`user/${discordId}`, \"GET\");\r\n}\r\n\r\nexport async function GetUserProjects(discordId: string): Promise<IProject[]> {\r\n    return (await fetchBackend(`user/${discordId}/projects`, \"GET\")).json();\r\n}\r\n\r\nexport interface IUser {\r\n    id?: number;\r\n    name: string;\r\n    discordId: string;\r\n    email?: string; // This is a contact email supplied by the user, and is safe to be public \r\n}","import { Text, Stack, PrimaryButton, TextField, DefaultButton } from \"office-ui-fabric-react\";\r\nimport React from \"react\";\r\nimport { IBackendReponseError } from \"../../common/interfaces\";\r\nimport { CreateUser, IUser, ModifyUser } from \"../../common/services/users\";\r\nimport { CurrentUser } from \"../../common/services/discord\";\r\n\r\nexport interface IRegisterDevProps {\r\n    onCancel?: Function;\r\n    onSuccess: (user: IUser) => void;\r\n    userData?: IUser;\r\n    modifying?: boolean;\r\n};\r\n\r\nexport const RegisterUserForm = (props: IRegisterDevProps) => {\r\n    let [userRequest, setUserRequest] = React.useState<IUser>(props.userData ? props.userData : {\r\n        discordId: CurrentUser.id,\r\n        name: \"\"\r\n    });\r\n\r\n    let [submissionError, setSubmissionError] = React.useState<string>(\"\");\r\n    let [showSuccessIndicator, setShowSuccessIndicator] = React.useState(false);\r\n\r\n    async function addUser() {\r\n        if (!userRequest) return;\r\n\r\n        let request = props.modifying ? await ModifyUser(userRequest)\r\n            : await CreateUser(userRequest);\r\n\r\n        let success = request.status === 200;\r\n\r\n        if (!success) {\r\n            let error: IBackendReponseError = await request.json();\r\n            if (error.error && error.reason) {\r\n                setSubmissionError(error.reason);\r\n            }\r\n        } else {\r\n            setShowSuccessIndicator(true);\r\n            setTimeout(() => {\r\n                props.onSuccess(userRequest);\r\n            }, 2500);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 10 }}>\r\n            {/* Need to toggle both src and display so it trigger the animation, and space is taken up during the transition (while the svg loads) */}\r\n            <img style={{ display: (showSuccessIndicator ? \"block\" : \"none\"), height: \"200px\" }} src={showSuccessIndicator ? \"/assets/img/checkanimated.svg\" : \"\"} alt=\"Check\" />\r\n            <Stack horizontalAlign=\"start\" tokens={{ childrenGap: 7 }} style={{ maxWidth: \"100%\", width: \"300px\", display: (!showSuccessIndicator ? \"block\" : \"none\") }}>\r\n                <Stack>\r\n                    <TextField label=\"Name:\"\r\n                        description=\"Friendly name for other users/devs to see\"\r\n                        defaultValue={props.userData ? props.userData.name : \"\"}\r\n                        styles={{ root: { width: \"100%\" } }}\r\n                        required\r\n                        onChange={(e: any, value: any) => setUserRequest({ ...userRequest, name: value })} />\r\n\r\n                    <TextField label=\"Contact email:\"\r\n                        description=\"Optional. An email where users or devs can reach you.\"\r\n                        defaultValue={props.userData ? props.userData.email : \"\"}\r\n                        styles={{ root: { width: \"100%\" } }}\r\n                        onChange={(e: any, value: any) => setUserRequest({ ...userRequest, email: value })} />\r\n\r\n                    <Text variant=\"small\" style={{ marginTop: 10, marginBottom: 10 }}>When you leave the Discord server, any data or projects you register with us will be removed automatically.</Text>\r\n\r\n                    <Text style={{ color: \"red\" }}>{submissionError}</Text>\r\n                </Stack>\r\n\r\n                <Stack horizontal tokens={{ childrenGap: 10 }}>\r\n                    <PrimaryButton text={props.modifying ? \"Update\" : \"Register\"}\r\n                        onClick={addUser} />\r\n                    {\r\n                        props.onCancel ?\r\n                            <DefaultButton text=\"Cancel\" onClick={() => props.onCancel ? props.onCancel() : undefined} />\r\n                            : \"\"\r\n                    }\r\n                </Stack>\r\n            </Stack>\r\n        </Stack>\r\n    )\r\n};","import * as React from \"react\";\r\nimport { Stack, Link, Text, PrimaryButton, Persona, TooltipHost, TooltipDelay, DefaultButton, IContextualMenuProps, IContextualMenuItem, PersonaSize, Dialog, DialogFooter, DialogType } from \"office-ui-fabric-react\";\r\nimport { Images, Links } from \"../common/const\";\r\nimport { NavMenu } from \"./NavMenu\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { CSSProperties } from \"react\";\r\nimport { Route } from 'react-router-dom';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { GetUserAvatar, GetCurrentDiscordUser, IDiscordUser, AuthData, IsUserInServer, discordAuthEndpoint } from \"../common/services/discord\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { getHeadTitle } from \"../common/helpers\";\r\nimport { History } from \"history\";\r\nimport { RegisterUserForm } from \"./forms/RegisterUser\";\r\nimport { GetUser, IUser } from \"../common/services/users\";\r\n\r\nconst FaIconStyle: CSSProperties = {\r\n  color: \"white\",\r\n  height: \"20px\",\r\n  width: \"20px\",\r\n  paddingLeft: \"10px\"\r\n};\r\n\r\nexport const AppHeader: React.StatelessComponent = (props: any) => {\r\n  return (\r\n    <Route render={({ history }) => (\r\n      <header style={{ marginBottom: \"10px\", maxWidth: \"98vw\" }}>\r\n        <Stack style={{ width: \"98vw\", margin: \"0px\" }} horizontal wrap tokens={{ childrenGap: 10 }} verticalAlign='end' horizontalAlign=\"space-around\">\r\n          <Helmet>\r\n            <title>{getHeadTitle(props.location.pathname)}</title>\r\n          </Helmet>\r\n          <Link href=\"/\">\r\n            {/* This is an img and not an Image from FabricUI because when rendered on the live server, the image randomly doesn't show */}\r\n            <img style={{ maxWidth: \"100vw\" }} src={Images.uwpCommunityLogo} alt=\"Uwp Community Logo\" />\r\n          </Link>\r\n\r\n          <NavMenu />\r\n\r\n          <SignInButton history={history} />\r\n        </Stack>\r\n\r\n      </header>\r\n    )} />\r\n  );\r\n};\r\n\r\nexport const SignInButton: React.FC<{ history: History }> = ({ history }) => {\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [discordUser, setDiscordUser] = React.useState<IDiscordUser>();\r\n  const [user, setUser] = React.useState<IUser>();\r\n  const [userAvatar, setUserAvatar] = React.useState<string>();\r\n  const [joinServerAlertHidden, setJoinServerAlertHidden] = React.useState(true);\r\n  const [registerUserShown, setRegisterUserShown] = React.useState(false);\r\n  const [editProfileShown, setEditProfileShown] = React.useState(false);\r\n  const [policyConfirmationShown, setPolicyConfirmationShown] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setupLoggedInUser();\r\n  }, []);\r\n\r\n  async function setupLoggedInUser() {\r\n    const discordUser = await GetCurrentDiscordUser();\r\n    const avatarUrl = await GetUserAvatar(discordUser);\r\n\r\n    if (!discordUser || !avatarUrl) return;\r\n    setLoggedIn(true);\r\n    setDiscordUser(discordUser);\r\n\r\n    let userIsInServer = await IsUserInServer();\r\n    if (false && !userIsInServer) {\r\n      setJoinServerAlertHidden(false);\r\n      return;\r\n    }\r\n\r\n    const userRequest = await GetUser(discordUser.id);\r\n    if (userRequest.status === 404) {\r\n      // User isn't registered\r\n      setRegisterUserShown(true);\r\n      return;\r\n    }\r\n    if (userRequest && userRequest.status !== 200) throw new Error(await userRequest.text());\r\n\r\n    let user: IUser = await userRequest.json();\r\n\r\n    setUser(user);\r\n    setUserAvatar(avatarUrl);\r\n  }\r\n\r\n  const LoggedInButtonDropdownItems: IContextualMenuProps = {\r\n    onItemClick: OnMenuItemClick,\r\n    useTargetWidth: true,\r\n    items: [{\r\n      key: \"dashboard\",\r\n      text: \"Dashboard\",\r\n      iconProps: { iconName: \"ViewDashboard\" }\r\n    }, {\r\n      /* Todo: Only show this button if the user HAS a profile to edit */\r\n      key: \"editProfile\",\r\n      text: \"Edit Public Profile\",\r\n      iconProps: { iconName: \"EditContact\" }\r\n    }, {\r\n      key: \"logOut\",\r\n      text: \"Log out\",\r\n      iconProps: { iconName: \"SignOut\" }\r\n    }]\r\n  }\r\n\r\n  function OnMenuItemClick(ev?: React.MouseEvent<HTMLElement, MouseEvent> | React.KeyboardEvent<HTMLElement> | undefined, item?: IContextualMenuItem | undefined) {\r\n    if (!item) return;\r\n\r\n    switch (item.key) {\r\n      case \"logOut\":\r\n        LogOut();\r\n        break;\r\n      case \"dashboard\":\r\n        history.push(\"/dashboard\");\r\n        break;\r\n      case \"editProfile\":\r\n        setEditProfileShown(true);\r\n        break;\r\n    }\r\n  }\r\n\r\n  function LogOut() {\r\n    AuthData.Clear();\r\n    history.push(\"/\");\r\n    window.location.reload();\r\n  }\r\n\r\n  function CloseJoinServerDialog() {\r\n    setJoinServerAlertHidden(true);\r\n    LogOut();\r\n  }\r\n\r\n\r\n  return (\r\n    loggedIn && discordUser ?\r\n      <Stack>\r\n        <Dialog\r\n          hidden={joinServerAlertHidden}\r\n          dialogContentProps={{\r\n            type: DialogType.normal,\r\n            title: \"Join the Community to continue\",\r\n            subText: \"Looks like you aren't part of the UWP Community. To sign in, you'll need to join the server first\"\r\n          }}\r\n          modalProps={{\r\n            isBlocking: true,\r\n            styles: { main: { maxWidth: 450 } }\r\n          }}\r\n        >\r\n          <DialogFooter>\r\n            <PrimaryButton href={Links.discordServerInvite} text=\"Join the server\" />\r\n            <DefaultButton onClick={CloseJoinServerDialog} text=\"Sign out\" />\r\n          </DialogFooter>\r\n        </Dialog>\r\n        <TooltipHost content={`Logged in as ${discordUser.username}`} delay={TooltipDelay.long}>\r\n          <DefaultButton style={{ padding: \"25px\", border: \"0px solid black\" }} menuProps={LoggedInButtonDropdownItems}>\r\n            <Persona size={PersonaSize.size40} text={discordUser.username} imageUrl={userAvatar} />\r\n          </DefaultButton>\r\n        </TooltipHost>\r\n\r\n        <Dialog hidden={!editProfileShown && !registerUserShown} dialogContentProps={{ type: DialogType.largeHeader, title: registerUserShown ? \"One more step\" : \"Edit Public Profile\" }}>\r\n          <div style={{ marginTop: -10 }}>\r\n            {registerUserShown ?\r\n              <Text variant=\"mediumPlus\" style={{ marginTop: 10 }}>Complete your profile to get started</Text>\r\n              : <></>}\r\n            <RegisterUserForm modifying={editProfileShown} userData={user} onSuccess={user => { setRegisterUserShown(false); setEditProfileShown(false); setUser(user); }} onCancel={!registerUserShown ? () => setEditProfileShown(false) : undefined} />\r\n          </div>\r\n        </Dialog>\r\n      </Stack>\r\n      :\r\n      <>\r\n        <Stack verticalAlign=\"start\" style={{ marginBottom: \"22px\" }}>\r\n          <PrimaryButton onClick={() => setPolicyConfirmationShown(true)} style={{ padding: \"18px\" }} aria-label=\"Sign in using Discord\">\r\n            <Text>Sign in</Text>\r\n            <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"discord\"]} />\r\n          </PrimaryButton>\r\n        </Stack>\r\n        <Dialog dialogContentProps={{ type: DialogType.normal, title: \"Please confirm\", showCloseButton: true }} hidden={!policyConfirmationShown}>\r\n          By logging in, you confirm that you have read and agree to our <NavLink onClick={() => setPolicyConfirmationShown(false)} to=\"/privacy-policy\">Privacy Policy</NavLink> and that you are at least 13 years of age.\r\n\r\n          <DialogFooter>\r\n            <PrimaryButton onClick={() => {\r\n              setPolicyConfirmationShown(false);\r\n              window.location.href = discordAuthEndpoint;\r\n            }} text=\"I agree\" />\r\n            <DefaultButton onClick={() => setPolicyConfirmationShown(false)} text=\"I don't agree\" />\r\n          </DialogFooter>\r\n        </Dialog>\r\n      </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Text, Stack, Image, ImageCoverStyle, ImageFit, Link, DefaultButton, PrimaryButton } from \"office-ui-fabric-react\";\r\n\r\nimport { Images } from \"../common/const\";\r\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\r\nimport { IProject, GetLaunchProjects } from \"../common/services/projects\";\r\nimport { ProjectCard } from \"../components/ProjectCard\";\r\nimport { GetCurrentDiscordUser, IDiscordUser } from \"../common/services/discord\";\r\nimport { PromiseVisualizer } from \"../components/PromiseVisualizer\";\r\nimport ReactMarkdown from 'react-markdown'\r\nimport styled from \"styled-components\";\r\nimport LaunchViewData from '../assets/views/launch.json';\r\nimport { isReactSnap } from \"../common/helpers\";\r\n\r\nconst PaddedProjectHolder = styled.div`\r\n    padding: 20px 0px 20px 0px;\r\n\r\n    @media screen and (min-width: 1200px) {\r\n        padding: 20px 100px 20px 100px;\r\n    }\r\n\r\n`;\r\n\r\nconst MarkdownRenderer = styled(ReactMarkdown)`\r\n    * {\r\n        font-family: \"Segoe UI\"\r\n    }\r\n`;\r\n\r\nconst LargeCard = styled.div`\r\nbox-shadow: ${Depths.depth16};\r\n.heroImage, .heroImage img {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 850px;\r\n}\r\n\r\nwidth: min-content;\r\n\r\n`;\r\n\r\nexport const Launch = () => {\r\n    const [launch2020Projects, setLaunch2020Projects] = React.useState<IProject[]>();\r\n    const [launch2019Projects, setLaunch2019Projects] = React.useState<IProject[]>();\r\n    const [launchMarkdown, setLaunchMarkdown] = React.useState<string>();\r\n    const [user, setUser] = React.useState<IDiscordUser>();\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            setUser(await GetCurrentDiscordUser());\r\n        })();\r\n    }, []);\r\n\r\n    async function getLaunchDetailsMarkdown(): Promise<string> {\r\n        if (isReactSnap)\r\n            return \"\";\r\n\r\n        var res = await fetch(\"../assets/views/launch2021.md\");\r\n        if (!res)\r\n            return Promise.reject();\r\n\r\n        if (res.status !== 200)\r\n            return Promise.reject(res.statusText);\r\n\r\n        var body = await res.text();\r\n        return body;\r\n    }\r\n\r\n    return (\r\n        <Stack tokens={{ childrenGap: 25 }} horizontalAlign=\"center\">\r\n\r\n            <LargeCard>\r\n                <Stack horizontal wrap>\r\n                    <Image className=\"heroImage\" src={Images.launchHeroImage} coverStyle={ImageCoverStyle.landscape} />\r\n                    <Stack style={{ margin: \"20px 50px 20px 50px\" }}>\r\n\r\n                        <Text style={{ fontFamily: \"Segoe UI\", fontSize: \"30px\", fontWeight: \"lighter\" }}>{LaunchViewData.main.title}</Text>\r\n\r\n                        <Text style={{ margin: \"10px\", fontWeight: 500 }} variant=\"xLarge\">{LaunchViewData.main.subtitle}</Text>\r\n                        {\r\n                            LaunchViewData.main.details.map(x => {\r\n                                return (\r\n                                    <Text style={{ margin: \"10px\" }} variant=\"mediumPlus\" key={x}>{x}</Text>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                        <PrimaryButton href=\"https://uwpcommunity.com/launch/2021\" style={{ textAlign: \"center\" }} disabled={false}>View Showcase</PrimaryButton>\r\n\r\n                        <PromiseVisualizer promise={getLaunchDetailsMarkdown()} onResolve={setLaunchMarkdown} loadingMessage=\"Loading launch details...\">\r\n                            <MarkdownRenderer>\r\n                                {launchMarkdown}\r\n                            </MarkdownRenderer>\r\n                        </PromiseVisualizer>\r\n                    </Stack>\r\n                </Stack>\r\n            </LargeCard>\r\n\r\n            <PromiseVisualizer promise={GetLaunchProjects(2020)} onResolve={setLaunch2020Projects} loadingMessage=\"Checking for Launch 2020 Participants\">\r\n                <PaddedProjectHolder>\r\n                    <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 15 }}>\r\n                        <Text variant=\"xLarge\">Launch 2020 Participants</Text>\r\n                        <Stack horizontal wrap horizontalAlign=\"center\" maxWidth={1800} tokens={{ childrenGap: 25 }}>\r\n                            {launch2020Projects && launch2020Projects.length && launch2020Projects.map((project, i) =>\r\n                                <ProjectCard key={i} project={project} />\r\n                            )}\r\n                        </Stack>\r\n                    </Stack>\r\n                </PaddedProjectHolder>\r\n            </PromiseVisualizer>\r\n\r\n            <PromiseVisualizer promise={GetLaunchProjects(2019)} onResolve={setLaunch2019Projects} loadingMessage=\"Checking for Launch 2019 Participants\">\r\n                <PaddedProjectHolder>\r\n                    <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 15 }}>\r\n                        <Text variant=\"xLarge\">Launch 2019 Participants</Text>\r\n                        <Stack horizontal wrap horizontalAlign=\"center\" maxWidth={1800} tokens={{ childrenGap: 25 }}>\r\n                            {launch2019Projects && launch2019Projects.length && launch2019Projects.map((project, i) =>\r\n                                <ProjectCard key={i} project={project} />\r\n                            )}\r\n                        </Stack>\r\n                    </Stack>\r\n                </PaddedProjectHolder>\r\n            </PromiseVisualizer>\r\n        </Stack>\r\n    );\r\n};\r\n\r\n/* interface ILaunchCardProps {\r\n    header: string;\r\n    description: string;\r\n    path: string;\r\n    buttonText?: string;\r\n    buttonDisabled?: boolean;\r\n    buttonStyle?: CSSProperties;\r\n}; */\r\n","import * as React from \"react\";\r\nimport { IProject, GetAllProjects_Unfiltered } from \"../common/services/projects\";\r\nimport { Stack, Text, FontIcon } from \"office-ui-fabric-react\";\r\nimport { ProjectCard } from \"./ProjectCard\";\r\nimport { PromiseVisualizer } from \"./PromiseVisualizer\";\r\n\r\ninterface IProjectReviewPanelState {\r\n    promise: Promise<IProject[]>;\r\n    data?: IProject[];\r\n    onPromiseFullfilled?: () => {}\r\n}\r\n\r\ninterface IProjectReviewPanelProps {\r\n    type: ReviewType;\r\n}\r\n\r\nexport enum ReviewType {\r\n    ManualReview, Launch\r\n}\r\n\r\nexport const ProjectReviewPanel = (props: IProjectReviewPanelProps) => {\r\n    const [state, setState] = React.useState<IProjectReviewPanelState>({ promise: GetAllProjects_Unfiltered() });\r\n\r\n    function setProjectData(proj: IProject[]) {\r\n        switch (props.type) {\r\n            case ReviewType.ManualReview:\r\n                proj = proj.filter(proj => proj.needsManualReview); break;\r\n            case ReviewType.Launch:\r\n                proj = proj.filter(proj => proj.awaitingLaunchApproval && !proj.needsManualReview); break;\r\n        }\r\n        if (!state.data) setState({ ...state, data: proj });\r\n    }\r\n\r\n    function removeProject(project: IProject) {\r\n        // Disabled. Some bug (in React possibly?) is causing it to only remove the last item in the list, rather than updating with the new list we give it here. \r\n        return;\r\n        setState({\r\n            ...state, data: state.data?.filter(p => p.id != project.id)\r\n        });\r\n\r\n        setState(state);\r\n    }\r\n\r\n    return (\r\n            <Stack wrap horizontal tokens={{ childrenGap: 10 }} horizontalAlign=\"center\">\r\n                <PromiseVisualizer promise={state.promise} onResolve={setProjectData} loadingMessage='Loading Projects...' loadingStyle={{ padding: 25 }} errorStyle={{ padding: 25 }}>\r\n                    {state && (state.data && state.data.length > 0 ? state.data.map((project, i) => (\r\n                        <ProjectCard modOptions editable key={i} project={project} onProjectRemove={removeProject} />\r\n                    )) : (\r\n                        <Stack horizontalAlign=\"center\" verticalAlign=\"center\" tokens={{ padding: 20 }}>\r\n                            <FontIcon iconName=\"sad\" style={{ fontSize: 55 }}></FontIcon>\r\n                            <Text variant=\"xLarge\">{(() => {\r\n                                switch (props.type) {\r\n                                    case ReviewType.Launch: return \"No submissions\";\r\n                                    case ReviewType.ManualReview: return \"Nothing to review\";\r\n                                    default: return \"No projects, yet\"\r\n                                }\r\n                            })()}</Text>\r\n                        </Stack>\r\n                    )\r\n                    )}\r\n                </PromiseVisualizer>\r\n            </Stack>\r\n        )\r\n    };","import { Text, Stack, Label, Spinner } from \"office-ui-fabric-react\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { AuthData } from \"../common/services/discord\";\r\n\r\nexport const Signin: React.FC<any> = () => {\r\n\r\n    let authResponse: string | null = (new URL(window.location.href)).searchParams.get(\"authResponse\");\r\n\r\n    if (authResponse) {\r\n        authResponse = atob(authResponse);\r\n        AuthData.Set(JSON.parse(authResponse));\r\n\r\n        window.location.href = \"/dashboard\";\r\n    }\r\n\r\n    const [showRedirectLink, setShowRedirectLink] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setShowRedirectLink(true);\r\n        }, 7000);\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Stack>\r\n                <Stack horizontalAlign=\"center\">\r\n                    <Label>Signing in...</Label>\r\n                    <Spinner label=\"Hold on tight\" ariaLive=\"assertive\" />\r\n                    <Text style={{ visibility: showRedirectLink ? \"visible\" : \"hidden\" }}>If not redirected automatically, <a href=\"/dashboard\">click here</a></Text>\r\n                </Stack>\r\n            </Stack>\r\n        </div>\r\n    )\r\n};\r\n","import { EditProjectDetailsForm, IEditProjectDetailsFormProps } from './EditProjectDetailsForm';\r\nimport React from \"react\";\r\nimport { IProject } from '../../common/services/projects';\r\nimport { Stack, Text, PrimaryButton, DefaultButton, DirectionalHint, Link, TeachingBubble, TextField, FontIcon } from 'office-ui-fabric-react';\r\nimport { fetchBackend } from '../../common/helpers';\r\n\r\nexport interface ICreateProjectFormProps extends IEditProjectDetailsFormProps {\r\n\r\n};\r\n\r\nexport const CreateProjectForm = (props: ICreateProjectFormProps) => {\r\n    const [verified, setVerified] = React.useState(false);\r\n    const [codeVerificationDisplayed, setCodeVerificationDisplayed] = React.useState(false);\r\n    const [manualReviewMessageShown, setManualReviewMessageShown] = React.useState(true);\r\n    const [projectData, setProjectData] = React.useState<Partial<IProject>>({});\r\n\r\n    return (\r\n        codeVerificationDisplayed ? <ProjectCodeVerifier onCancel={() => { setCodeVerificationDisplayed(false) }} onSuccess={(projectDetails) => {\r\n            setProjectData(projectDetails);\r\n\r\n            setCodeVerificationDisplayed(false);\r\n            setVerified(true);\r\n            setManualReviewMessageShown(false);\r\n        }} />\r\n            :\r\n            verified ?\r\n                (manualReviewMessageShown ?\r\n                    <Stack tokens={{ childrenGap: 10 }}>\r\n                        <Text>After submitting your project, we'll manually verify ownership. This can take anywhere from 3 days to 2 weeks.</Text>\r\n                        <Stack horizontal tokens={{ childrenGap: 10 }} horizontalAlign=\"space-evenly\" style={{ marginTop: 20 }}>\r\n                            <DefaultButton onClick={() => {\r\n                                setManualReviewMessageShown(false);\r\n                                setVerified(false);\r\n                            }}>Go back</DefaultButton>\r\n                            <PrimaryButton onClick={() => setManualReviewMessageShown(false)}>Continue</PrimaryButton>\r\n                        </Stack>\r\n                    </Stack>\r\n                    : <EditProjectDetailsForm {...props} projectData={projectData} />)\r\n                :\r\n                <Stack tokens={{ childrenGap: 10, padding: 5 }}>\r\n                    <Text variant=\"large\">Before we begin...</Text>\r\n                    <Stack horizontal tokens={{ childrenGap: 5 }}>\r\n                        <FontIcon iconName=\"ReceiptCheck\" style={{ fontSize: 25 }} />\r\n                        <Text variant=\"medium\">Is your app public and already in the store?</Text>\r\n                    </Stack>\r\n                    <Stack horizontal tokens={{ childrenGap: 5 }}>\r\n                        <FontIcon iconName=\"ReceiptCheck\" style={{ fontSize: 25 }} />\r\n                        <Text variant=\"medium\">Do you have a \"Publisher support\" email listed on your apps' MS Store page?</Text>\r\n                    </Stack>\r\n                    <Stack style={{ marginTop: 20 }} horizontal tokens={{ childrenGap: 15 }} horizontalAlign=\"space-evenly\">\r\n                        <PrimaryButton onClick={() => { setProjectData({ ...props.projectData, ...projectData }); setVerified(true) }}>No</PrimaryButton>\r\n                        <PrimaryButton onClick={() => { setProjectData({ ...props.projectData, ...projectData }); setCodeVerificationDisplayed(true) }}>Yes</PrimaryButton>\r\n                    </Stack>\r\n                </Stack>\r\n    );\r\n};\r\n\r\ninterface IProjectCodeVerifierProps {\r\n    onSuccess: (projectDetails: Partial<IProject>) => void;\r\n    onCancel: Function;\r\n    projectData?: Partial<IProject>;\r\n}\r\nexport const ProjectCodeVerifier = (props: IProjectCodeVerifierProps) => {\r\n    enum VerficationState {\r\n        \"PreInit\", \"WaitingForCode\", \"Verified\"\r\n    }\r\n\r\n    const [storeIdTeachingBubbleTarget, setStoreIdTeachingBubbleTarget] = React.useState<MouseEvent>();\r\n    const [storeId, setStoreId] = React.useState<string>();\r\n    const [verificationCodeText, setVerificationCodeText] = React.useState<string>();\r\n    const [verificationState, setVerificationState] = React.useState<VerficationState>(VerficationState.PreInit);\r\n    const [errorMessage, setErrorMessage] = React.useState(\"\");\r\n\r\n    async function BeginVerification() {\r\n        if (!validateStoreIdField()) return;\r\n        const request = await fetchBackend(\"projects/verification\", \"POST\", {\r\n            storeId: storeId\r\n        });\r\n\r\n        if (request.status === 200) {\r\n            setVerificationState(VerficationState.WaitingForCode);\r\n        } else {\r\n            const response = await request.json();\r\n            console.error(response);\r\n            setErrorMessage(response.reason);\r\n        }\r\n    }\r\n\r\n    async function checkVerification() {\r\n        if (!validateStoreIdField()) return;\r\n        const request = await fetchBackend(`projects/verification?storeId=${storeId}&code=${verificationCodeText}`, \"GET\");\r\n\r\n        if (request.status === 200) {\r\n            setVerificationState(VerficationState.Verified);\r\n        } else {\r\n            const response = await request.json();\r\n            console.error(response);\r\n            setErrorMessage(response.reason);\r\n        }\r\n    }\r\n\r\n    function validateStoreIdField() {\r\n        if (!storeId || storeId.length < 12) {\r\n            setErrorMessage(\"Store ID is too short\");\r\n            return false;\r\n        }\r\n        setErrorMessage(\"\");\r\n        return true;\r\n    }\r\n\r\n    const hideStoreIdTeachingBubbleTimeout = {\r\n        tick: setTimeout(() => { }, 0),\r\n        onTimeout: () => {\r\n            setStoreIdTeachingBubbleTarget(undefined);\r\n        },\r\n        init: () => {\r\n            hideStoreIdTeachingBubbleTimeout.clear();\r\n            hideStoreIdTeachingBubbleTimeout.cleared = false;\r\n            hideStoreIdTeachingBubbleTimeout.tick = setTimeout(hideStoreIdTeachingBubbleTimeout.onTimeout, 1000);\r\n        },\r\n        cleared: false,\r\n        clear: () => {\r\n            hideStoreIdTeachingBubbleTimeout.cleared = true;\r\n            clearTimeout(hideStoreIdTeachingBubbleTimeout.tick);\r\n        }\r\n    };\r\n\r\n    function showStoreIdTeachingButton(event: React.MouseEvent<HTMLElement, MouseEvent>) {\r\n        hideStoreIdTeachingBubbleTimeout.clear();\r\n        setStoreIdTeachingBubbleTarget(event.nativeEvent);\r\n    }\r\n\r\n    function hideStoreIdTeachingButton() {\r\n        hideStoreIdTeachingBubbleTimeout.init();\r\n    }\r\n\r\n    function onStoreIDTextFieldKeyPress(event: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) {\r\n        if (event.key === \"Enter\") {\r\n            BeginVerification();\r\n        }\r\n    }\r\n\r\n    function onVerificationCodeTextFieldKeyPress(event: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) {\r\n        if (event.key === \"Enter\") {\r\n            checkVerification();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Stack>\r\n            {\r\n                (() => {\r\n                    switch (verificationState.valueOf()) {\r\n                        case VerficationState.PreInit:\r\n                            return <>\r\n                                {storeIdTeachingBubbleTarget !== undefined ?\r\n                                    <TeachingBubble calloutProps={{ directionalHintFixed: true, directionalHint: DirectionalHint.topAutoEdge }} target={storeIdTeachingBubbleTarget}>\r\n                                        <Stack onMouseLeave={hideStoreIdTeachingButton} onMouseOver={() => hideStoreIdTeachingBubbleTimeout.clear()} tokens={{ childrenGap: 10 }}>\r\n                                            <Text variant=\"mediumPlus\">This is the alphanumeric 12 character ID assigned to your app. It can be found in the URL for your app's store listing</Text>\r\n                                            <Text variant=\"small\"><DefaultButton target=\"_blank\" href=\"https://docs.microsoft.com/en-us/windows/uwp/publish/view-app-identity-details#link-to-your-apps-listing\">More details</DefaultButton></Text>\r\n                                        </Stack>\r\n                                    </TeachingBubble>\r\n                                    : <></>}\r\n\r\n                                <Stack tokens={{ childrenGap: 13 }}>\r\n                                    <Text>Your project can be verified automatically, and will be immediately visible to the community</Text>\r\n                                    <Stack horizontal verticalAlign=\"end\" tokens={{ childrenGap: 10 }}>\r\n                                        <Text variant=\"mediumPlus\">Enter the Store ID for your app</Text>\r\n                                        <Text variant=\"small\" style={{ color: \"gray\" }} onMouseLeave={hideStoreIdTeachingButton} ><Link onClick={showStoreIdTeachingButton}>What's this?</Link></Text>\r\n                                    </Stack>\r\n                                    <Stack grow horizontal tokens={{ childrenGap: 5 }}>\r\n                                        <TextField onKeyPress={onStoreIDTextFieldKeyPress} styles={{ field: { width: 250 } }} placeholder=\"9p75w183m6qr\" onChange={(e: any, value: any) => setStoreId(value)} />\r\n                                        <PrimaryButton onClick={() => BeginVerification()} style={{ minWidth: 25 }} iconProps={{ iconName: \"Forward\" }} />\r\n                                    </Stack>\r\n                                </Stack>\r\n                            </>;\r\n                        case VerficationState.WaitingForCode:\r\n                            return <Stack tokens={{ childrenGap: 10 }}>\r\n                                <Stack grow horizontal tokens={{ childrenGap: 5 }} verticalAlign=\"end\">\r\n                                    <FontIcon iconName=\"InboxCheck\" style={{ fontSize: 24 }} />\r\n                                    <Text variant=\"xLarge\">Check your inbox / junk mail</Text>\r\n                                </Stack>\r\n                                <Text variant=\"mediumPlus\">Enter the code we sent you</Text>\r\n                                <Stack grow horizontal tokens={{ childrenGap: 5 }}>\r\n                                    <TextField onChange={(e: any, value: any) => setVerificationCodeText(value)} onKeyPress={onVerificationCodeTextFieldKeyPress} styles={{ field: { width: 250 } }} />\r\n                                    <PrimaryButton onClick={() => checkVerification()} style={{ minWidth: 25 }} iconProps={{ iconName: \"Forward\" }} />\r\n                                </Stack>\r\n                            </Stack>;\r\n                        case VerficationState.Verified:\r\n                            return <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 15, padding: 10 }}>\r\n                                <FontIcon style={{ fontSize: 38 }} iconName=\"ReminderPerson\" />\r\n                                <Text variant=\"xxLarge\">Identity verified!</Text>\r\n                                <div style={{ display: \"none\" }}>\r\n                                    {setTimeout(() => props.onSuccess({\r\n                                        ...props.projectData,\r\n                                        needsManualReview: false,\r\n                                        downloadLink: `http://microsoft.com/store/apps/${storeId}`\r\n                                    }), 1500)}\r\n                                </div>\r\n                            </Stack>\r\n                        default:\r\n                            return <></>\r\n                    }\r\n                })()\r\n            }\r\n            <Text style={{ color: \"red\" }}>{errorMessage}</Text>\r\n        </Stack >\r\n    );\r\n};\r\n\r\n","import { Text, Stack, PrimaryButton, TextField, DefaultButton, TooltipHost, IconButton, Icon, ITheme, createTheme, Separator, BaseButton, Spinner, SpinnerSize, DialogType, DialogFooter, Dialog, Modal } from \"office-ui-fabric-react\";\r\nimport React from \"react\";\r\nimport { IBackendReponseError } from \"../common/interfaces\";\r\nimport { CreateUser, GetUserProjects, IUser, ModifyUser } from \"../common/services/users\";\r\nimport { CurrentUser } from \"../common/services/discord\";\r\nimport { fetchBackend } from \"../common/helpers\";\r\nimport { ProjectCard } from './ProjectCard';\r\nimport { IProject, IProjectCollaborator } from \"../common/services/projects\";\r\nimport styled from \"styled-components\";\r\n\r\nexport interface IRoleManagerProps {\r\n    discordId: string;\r\n};\r\n\r\ninterface IRoleManagerProject {\r\n    project: IProject;\r\n    collaborator: IProjectCollaborator;\r\n}\r\n\r\ninterface IRoleGroups {\r\n    [key: string]: IRoleManagerProject[];\r\n}\r\n\r\nexport const RoleManager = (props: IRoleManagerProps) => {\r\n    const [loading, setLoading] = React.useState<boolean>(false);\r\n    const [error, setError] = React.useState<string>(\"\");\r\n    const [projects, setProjects] = React.useState<IProject[]>([]);\r\n\r\n    let [groupedProjects, setGroupedProjects] = React.useState<IRoleGroups>({\r\n        \"Developer\": [],\r\n        \"Translator\": [],\r\n        \"Beta Tester\": [],\r\n        \"Other\": [],\r\n        \"Advocate\": [],\r\n        \"Lead\": [],\r\n        \"Support\": [],\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        getUserApps(props.discordId);\r\n    }, []);\r\n\r\n    async function removeCollaborator(projectId: number, role: string) {\r\n        const removeCollaboratorReq = await fetchBackend(`projects/collaborators`, \"DELETE\", {\r\n            discordId: props.discordId,\r\n            role: role,\r\n            projectId: projectId,\r\n        });\r\n\r\n        if (removeCollaboratorReq.status !== 200) {\r\n            setError(\"Error while removing collaborator. \" + (await removeCollaboratorReq.json()).reason || removeCollaboratorReq.statusText);\r\n            return;\r\n        }\r\n\r\n        removeProjectFromView(role, projectId);\r\n    }\r\n\r\n    function removeProjectFromView(role: string, projectId: number) {\r\n        const newGrouping = { ...groupedProjects };\r\n\r\n        var originalSize = newGrouping[role].length;\r\n\r\n        newGrouping[role] = newGrouping[role].filter(x => x.project.id != projectId);\r\n\r\n        if (newGrouping[role].length == originalSize) {\r\n            setError(\"Internal error: tried removing a project that doesn't exist.\");\r\n            return;\r\n        }\r\n\r\n        setGroupedProjects(newGrouping);\r\n\r\n        setProjects(projects.filter(x => x.id != projectId));\r\n    }\r\n\r\n    async function getUserApps(discordId: string) {\r\n        setLoading(true);\r\n\r\n        const projects = await GetUserProjects(discordId);\r\n        setProjects(projects);\r\n\r\n        if (projects.length == 0) {\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        for (const proj of projects) {\r\n            const projectCollaboratorsReq = await fetchBackend(`projects/collaborators?projectId=${proj.id}`, \"GET\");\r\n            if (projectCollaboratorsReq.status !== 200) {\r\n                console.error(`Unable to retrieve project collaborators for ${proj.appName} (id ${proj.id})`);\r\n                return;\r\n            }\r\n\r\n            var json = await projectCollaboratorsReq.json();\r\n            setLoading(false);\r\n\r\n            const collaborators = json as IProjectCollaborator[];\r\n            proj.collaborators = collaborators;\r\n\r\n            for (const collaborator of collaborators) {\r\n                if (collaborator.discordId != discordId)\r\n                    continue;\r\n\r\n                const newGrouping = { ...groupedProjects };\r\n\r\n                if (newGrouping[collaborator.role].includes({ project: proj, collaborator: collaborator }))\r\n                    continue;\r\n\r\n                newGrouping[collaborator.role].push({ project: proj, collaborator: collaborator });\r\n\r\n                setGroupedProjects(newGrouping);\r\n            }\r\n        }\r\n    }\r\n\r\n    const separatorTheme: ITheme = createTheme({\r\n        fonts: {\r\n            medium: {\r\n                fontSize: '20px',\r\n            },\r\n        },\r\n    });\r\n\r\n    return (\r\n        <Stack tokens={{ childrenGap: 15 }}>\r\n\r\n            {(\r\n                (error != \"\" ?\r\n                    <Stack>\r\n                        <Text>{error}</Text>\r\n                        <PrimaryButton onClick={() => setError(\"\")}>OK</PrimaryButton>\r\n                    </Stack> :\r\n\r\n                    loading ?\r\n                        <Spinner label=\"Loading...\" size={SpinnerSize.large} />\r\n                        :\r\n\r\n                        projects.length == 0 ?\r\n                            <Stack horizontalAlign=\"center\">\r\n                                <Separator theme={separatorTheme}>Nothing to show!</Separator>\r\n                                <Text style={{ marginTop: 10 }}>You aren't collaborating on anything</Text>\r\n                                <Text variant=\"xSmall\">or haven't registered your own projects for collaboration</Text>\r\n                            </Stack>\r\n                            :\r\n                            (Object.entries(groupedProjects).map(([key, projects], i) =>\r\n                            (\r\n                                projects.length == 0 ? <div key={\"RoleManagerSection\" + key + i} /> :\r\n                                    <Stack tokens={{ childrenGap: 10 }} key={\"RoleManagerSection\" + key + i}>\r\n                                        <Separator theme={separatorTheme}>{key}</Separator>\r\n                                        <Stack horizontal wrap tokens={{ childrenGap: 10 }}>\r\n                                            {(\r\n                                                projects.map((collaborativeProject, i) =>\r\n                                                    <Stack horizontalAlign=\"end\" key={\"roleManagerItem\" + collaborativeProject.project.id + collaborativeProject.collaborator.role}>\r\n\r\n                                                        <BaseButton style={{ width: 25, padding: 0, backgroundColor: \"transparent\", outline: \"none\", borderColor: \"transparent\" }} disabled={collaborativeProject.collaborator.isOwner}\r\n                                                            onClick={() => {\r\n                                                                if (window.confirm(`You may lose access to channels or services for this project, and will need to be re-added by a project manager to regain access.\\n\\nRole will be removed. Are you sure?`)) {\r\n                                                                    removeCollaborator(collaborativeProject.project.id, key);\r\n                                                                }\r\n                                                            }}>\r\n                                                            <Icon iconName=\"Cancel\" style={{ fontSize: 14, padding: 3 }}\r\n                                                                title={collaborativeProject.collaborator.isOwner ? \"You own this project and cannot remove this role.\" : \"Remove this role\"} ariaLabel=\"Remove role\" />\r\n                                                        </BaseButton>\r\n\r\n                                                        <Stack style={{ marginTop: 5, zIndex: 1 }}>\r\n                                                            <ProjectCard editable={collaborativeProject.collaborator.isOwner} project={collaborativeProject.project} onProjectRemove={(project) => { removeProjectFromView(key, project.id); }} />\r\n                                                        </Stack>\r\n                                                    </Stack>\r\n                                                )\r\n                                            )}\r\n                                        </Stack>\r\n                                    </Stack>\r\n                            )\r\n                            ))))}\r\n        </Stack>\r\n    )\r\n};","import { Text, Stack, Persona, PersonaSize, Icon, Link, Dialog, DialogType, DefaultButton, PrimaryButton, FontIcon, PivotItem, Pivot, Modal } from \"office-ui-fabric-react\";\r\nimport React from \"react\";\r\nimport { GetUserAvatar, GetCurrentDiscordUser, IDiscordUser, discordAuthEndpoint, GetUserRoles, AssignUserRole } from \"../common/services/discord\";\r\n\r\nimport styled from \"styled-components\";\r\nimport { CreateProjectForm } from \"../components/forms/CreateProjectForm\";\r\nimport { IProject, IProjectCollaborator } from \"../common/services/projects\";\r\nimport { ProjectCard } from \"../components/ProjectCard\";\r\nimport { RoleManager } from \"../components/RoleManager\";\r\nimport { GetUserProjects, IUser } from \"../common/services/users\";\r\nimport { ProjectReviewPanel, ReviewType } from \"../components/ProjectReviewPanel\";\r\nimport { fetchBackend } from \"../common/helpers\";\r\n\r\nconst DashboardHeader = styled.header`\r\nbackground: linear-gradient(to bottom,#005799 0,#0076d1);\r\nbox-shadow: 0 12px 45px -8px rgba(0,120,215,.35);\r\nwidth: 100vw;\r\nmargin: 0px;\r\npadding: 15px 0px;\r\n`;\r\n\r\nexport const Dashboard = () => {\r\n    const [welcomeMessage, setWelcomeMessage] = React.useState(\"Signing in...\");\r\n    const [userIcon, setUserIcon] = React.useState(\"\");\r\n    const [user, setUser] = React.useState<IDiscordUser>();\r\n\r\n    const [roles, setRoles] = React.useState<string[]>([]);\r\n\r\n    const [appRegistrationShown, setAppRegistrationShown] = React.useState(false);\r\n    const [devRegistrationShown, setDevRegistrationShown] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setupLoggedInUser();\r\n    });\r\n\r\n    async function setupLoggedInUser() {\r\n        let user: IDiscordUser | undefined = await GetCurrentDiscordUser();\r\n        if (navigator.userAgent.includes(\"ReactSnap\")) return;\r\n        if (!user) {\r\n            window.location.href = discordAuthEndpoint;\r\n            return;\r\n        }\r\n\r\n        setUser(user);\r\n\r\n        if (welcomeMessage === \"Signing in...\") setWelcomeMessage(`Welcome, ${user.username}`);\r\n        if (!userIcon) setUserIcon(await GetUserAvatar(user) || \"\");\r\n\r\n        const userRoles = await GetUserRoles(user);\r\n        if (userRoles && roles.length === 0) setRoles(userRoles);\r\n    }\r\n\r\n    async function onDevRegisterFormSuccess() {\r\n        setDevRegistrationShown(false);\r\n\r\n        AssignUserRole(\"Developer\");\r\n        setTimeout(() => {\r\n            setupLoggedInUser();\r\n        }, 1000);\r\n    }\r\n\r\n    async function onAppRegisterFormSuccess() {\r\n        setAppRegistrationShown(false);\r\n    }\r\n\r\n    const PersonaDark = styled(Persona)`\r\n    * {\r\n        &:hover {\r\n            color: white;\r\n        }\r\n        color: #f7f7f7;\r\n        font-size: 22px;\r\n    }\r\n    `;\r\n\r\n    const SectionTitleIconFontSize = 22;\r\n\r\n    const DashboardColumnFiller = styled.div`\r\n    @media only screen and (max-width: 807px) {\r\n        display: none;\r\n    } \r\n    `;\r\n\r\n    return (\r\n        <Stack tokens={{ childrenGap: 25 }}>\r\n            <DashboardHeader>\r\n                <Stack horizontal wrap style={{ padding: \"10px 0px\", margin: 0 }} verticalAlign=\"center\" horizontalAlign=\"space-evenly\" tokens={{ childrenGap: 25 }}>\r\n                    <PersonaDark size={PersonaSize.size72} styles={{ primaryText: { color: \"white\" } }} text={welcomeMessage} imageUrl={userIcon} />\r\n\r\n                    <Stack horizontal wrap verticalAlign=\"end\" tokens={{ childrenGap: 10 }} style={{ marginLeft: 10 }}>\r\n                        {roles.includes(\"Developer\") ?\r\n                            <Link style={{ color: \"white\", width: \"150px\", textDecoration: \"none\" }} onClick={() => setAppRegistrationShown(true)}>\r\n                                <Stack verticalAlign=\"end\" horizontalAlign=\"center\" tokens={{ childrenGap: 5 }}>\r\n                                    <Icon style={{ fontSize: 35, userSelect: \"none\" }} iconName=\"AppIconDefaultAdd\"></Icon>\r\n                                    <Text variant=\"mediumPlus\">Register an app</Text>\r\n                                </Stack>\r\n                            </Link>\r\n                            :\r\n                            <Link style={{ color: \"white\", width: \"170px\", textDecoration: \"none\" }} onClick={() => setDevRegistrationShown(true)}>\r\n                                <Stack verticalAlign=\"end\" horizontalAlign=\"center\" tokens={{ childrenGap: 5 }}>\r\n                                    <Icon style={{ fontSize: 35, userSelect: \"none\" }} iconName=\"code\"></Icon>\r\n                                    <Text variant=\"mediumPlus\">Become a Developer</Text>\r\n                                </Stack>\r\n                            </Link>\r\n                        }\r\n\r\n                    </Stack>\r\n                </Stack>\r\n            </DashboardHeader>\r\n\r\n\r\n            <Stack horizontalAlign=\"center\" wrap horizontal tokens={{ childrenGap: 20 }}>\r\n\r\n                <Stack style={{ margin: 50 }} horizontalAlign=\"center\" tokens={{ childrenGap: 20 }}>\r\n                    <Stack horizontalAlign=\"center\">\r\n                        <Stack horizontal tokens={{ childrenGap: 15 }}>\r\n                            <Icon iconName=\"AppIconDefaultList\" style={{ fontSize: SectionTitleIconFontSize }} />\r\n                            <Text variant=\"xLarge\" style={{ fontWeight: 600 }}>Your Projects</Text>\r\n                        </Stack>\r\n\r\n                        <Text>All projects you own or collaborate on</Text>\r\n                    </Stack>\r\n\r\n                    {(\r\n                        user?.id !== undefined ?\r\n                            <RoleManager discordId={user.id} />\r\n                            : <></>\r\n                    )}\r\n                </Stack>\r\n\r\n                <Dialog hidden={!appRegistrationShown}\r\n                    dialogContentProps={{\r\n                        type: DialogType.close,\r\n                        title: 'Register an app',\r\n                        styles: { title: { color: \"rgb(0, 120, 212)\", borderBottom: \"2px solid rgb(0, 117, 209)\", maxWidth: 240, margin: \"0px 0px 15px 23px\", paddingBottom: 11, paddingLeft: 10 } },\r\n                        onDismiss: () => setAppRegistrationShown(false)\r\n                    }}>\r\n                    <CreateProjectForm projectData={{}} onSuccess={onAppRegisterFormSuccess} onCancel={() => setAppRegistrationShown(false)} />\r\n                </Dialog>\r\n\r\n                <Dialog hidden={!devRegistrationShown} dialogContentProps={{\r\n                    type: DialogType.largeHeader, title: \"Become a developer\"\r\n                }}>\r\n                    <Stack tokens={{ childrenGap: 10 }} horizontalAlign=\"center\">\r\n                        <FontIcon iconName=\"GiftboxOpen\" style={{ fontSize: 56 }} />\r\n                        <Text variant=\"xLarge\">Let's build something together</Text>\r\n                        <Text variant=\"medium\">Everyone is invited, from novices to seasoned veterans.</Text>\r\n                        <Text variant=\"medium\">You'll be given the developer role and get access to collaboration services for your projects.</Text>\r\n                        <Stack horizontal horizontalAlign=\"space-evenly\" tokens={{ childrenGap: 10 }}>\r\n                            <DefaultButton onClick={() => setDevRegistrationShown(false)}>Cancel</DefaultButton>\r\n                            <PrimaryButton onClick={onDevRegisterFormSuccess}>Register</PrimaryButton>\r\n                        </Stack>\r\n                    </Stack>\r\n                </Dialog>\r\n            </Stack>\r\n\r\n            {\r\n                roles.includes(\"Mod\") || roles.includes(\"Admin\") || roles.includes(\"Launch Coordinator\") ?\r\n                    <Stack horizontalAlign=\"center\">\r\n                        <Pivot styles={{ root: { justifyContent: \"center\", display: \"flex\" }, itemContainer: { padding: 20 } }}>\r\n                            {\r\n                                roles.includes(\"Mod\") || roles.includes(\"Admin\") ?\r\n                                    <PivotItem headerText=\"Needs manual review\">\r\n                                        <ProjectReviewPanel type={ReviewType.ManualReview} />\r\n                                    </PivotItem> : <></>\r\n                            }\r\n                            {\r\n                                roles.includes(\"Launch Coordinator\") ?\r\n                                    <PivotItem headerText=\"Launch submissions\">\r\n                                        <ProjectReviewPanel type={ReviewType.Launch} />\r\n                                    </PivotItem> : <></>\r\n                            }\r\n                        </Pivot>\r\n                    </Stack>\r\n                    : <></>\r\n            }\r\n        </Stack>\r\n    )\r\n};","import * as React from \"react\";\r\nimport { Text, Stack } from \"office-ui-fabric-react\";\r\n\r\nexport const NotFound: React.StatelessComponent = () => {\r\n  return (\r\n    <Stack horizontal horizontalAlign=\"center\">\r\n      <Text variant=\"large\" style={{ padding: 10 }}>\r\n        404 Not Found\r\n      </Text>\r\n    </Stack>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport ReactMarkdown from 'react-markdown'\r\nimport { Stack, Text, Link } from 'office-ui-fabric-react';\r\nimport memoize from 'promise-memoize'\r\n\r\nconst renderers = {\r\n  heading: (props: { level: 1 | 2 | 3; children: any }) => {\r\n    const { level, children } = props\r\n\r\n    const size = {\r\n      1: 'mega',\r\n      2: 'xxLarge',\r\n      3: 'xLarge'\r\n    }\r\n\r\n    const variant: any = size[level]\r\n    const headerType: any = `h${level}`\r\n\r\n    return <Text as={headerType} variant={variant}>{children[0].props.value}</Text>\r\n  },\r\n  text: Text,\r\n  link: Link\r\n}\r\n\r\nconst getMarkdown = memoize(async (url: string) => {\r\n  const req = await fetch(url)\r\n  const markdown = await req.text()\r\n\r\n  return markdown\r\n})\r\n\r\nexport const createMarkdownPage = async (filename: string) => {\r\n  const markdown = await getMarkdown(filename)\r\n  return {\r\n    default: () => (\r\n      <Stack\r\n        verticalFill\r\n        styles={{\r\n          root: {\r\n            maxWidth: 960,\r\n            height: 'auto'\r\n          }\r\n        }}>\r\n        <ReactMarkdown renderers={renderers} source={markdown} />\r\n      </Stack>\r\n    )\r\n  }\r\n}","import * as React from \"react\";\r\nimport { Route, Switch, BrowserRouter } from 'react-router-dom';\r\n\r\nimport { Projects } from './views/Projects';\r\nimport { Home } from './views/Home';\r\nimport { AppHeader } from \"./components/AppHeader\";\r\nimport { Launch } from \"./views/Launch\";\r\nimport { Signin } from \"./views/signin\";\r\nimport { Dashboard } from \"./views/dashboard\";\r\n\r\nimport { Stack } from \"office-ui-fabric-react\";\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { fab, faDiscord, faMedium, faGithub } from '@fortawesome/free-brands-svg-icons';\r\nimport { fas, faGlobe, faArrowCircleDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { NotFound } from \"./views/NotFound\";\r\n\r\nimport { createMarkdownPage } from './components/markdown-loader'\r\nimport { prerenderedLoader } from './components/prerender-loader'\r\n\r\nlibrary.add(fab, faDiscord, faMedium, faGithub);\r\nlibrary.add(fab, fas, faGlobe, faArrowCircleDown, faDiscord, faMedium, faGithub);\r\n\r\nconst AppHeaderWithRouter = withRouter(props => <AppHeader {...props} />);\r\nconst PrivacyPolicy = prerenderedLoader(() => createMarkdownPage('/privacy-policy.md'));\r\n\r\nexport const App: React.StatelessComponent = () => {\r\n\r\n  return (\r\n    <BrowserRouter basename=\"/\">\r\n      <Stack horizontalAlign=\"center\">\r\n        <AppHeaderWithRouter />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/projects/\" component={Projects} />\r\n          <Route path=\"/launch/\" component={Launch} />\r\n          <Route path=\"/signin/\" component={Signin} />\r\n          <Route path=\"/dashboard/\" component={Dashboard} />\r\n          <Route path=\"/privacy-policy/\" component={PrivacyPolicy} />\r\n          <Route component={NotFound} />\r\n        </Switch>\r\n      </Stack>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import React from 'react'\r\n\r\nimport loadable from \"@loadable/component\";\r\nimport { PrerenderedComponent } from \"react-prerendered-component\";\r\n\r\nexport const prerenderedLoader = (dynamicImport: any) => {\r\n  const LoadableComponent = loadable(dynamicImport);\r\n  return React.memo(props => (\r\n    <PrerenderedComponent live={LoadableComponent.load()}>\r\n      <LoadableComponent {...props} />\r\n    </PrerenderedComponent>\r\n  ));\r\n};","import React from \"react\";\r\nimport { hydrate, render } from \"react-dom\";\r\nimport { initializeIcons } from \"@uifabric/icons\";\r\nimport {App} from './App';\r\n\r\n// Initializes the UI Fabric icons that we can use\r\n// Choose one from this list: https://developer.microsoft.com/en-us/fabric#/styles/icons\r\ninitializeIcons();\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nif (rootElement && rootElement.hasChildNodes()) {\r\n  hydrate(<App />, rootElement);\r\n} else {\r\n  render(<App />, rootElement);\r\n}"],"sourceRoot":""}