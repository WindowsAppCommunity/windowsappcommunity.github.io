{"version":3,"sources":["common/services/discord.ts","common/const.ts","common/helpers.ts","common/services/projects.ts","components/ProjectCard.tsx","views/Projects.tsx","components/HoverBox.tsx","views/Home.tsx","components/NavMenu.tsx","common/services/users.ts","components/forms/RegisterUser.tsx","components/AppHeader.tsx","views/Launch.tsx","views/signin.tsx","components/forms/EditProjectDetailsForm.tsx","components/forms/CreateProjectForm.tsx","views/dashboard.tsx","views/NotFound.tsx","components/markdown-loader.tsx","App.tsx","components/prerender-loader.tsx","index.tsx"],"names":["CurrentUser","Links","Images","backendHost","isLocalhost","discordAuthEndpoint","AuthData","Get","authData","localStorage","getItem","JSON","parse","Set","SetDiscordAuthData","Clear","removeItem","data","setItem","stringify","RefreshTokenIfNeeded","a","UnixTime","Math","round","Date","getTime","auth","expires_at","fetch","refresh_token","json","refreshData","expires_in","IsUserInServer","Auth","Error","headers","access_token","Req","status","Response","filter","server","id","length","GetCurrentDiscordUser","GetUserRoles","user","request","result","map","role","name","AssignUserRole","roleName","fetchBackend","GetUserAvatar","avatar","window","location","host","includes","navigator","userAgent","route","method","requestBody","push","url","body","CreateProject","projectData","GetProjectByDiscordId","discordId","GetAllProjects","GetLaunchProjects","year","project","launchYear","awaitingLaunchApproval","ButtonType","FaIconStyle","color","height","width","ProjectCard","props","onRenderIcon","buttonProps","buttonData","link","type","valueOf","Download","style","icon","External","Github","DocumentCard","DocumentCardImage","imageFit","ImageFit","centerCover","imageSrc","heroImage","DocumentCardDetails","DocumentCardTitle","title","appName","shouldTruncate","Stack","tokens","padding","Text","description","horizontal","childrenGap","verticalAlign","undefined","onEditButtonClicked","PrimaryButton","onClick","DocumentCardActions","actions","githubLink","href","downloadLink","externalLink","Projects","React","projects","setProjects","projectsApi","PopulateProjects","horizontalAlign","wrap","marginTop","FontIcon","iconName","fontSize","variant","styled","div","Depths","depth8","depth16","LinkCard","section","Link","Img","img","LargeCard","Home","fontFamily","fontWeight","margin","maxWidth","Image","className","coverStyle","ImageCoverStyle","landscape","cover","src","text","disabled","HoverBox","target","navLinkActiveStyle","borderBottom","MyNavLink","NavLink","NavText","NavMenu","to","exact","activeStyle","Component","CreateUser","userData","ModifyUser","GetUser","RegisterUserForm","useState","userRequest","setUserRequest","submissionError","setSubmissionError","showSuccessIndicator","setShowSuccessIndicator","modifying","error","reason","setTimeout","onSuccess","display","alt","TextField","label","defaultValue","styles","root","required","onChange","e","value","email","onCancel","DefaultButton","paddingLeft","AppHeader","render","history","marginBottom","Helmet","path","getHeadTitle","pathname","PrivacyPolicyText","SignInButton","loggedIn","setLoggedIn","discordUser","setDiscordUser","setUser","userAvatar","setUserAvatar","joinServerAlertHidden","setJoinServerAlertHidden","registerUserShown","setRegisterUserShown","editProfileShown","setEditProfileShown","avatarUrl","setupLoggedInUser","LoggedInButtonDropdownItems","onItemClick","ev","item","key","LogOut","useTargetWidth","items","iconProps","reload","Dialog","hidden","dialogContentProps","DialogType","normal","subText","modalProps","isBlocking","main","DialogFooter","TooltipHost","content","username","delay","TooltipDelay","long","border","menuProps","Persona","size","PersonaSize","size40","imageUrl","largeHeader","calloutProps","gapSpace","closeDelay","Launch","useEffect","GetNextLaunchEventProjects","boxShadow","Signin","authResponse","URL","searchParams","get","atob","showRedirectLink","setShowRedirectLink","timer","clearTimeout","Label","Spinner","ariaLive","visibility","categoryOptions","category","index","EditProjectDetailsForm","isPrivate","projectRequest","setProjectRequest","Pivot","PivotItem","headerText","maxLength","multiline","autoAdjustHeight","placeholder","editing","ComboBox","options","defaultSelectedKey","option","Checkbox","checked","CreateProjectForm","verified","setVerified","codeVerificationDisplayed","setCodeVerificationDisplayed","manualReviewMessageShown","setManualReviewMessageShown","setProjectData","projectDetails","needsManualReview","directionalHint","DirectionalHint","leftBottomEdge","ProjectCodeVerifier","VerficationState","storeIdTeachingBubbleTarget","setStoreIdTeachingBubbleTarget","storeId","setStoreId","verificationCodeText","setVerificationCodeText","PreInit","verificationState","setVerificationState","errorMessage","setErrorMessage","BeginVerification","validateStoreIdField","WaitingForCode","response","console","checkVerification","Verified","hideStoreIdTeachingBubbleTimeout","tick","onTimeout","init","clear","cleared","showStoreIdTeachingButton","event","nativeEvent","hideStoreIdTeachingButton","onStoreIDTextFieldKeyPress","onVerificationCodeTextFieldKeyPress","TeachingBubble","directionalHintFixed","topAutoEdge","onMouseLeave","onMouseOver","grow","onKeyPress","field","minWidth","DashboardHeader","header","Dashboard","welcomeMessage","setWelcomeMessage","userIcon","setUserIcon","roles","setRoles","appRegistrationShown","setAppRegistrationShown","devRegistrationShown","setDevRegistrationShown","apps","setApps","getUserApps","PersonaDark","DashboardColumnFiller","extraLarge","marginLeft","textDecoration","Icon","userSelect","NotFound","renderers","heading","level","children","1","2","3","headerType","as","getMarkdown","memoize","req","markdown","createMarkdownPage","filename","default","verticalFill","source","library","add","fab","faDiscord","faMedium","faGithub","fas","faGlobe","faArrowCircleDown","AppHeaderWithRouter","withRouter","PrivacyPolicy","dynamicImport","LoadableComponent","loadable","memo","PrerenderedComponent","live","load","prerenderedLoader","App","basename","component","initializeIcons","rootElement","document","getElementById","hasChildNodes","hydrate"],"mappings":"iJAmEWA,E,0GCjEEC,EAEO,0DAFPA,EAGU,6BAHVA,EAIS,mCAGTC,EACS,qCADTA,EAEU,sCAFVA,EAGM,6BAHNA,EAIQ,+BAJRA,EAKK,iCALLA,EAOO,mCAmCPC,EACXC,EAAc,iBAAmB,0CD9CtBC,EACTD,EAAW,iYAMFE,EAAW,CACpBC,IAKG,WACH,IAAMC,EAAWC,aAAaC,QAAQ,mBACtC,IAAKF,EAAU,OACf,OAAOG,KAAKC,MAAMJ,IAPlBK,IAAKC,EACLC,MAcG,WACHN,aAAaO,WAAW,qBANrB,SAASF,EAAmBG,GAC1BA,GACLR,aAAaS,QAAQ,kBAAmBP,KAAKQ,UAAUF,IAOpD,SAAeG,IAAtB,+B,4CAAO,gCAAAC,EAAA,yDACGC,EAAmBC,KAAKC,OAAO,IAAIC,MAAQC,UAAY,KACzDC,EAAOrB,EAASC,MAFjB,sDAMCoB,EAAKC,YAAcD,EAAKC,WAAaN,GANtC,iCAOsDO,MAAM,WAAD,OAAY1B,EAAZ,wCAAuDwB,EAAKG,gBAPvH,8BAOyIC,OAPzI,QAOKC,EAPL,QASiBC,aAAYD,EAAYJ,WAAaN,EAAWU,EAAYC,YAE5EnB,EAAmBkB,GAXpB,6C,sBAeA,SAAeE,IAAtB,+B,4CAAO,gCAAAb,EAAA,sEACGD,IADH,UAGGe,EAAO7B,EAASC,MAHnB,sBAIc,IAAI6B,MAAM,sBAJxB,uBAMeP,MAAM,iDAAkD,CACtEQ,QAAS,CACL,cAAiB,UAAYF,EAAKG,gBARvC,UAWgB,OALbC,EANH,QAWKC,OAXL,2CAW4B,GAX5B,yBAaqCD,EAAIR,OAbzC,eAaGU,EAbH,yBAeIA,EAASC,QAAO,SAAAC,GAAM,MAAkB,uBAAdA,EAAOC,MAA6BC,OAAS,GAf3E,6C,sBAmBA,SAAeC,IAAtB,+B,4CAAO,8BAAAzB,EAAA,0DACCrB,EADD,yCACqBA,GADrB,UAGGmC,EAAO7B,EAASC,MAHnB,iEAMesB,MAAM,0CAA2C,CAC/DQ,QAAS,CACL,cAAiB,UAAYF,EAAKG,gBARvC,WAMGC,EANH,SAWwB,MAAfA,EAAIC,OAXb,oEAYiBD,EAAIR,OAZrB,eAYH/B,EAZG,yBAaIA,GAbJ,6C,sBAgBA,SAAe+C,EAAtB,kC,4CAAO,WAA4BC,GAA5B,mBAAA3B,EAAA,8DACI2B,EADJ,qCACkBF,IADlB,6BACHE,EADG,KAEGb,EAAO7B,EAASC,MAFnB,kEAKmBsB,MAAM,UAAD,OAAW1B,EAAX,mBAAyC,CAChEkC,QAAS,CACL,cAAiB,UAAYF,EAAKG,gBAPvC,aAKGW,EALH,SAW+B,MAAnBA,EAAQT,OAXpB,kCAY0CS,EAAQlB,OAZlD,eAYOmB,EAZP,yBAcQA,EAAOC,KAAI,SAAAC,GAAI,OAAIA,EAAKC,SAdhC,6C,sBAkBA,SAAeC,EAAtB,oC,4CAAO,WAA8BC,EAAkBP,GAAhD,SAAA3B,EAAA,sEACUmC,EAAa,iBAAkB,MAAO,CAAEJ,KAAMG,IADxD,oF,sBAIA,SAAeE,EAAtB,kC,4CAAO,WAA6BT,GAA7B,SAAA3B,EAAA,8DACI2B,EADJ,qCACkBF,IADlB,6BACHE,EADG,4HAG0CA,EAAKJ,GAH/C,YAGqDI,EAAKU,OAH1D,qD,sBEvGA,IAoCMtD,EAAcuD,OAAOC,SAASC,KAAKC,SAAS,cAAgBC,UAAUC,UAAUF,SAAS,aAE/F,SAAeN,EAAtB,sC,4CAAO,WAA4BS,EAAeC,EAA6CC,GAAxF,mBAAA9C,EAAA,6DACCgB,EAAsB,CAAC,CAAC,eAAgB,qBADzC,SAGkB/B,EAASC,MAH3B,cAGCC,EAHD,SAIW6B,EAAQ+B,KAAK,CAAC,gBAAiB5D,EAAS8B,eAGlD+B,EAPD,UAMYjE,EAAc,OAAS,QANnC,cAOwBD,EAPxB,YAOuC8D,GAPvC,SASUpC,MAAMwC,EAAK,CACpBhC,QAASA,EACT6B,OAAQA,EACRI,KAAM3D,KAAKQ,UAAUgD,KAZtB,qF,sBCtCA,SAAeI,EAAtB,kC,4CAAO,WAA6BC,GAA7B,SAAAnD,EAAA,sEACUmC,EAAa,WAAY,OAAQgB,GAD3C,oF,sBAwBA,SAAeC,EAAtB,kC,4CAAO,WAAqCC,GAArC,SAAArD,EAAA,sEACWmC,EAAa,sBAAD,OAAuBkB,GAAa,OAD3D,uCACmE3C,QADnE,4C,sBAIA,SAAe4C,IAAtB,+B,4CAAO,sBAAAtD,EAAA,sEACWmC,EAAa,WAAY,OADpC,uCAC4CzB,QAD5C,4C,sBAIA,SAAe6C,EAAtB,kC,4CAAO,WAAiCC,GAAjC,SAAAxD,EAAA,sEACkBmC,EAAa,WAAY,OAD3C,8BACmDzB,OADnD,mBACkE,SAAC+C,GAAD,OAAuBA,EAAQC,YAAcF,GAA0C,GAAlCC,EAAQE,wBAD/H,yBAC2DtC,OAD3D,mD,0BC9BFuC,E,wFAAAA,O,mBAAAA,I,uBAAAA,I,wBAAAA,M,KAQL,IAAMC,GAAmC,CACvCC,MAAO,QACPC,OAAQ,OACRC,MAAO,QAQIC,GAAc,SAACC,GAE1B,SAASC,EAAaC,GACpB,IAAKA,EAAa,OAAO,KACzB,IAAMC,EAAuCD,EAAYxE,KACzD,IAAKyE,EAAWC,KAAM,OAAO,KAE7B,OAAQD,EAAWE,KAAKC,WACtB,KAAKZ,EAAWa,SACd,OAAIJ,EAAWC,MAAQD,EAAWC,KAAK7B,SAAS,iBACvC,gBAAC,KAAD,CAAiBiC,MAAOb,GAAac,KAAM,CAAC,MAAO,eAEnD,gBAAC,KAAD,CAAiBD,MAAOb,GAAac,KAAK,sBAErD,KAAKf,EAAWgB,SACd,OAAO,gBAAC,KAAD,CAAiBF,MAAOb,GAAac,KAAM,CAAC,MAAO,WAC5D,KAAKf,EAAWiB,OACd,OAAO,gBAAC,KAAD,CAAiBH,MAAOb,GAAac,KAAM,CAAC,MAAO,YAC5D,QAAS,OAAO,MAIpB,OACE,gBAACG,GAAA,EAAD,KACE,gBAACC,GAAA,EAAD,CAAmBhB,OAAQ,IAAKiB,SAAUC,KAASC,YAAaC,SAAUjB,EAAMT,QAAQ2B,YACxF,gBAACC,GAAA,EAAD,KACE,gBAACC,GAAA,EAAD,CAAmBC,MAAOrB,EAAMT,QAAQ+B,QAASC,gBAAc,IAC/D,gBAACC,EAAA,EAAD,CAAOC,OAAQ,CAAEC,QAAS,KACxB,gBAACC,EAAA,EAAD,KAAO3B,EAAMT,QAAQqC,cAEvB,gBAACJ,EAAA,EAAD,CAAOK,YAAU,EAACJ,OAAQ,CAAEK,YAAa,EAAGJ,QAAS,IAAMK,cAAc,eACxCC,IAA9BhC,EAAMiC,oBAAoC,gBAACC,GAAA,EAAD,CAAeC,QAAS,WAAYnC,EAAMiC,qBAAqBjC,EAAMiC,wBAArE,QAAqH,iCAEhK,gBAACG,GAAA,EAAD,CAAqBC,QAAS,CAC5B,CACE3G,KAAM,CACJ2E,KAAMX,EAAWiB,OACjBP,KAAMJ,EAAMT,QAAQ+C,YAEtBC,KAAMvC,EAAMT,QAAQ+C,WACpBrC,aAAcA,GAEhB,CACEvE,KAAM,CACJ2E,KAAMX,EAAWa,SACjBH,KAAMJ,EAAMT,QAAQiD,cAEtBD,KAAMvC,EAAMT,QAAQiD,aACpBvC,aAAcA,GAEhB,CACEvE,KAAM,CACJ2E,KAAMX,EAAWgB,SACjBN,KAAMJ,EAAMT,QAAQkD,cAEtBF,KAAMvC,EAAMT,QAAQkD,aACpBxC,aAAcA,UC3EfyC,GAAqC,WAAO,IAAD,EACtBC,aADsB,mBAC/CC,EAD+C,KACrCC,EADqC,iDAGtD,4BAAA/G,EAAA,sEAC4BsD,IAD5B,OACQ0D,EADR,OAEED,EAAYC,GAFd,4CAHsD,sBAatD,OAJAH,aAAgB,YATsC,mCAUpDI,KACC,IAID,gBAACvB,EAAA,EAAD,CAAOwB,gBAAgB,SAASnB,YAAU,EAACoB,MAAI,EAACxB,OAAQ,CAAEK,YAAa,KACpEc,GAAYA,EAAStF,OAAS,EAAIsF,EAAShF,KAAI,SAAA2B,GAC9C,OACE,gBAAC,GAAD,CAAaA,QAASA,OAGxB,gBAACiC,EAAA,EAAD,CAAOwB,gBAAgB,SAASxC,MAAO,CAAE0C,UAAW,SAClD,gBAACC,EAAA,EAAD,CAAUC,SAAS,MAAM5C,MAAO,CAAE6C,SAAU,MAC5C,gBAAC1B,EAAA,EAAD,CAAM2B,QAAQ,UAAd,uB,8MCzBKC,YAAOC,IAAtB,KACkBC,KAAOC,OAELD,KAAOE,S,kxBCE3B,IAAMhE,GAA6B,CACjCC,MAAO,QACPC,OAAQ,OACRC,MAAO,QAGH8D,GAAWL,KAAOM,QAAV,MAMVC,GAAOP,KAAOzH,EAAV,MASJiI,GAAMR,KAAOS,IAAV,MAKDC,GAAYV,KAAOC,IAAV,KACDC,KAAOE,SAeRO,GAAiC,WAC5C,OACE,kBAAC1C,EAAA,EAAD,CAAOwB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,KACrD,uBAAGtB,MAAO,CAAE2D,WAAY,uBAAwBC,WAAY,UAAWf,SAAU,OAAQgB,OAAQ,IAAjG,mDAEA,kBAAC7C,EAAA,EAAD,CAAOyB,MAAI,EAACpB,YAAU,EAACmB,gBAAgB,eAAevB,OAAQ,CAAEK,YAAa,KAE3E,kBAACmC,GAAD,KACE,kBAACzC,EAAA,EAAD,CAAOK,YAAU,EAACoB,MAAI,EAACqB,SAAS,SAAStB,gBAAgB,gBACvD,kBAACuB,GAAA,EAAD,CAAOC,UAAU,YAAYC,WAAYC,KAAgBC,UAAW7D,SAAUC,KAAS6D,MAAOC,IAAKlK,IAEnG,kBAAC6G,EAAA,EAAD,CAAOhB,MAAO,CAAE6D,OAAQ,QAAUtC,cAAc,UAC9C,kBAACJ,EAAA,EAAD,CAAM2B,QAAQ,cAAd,kCACA,kBAAC3B,EAAA,EAAD,CAAM2B,QAAQ,cAAd,oBACA,kBAACpB,GAAA,EAAD,CAAe1B,MAAO,CAAE0C,UAAW,QAAU4B,KAAK,kBAAkBC,UAAQ,OAKlF,kBAACvD,EAAA,EAAD,CAAOyB,MAAI,EAACpB,YAAU,EAACmB,gBAAgB,eAAevB,OAAQ,CAAEK,YAAa,KAC3E,kBAACkD,GAAD,KACE,kBAACpB,GAAD,KACE,kBAACpC,EAAA,EAAD,KACE,kBAACuC,GAAD,CAAKc,IAAKlK,IAEV,kBAAC6G,EAAA,EAAD,CAAOK,YAAU,EAACE,cAAc,SAASiB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,IACvF,kBAACN,EAAA,EAAD,CAAOhB,MAAO,CAAE6D,OAAQ,QAAU5C,OAAQ,CAAEK,YAAa,KACvD,kBAACH,EAAA,EAAD,+HACA,kBAACmC,GAAD,CAAMvB,KAAM7H,EAA2BuK,OAAO,UAA9C,8BAEF,kBAAC,KAAD,CAAiBzE,MAAOb,GAAac,KAAM,CAAC,MAAO,iBAO3D,kBAACuE,GAAD,KACE,kBAACpB,GAAD,KACE,kBAACpC,EAAA,EAAD,KACE,kBAACuC,GAAD,CAAKc,IAAKlK,IACV,kBAAC6G,EAAA,EAAD,CAAOK,YAAU,EAACE,cAAc,SAASiB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,IACvF,kBAACN,EAAA,EAAD,CAAOhB,MAAO,CAAE6D,OAAQ,QAAU5C,OAAQ,CAAEK,YAAa,KACvD,kBAACH,EAAA,EAAD,qFACA,kBAACmC,GAAD,CAAMvB,KAAM7H,EAA0BuK,OAAO,UAA7C,iCAEF,kBAAC,KAAD,CAAiBzE,MAAOb,GAAac,KAAM,CAAC,MAAO,gBAM3D,kBAACuE,GAAD,KACE,kBAACpB,GAAD,KACE,kBAACpC,EAAA,EAAD,KACE,kBAACuC,GAAD,CAAKc,IAAKlK,IACV,kBAAC6G,EAAA,EAAD,CAAOK,YAAU,EAACE,cAAc,SAASiB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,IACvF,kBAACN,EAAA,EAAD,CAAOhB,MAAO,CAAE6D,OAAQ,QAAU5C,OAAQ,CAAEK,YAAa,KACvD,kBAACH,EAAA,EAAD,qHAAmH,yCACnH,kBAACmC,GAAD,CAAMvB,KAAM7H,EAAwBuK,OAAO,UAA3C,2BAEF,kBAAC,KAAD,CAAiBzE,MAAOb,GAAac,KAAM,CAAC,MAAO,oB,ykBC1GrE,IAAMyE,GAAoC,CACxCC,aAAc,qBAGVC,GAAY7B,aAAO8B,IAAP9B,CAAH,MAeT+B,GAAU/B,aAAO5B,IAAP4B,CAAH,MAIAgC,GAAb,sLAEI,OACE,6BACE,kBAAC/D,EAAA,EAAD,CAAOK,YAAU,EAACoB,MAAI,EAACzC,MAAO,CAAE8D,SAAU,SACxC,kBAACc,GAAD,CAAWI,GAAG,IAAIC,OAAK,EAACC,YAAaR,IACnC,kBAACI,GAAD,cAEF,kBAACF,GAAD,CAAWI,GAAG,YAAYE,YAAaR,IACrC,kBAACI,GAAD,kBAEF,kBAACF,GAAD,CAAWI,GAAG,UAAUE,YAAaR,IACnC,kBAACI,GAAD,sBAZZ,GAA6B3C,IAAMgD,W,6BC1B5B,SAAeC,GAAtB,mC,8CAAO,WAA0BC,GAA1B,SAAA/J,EAAA,sEACUmC,EAAa,OAAQ,OAAQ4H,GADvC,oF,sBAIA,SAAeC,GAAtB,mC,8CAAO,WAA0BD,GAA1B,SAAA/J,EAAA,sEACUmC,EAAa,OAAQ,MAAO4H,GADtC,oF,sBAIA,SAAeE,GAAtB,mC,8CAAO,WAAuB5G,GAAvB,SAAArD,EAAA,sEACUmC,EAAa,kBAAD,OAAmBkB,GAAa,OADtD,oF,olBCEA,IAAM6G,GAAmB,SAAChG,GAA8B,IAAD,EACtB2C,IAAMsD,SAAgB,CACtD9G,UAAW1E,EAAY4C,GACvBS,KAAM,KAHgD,mBACrDoI,EADqD,KACxCC,EADwC,OAMdxD,IAAMsD,SAAiB,IANT,mBAMrDG,EANqD,KAMpCC,EANoC,OAOJ1D,IAAMsD,UAAS,GAPX,mBAOrDK,EAPqD,KAO/BC,EAP+B,OAUxC5D,IAAMsD,UAAS,GAA5BO,EAVqD,gEAY1D,8BAAA1K,EAAA,yDACSoK,EADT,qDAGkBM,EAHlB,gCAGoCV,GAAWI,GAH/C,2DAIgBN,GAAWM,GAJ3B,mCAGQxI,EAHR,eAMwBA,EAAQT,OANhC,uBAM2C,MAN3C,uCASgDS,EAAQlB,OATxD,SASYiK,EATZ,QAUkBA,OAASA,EAAMC,QACrBL,EAAmBI,EAAMC,QAXrC,wBAcQH,GAAwB,GACxBI,YAAW,WACP3G,EAAM4G,cACP,MAjBX,6CAZ0D,sBAiC1D,OACI,kBAACpF,EAAA,EAAD,CAAOwB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,KAEnD,yBAAKtB,MAAO,CAAEqG,QAAUP,EAAuB,QAAU,OAASzG,OAAQ,SAAWgF,IAAKyB,EAAuB,gCAAkC,GAAIQ,IAAI,UAC3J,kBAACtF,EAAA,EAAD,CAAOwB,gBAAgB,QAAQvB,OAAQ,CAAEK,YAAa,IAAMtB,MAAO,CAAE8D,SAAU,OAAQxE,MAAO,QAAS+G,QAAWP,EAAiC,OAAV,UACrI,kBAACS,GAAA,EAAD,CAAWC,MAAM,QACbpF,YAAY,4CACZqF,aAAcjH,EAAM6F,SAAW7F,EAAM6F,SAAS/H,KAAO,GACrDoJ,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzBsH,UAAQ,EACRC,SAAU,SAACC,EAAQC,GAAT,OAAwBpB,EAAe,GAAD,GAAMD,EAAN,CAAmBpI,KAAMyJ,QAE7E,kBAACR,GAAA,EAAD,CAAWC,MAAM,iBACbpF,YAAY,WACZqF,aAAcjH,EAAM6F,SAAW7F,EAAM6F,SAAS2B,MAAQ,GACtDN,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzBuH,SAAU,SAACC,EAAQC,GAAT,OAAwBpB,EAAe,GAAD,GAAMD,EAAN,CAAmBsB,MAAOD,QAE9E,kBAAC5F,EAAA,EAAD,CAAMnB,MAAO,CAAEZ,MAAO,QAAUwG,GAChC,kBAAC5E,EAAA,EAAD,CAAOK,YAAU,EAACJ,OAAQ,CAAEK,YAAa,KACrC,kBAACI,GAAA,EAAD,CAAe4C,KAAK,WAChB3C,QAtDsC,6CAwDtCnC,EAAMyH,SACF,kBAACC,GAAA,EAAD,CAAe5C,KAAK,SAAS3C,QAAS,kBAAMnC,EAAMyH,SAAWzH,EAAMyH,gBAAazF,KAC9E,OCtDxBrC,GAA6B,CACjCC,MAAO,QACPC,OAAQ,OACRC,MAAO,OACP6H,YAAa,QAGFC,GAAsC,SAAC5H,GAClD,OACE,gBAAC,IAAD,CAAO6H,OAAQ,gBAAGC,EAAH,EAAGA,QAAH,OACb,0BAAQtH,MAAO,CAAEuH,aAAc,OAAQzD,SAAU,SAC/C,gBAAC9C,EAAA,EAAD,CAAOhB,MAAO,CAAEV,MAAO,QAASuE,OAAQ,OAASxC,YAAU,EAACoB,MAAI,EAACxB,OAAQ,CAAEK,YAAa,IAAMC,cAAc,MAAMiB,gBAAgB,gBAChI,gBAACgF,GAAA,OAAD,KACE,6BTdgB,SAACC,GACzB,IAAI5G,EAAQ,gBACZ,OAAQ4G,GACJ,IAAK,IACD5G,GAAgB,WAChB,MACJ,IAAK,YACDA,GAAgB,eAChB,MACJ,IAAK,UACDA,GAAgB,aAChB,MACJ,IAAK,aACDA,GAAgB,gBAChB,MACJ,IAAK,UACDA,GAAgB,cAChB,MACJ,QACIA,GAAgB,UAGxB,OAAOA,ESRS6G,CAAalI,EAAM3B,SAAS8J,YAEtC,gBAAC,KAAD,CAAM5F,KAAK,KAET,uBAAK/B,MAAO,CAAE8D,SAAU,SAAWO,IAAKlK,EAAyBmM,IAAI,wBAGvE,gBAAC,GAAD,MAEA,gBAAC,GAAD,CAAcgB,QAASA,UAQ3BM,GAA8C,kBAAM,sDAA6B,gBAAC,IAAD,CAAS5C,GAAG,mBAAZ,kBAA7B,8DAE7C6C,GAA+C,SAAC,GAAiB,IAAfP,EAAc,EAAdA,QAAc,EAC3CnF,YAAe,GAD4B,mBACpE2F,EADoE,KAC1DC,EAD0D,OAErC5F,aAFqC,mBAEpE6F,EAFoE,KAEvDC,EAFuD,OAGnD9F,aAHmD,mBAGpElF,EAHoE,KAG9DiL,EAH8D,OAIvC/F,aAJuC,mBAIpEgG,EAJoE,KAIxDC,EAJwD,OAKjBjG,YAAe,GALE,mBAKpEkG,EALoE,KAK7CC,EAL6C,OAMzBnG,YAAe,GANU,mBAMpEoG,EANoE,KAMjDC,EANiD,OAO3BrG,YAAe,GAPY,mBAOpEsG,EAPoE,KAOlDC,EAPkD,iDAa3E,kCAAApN,EAAA,sEAC4ByB,IAD5B,cACQiL,EADR,gBAE0BtK,EAAcsK,GAFxC,UAEQW,EAFR,OAIOX,GAAgBW,EAJvB,wDAKEZ,GAAY,GACZE,EAAeD,GANjB,UAQ6B7L,IAR7B,0CAUImM,GAAyB,GAV7B,4CAc4B/C,GAAQyC,EAAYnL,IAdhD,WAe6B,OADrB6I,EAdR,QAekBjJ,OAflB,wBAiBI+L,GAAqB,GAjBzB,+BAoBM9C,GAAsC,MAAvBA,EAAYjJ,OApBjC,6BAoB2DJ,MApB3D,UAoBuEqJ,EAAYpB,OApBnF,kEAsB0BoB,EAAY1J,OAtBtC,QAsBMiB,EAtBN,OAwBEiL,EAAQjL,GACRmL,EAAcO,GAzBhB,6CAb2E,sBAS3ExG,aAAgB,YAT2D,mCAUzEyG,KACC,IA8BH,IAAMC,EAAoD,CACxDC,YAkBF,SAAyBC,EAA+FC,GACtH,IAAKA,EAAM,OAEX,OAAQA,EAAKC,KACX,IAAK,SACHC,IACA,MACF,IAAK,YACH5B,EAAQjJ,KAAK,cACb,MACF,IAAK,cACHqK,GAAoB,KA5BxBS,gBAAgB,EAChBC,MAAO,CAAC,CACNH,IAAK,YACL3E,KAAM,YACN+E,UAAW,CAAEzG,SAAU,kBACtB,CAEDqG,IAAK,cACL3E,KAAM,eACN+E,UAAW,CAAEzG,SAAU,gBACtB,CACDqG,IAAK,SACL3E,KAAM,UACN+E,UAAW,CAAEzG,SAAU,cAoB3B,SAASsG,IACP3O,EAASS,QACTsM,EAAQjJ,KAAK,KACbT,OAAOC,SAASyL,SASlB,OACExB,GAAYE,EACV,gBAAChH,EAAA,EAAD,KACE,gBAACuI,GAAA,EAAD,CACEC,OAAQnB,EACRoB,mBAAoB,CAClB5J,KAAM6J,KAAWC,OACjB9I,MAAO,iCACP+I,QAAS,qGAEXC,WAAY,CACVC,YAAY,EACZpD,OAAQ,CAAEqD,KAAM,CAAEjG,SAAU,QAG9B,gBAACkG,GAAA,EAAD,KACE,gBAACtI,GAAA,EAAD,CAAeK,KAAM7H,EAA2BoK,KAAK,oBACrD,gBAAC4C,GAAA,EAAD,CAAevF,QAvBzB,WACE2G,GAAyB,GACzBY,KAqBuD5E,KAAK,eAGxD,gBAAC2F,GAAA,EAAD,CAAaC,QAAO,uBAAkBlC,EAAYmC,UAAYC,MAAOC,KAAaC,MAChF,gBAACpD,GAAA,EAAD,CAAelH,MAAO,CAAEkB,QAAS,OAAQqJ,OAAQ,mBAAqBC,UAAW3B,GAC/E,gBAAC4B,GAAA,EAAD,CAASC,KAAMC,KAAYC,OAAQtG,KAAM0D,EAAYmC,SAAUU,SAAU1C,MAI7E,gBAACoB,GAAA,EAAD,CAAQC,QAASf,IAAqBF,EAAmBkB,mBAAoB,CAAE5J,KAAM6J,KAAWoB,YAAajK,MAAO0H,EAAoB,gBAAkB,iBACvJA,EACC,gBAACpH,EAAA,EAAD,CAAM2B,QAAQ,SAAd,wCACE,iCACJ,gBAAC,GAAD,CAAkBuC,SAAUpI,EAAMmJ,UAAW,WAAQoC,GAAqB,GAAQE,GAAoB,IAAUzB,SAAWsB,OAAuD/G,EAAnC,kBAAMkH,GAAoB,QAI7K,gBAAC1H,EAAA,EAAD,CAAOO,cAAc,QAAQvB,MAAO,CAAEuH,aAAc,SAClD,gBAAC0C,GAAA,EAAD,CACEC,QAAS,gBAAC,GAAD,MACTrN,GAAI,oBACJkO,aAAc,CAAEC,SAAU,GAC1BC,WAAY,IACZb,MAAO,EACP1D,OAAQ,CAAEC,KAAM,CAAEN,QAAS,kBAE3B,gBAAC3E,GAAA,EAAD,CAAeK,KAAMzH,EAAqB0F,MAAO,CAAEkB,QAAS,SAC1D,gBAACC,EAAA,EAAD,gBACA,gBAAC,KAAD,CAAiBnB,MAAOb,GAAac,KAAM,CAAC,MAAO,iB,6MCzKxD,IAAMiL,GAAS,WAAO,IAAD,EACQ/I,IAAMsD,WADd,mBACjBrD,EADiB,KACPC,EADO,OAEAF,IAAMsD,WAFN,mBAEjBxI,EAFiB,KAEXiL,EAFW,iDAIxB,sBAAA5M,EAAA,kEACI+G,EADJ,SACsBxD,EAAkB,MADxC,8EAJwB,sBAcxB,OAPAsD,IAAMgJ,WAAU,YAPQ,mCAQpBC,GACA,sBAAC,sBAAA9P,EAAA,kEACG4M,EADH,SACiBnL,IADjB,4EAAD,KAGD,IAGC,kBAACiE,EAAA,EAAD,CAAOC,OAAQ,CAACK,YAAa,KACrB,kBAACN,EAAA,EAAD,CAAOK,YAAU,EAACoB,MAAI,EAACzC,MAAO,CAAEqL,UAAWpI,KAAOE,SAAWW,SAAS,UAClE,kBAACC,GAAA,EAAD,CAAOzE,MAAM,OAAOD,OAAO,QAAQgF,IAAKlK,EAAuB8J,WAAYC,KAAgBC,UAAW7D,SAAUC,KAAS6D,QACzH,kBAACpD,EAAA,EAAD,CAAOhB,MAAO,CAAC6D,OAAQ,SAEnB,kBAAC1C,EAAA,EAAD,CAAMnB,MAAO,CAAC2D,WAAY,WAAYd,SAAU,OAAQe,WAAY,YAApE,aAEA,kBAACzC,EAAA,EAAD,CAAMnB,MAAO,CAAC0C,UAAW,OAAQkB,WAAY,KAAMd,QAAQ,UAA3D,uCACA,kBAAC3B,EAAA,EAAD,CAAMnB,MAAO,CAAC0C,UAAW,QAASI,QAAQ,cAA1C,0PACA,kBAAC3B,EAAA,EAAD,CAAMnB,MAAO,CAAC0C,UAAW,QAASI,QAAQ,SAAU7F,EAAO,sCAAwC,MAI1GmF,EAAW,kBAACjB,EAAA,EAAD,CAAM2B,QAAQ,UAAd,4BAAyD,qCACzE,kBAAC9B,EAAA,EAAD,CAAOK,YAAU,EAACoB,MAAI,EAACD,gBAAgB,SAASvB,OAAQ,CAACK,YAAa,KAEjEc,EAAWA,EAAShF,KAAI,SAAA2B,GAAO,OAAI,kBAAC,GAAD,CAAaA,QAASA,OAAe,wC,IAejEgE,aAAOyB,GAAPzB,CAAH,M,kBCtDRuI,GAAwB,WAEjC,IAAIC,EAA+B,IAAIC,IAAI5N,OAAOC,SAASkE,MAAO0J,aAAaC,IAAI,gBAE/EH,IACAA,EAAeI,KAAKJ,GACpBhR,EAASO,IAAIF,KAAKC,MAAM0Q,IAExB3N,OAAOC,SAASkE,KAAO,cARY,MAWS0D,oBAAkB,GAX3B,mBAWhCmG,EAXgC,KAWdC,EAXc,KAoBvC,OAPAV,qBAAU,WACN,IAAMW,EAAQ3F,YAAW,WACrB0F,GAAoB,KACrB,KACH,OAAO,kBAAME,aAAaD,MAC3B,IAGC,6BACI,kBAAC9K,EAAA,EAAD,KACI,kBAACA,EAAA,EAAD,CAAOwB,gBAAgB,UACnB,kBAACwJ,GAAA,EAAD,sBACA,kBAACC,GAAA,EAAD,CAASzF,MAAM,gBAAgB0F,SAAS,cACxC,kBAAC/K,EAAA,EAAD,CAAMnB,MAAO,CAAEmM,WAAYP,EAAmB,UAAY,WAA1D,oCAAuG,uBAAG7J,KAAK,cAAR,mB,gnBCjB3H,IAOMqK,GbIqC,CACzC,oBACA,WACA,kBACA,YACA,gBACA,gBACA,wBACA,gBACA,YACA,UACA,oBACA,QACA,oBACA,iBACA,mBACA,kBACA,gBACA,eACA,WACA,WACA,SACA,SACA,SACA,qBa5BqEhP,KAAI,SAACiP,EAAUC,GAClF,MAAO,CAAErD,IAAKoD,EAAU/H,KAAM+H,MAGrBE,GAAyB,SAAC/M,GAAyC,IAAD,EACjC2C,IAAMsD,SAAN,IACtC+G,WAAW,EAAOvN,wBAAwB,EAAO5B,KAAM,aAAgBmC,EAAMf,cAFN,mBACtEgO,EADsE,KACtDC,EADsD,OAK/BvK,IAAMsD,SAAiB,IALQ,mBAKtEG,EALsE,KAKrDC,EALqD,OAMrB1D,IAAMsD,UAAS,GANM,mBAMtEK,EANsE,KAMhDC,EANgD,iDAQ3E,8BAAAzK,EAAA,sEACwBkD,EAAciO,GADtC,UACQvP,EADR,OAGqC,MAAnBA,EAAQT,OAH1B,iCAMgDS,EAAQlB,OANxD,QAMYiK,EANZ,QAOkBA,OAASA,EAAMC,QACrBL,EAAmBI,EAAMC,QARrC,wBAWQH,GAAwB,GACxBI,YAAW,WACP3G,EAAM4G,cACP,MAdX,6CAR2E,sBA0B3E,OACI,kBAACpF,EAAA,EAAD,CAAOwB,gBAAgB,UAEnB,yBAAKxC,MAAO,CAAEqG,QAAUP,EAAuB,QAAU,OAASzG,OAAQ,SAAWgF,IAAKyB,EAAuB,gCAAkC,GAAIQ,IAAI,UAC3J,kBAACtF,EAAA,EAAD,CAAOwB,gBAAgB,QAAQvB,OAAQ,CAAEK,YAAa,IAAMtB,MAAO,CAAE8D,SAAU,OAAQxE,MAAO,QAAS+G,QAAWP,EAAiC,OAAV,UACrI,kBAAC6G,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAWC,WAAW,cAClB,kBAAC7L,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,KAC1B,kBAACiF,GAAA,EAAD,CAAWC,MAAM,gBAAgBsG,UAAW,GACxCpG,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzByH,MAAO0F,EAAe3L,QACtB8F,UAAQ,EAACC,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsB3L,QAASiG,QAE/F,kBAACR,GAAA,EAAD,CAAWC,MAAM,cAAcsG,UAAW,IACtCpG,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzByN,WAAS,EAACnG,UAAQ,EAACoG,kBAAgB,EACnCjG,MAAO0F,EAAerL,YACtB6L,YAAY,4BACZpG,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsBrL,YAAa2F,QAE1F,kBAACR,GAAA,EAAD,CAAWC,MAAM,aACb3G,KAAK,MACL6G,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzBsH,UAAQ,EACRG,MAAO0F,EAAe/L,UACtBuM,YAAY,wCACZpG,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsB/L,UAAWqG,UAGhG,kBAAC6F,GAAA,EAAD,CAAWC,WAAW,iBAClB,kBAAC7L,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,KAC1B,kBAACiF,GAAA,EAAD,CAAWC,MAAM,iBACbO,MAAO0F,EAAezK,aACtBuC,UAAW/E,EAAM0N,cAA8C1L,IAAnChC,EAAMf,YAAYuD,aAC9C0E,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzBuH,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsBzK,aAAc+E,QAE3F,kBAACR,GAAA,EAAD,CAAWC,MAAM,eACbO,MAAO0F,EAAe3K,WACtB4E,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzBuH,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsB3K,WAAYiF,QAEzF,kBAACR,GAAA,EAAD,CAAWC,MAAM,gBACbO,MAAO0F,EAAexK,aACtByE,OAAQ,CAAEC,KAAM,CAAErH,MAAO,SACzBuH,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsBxK,aAAc8E,UAInG,kBAAC6F,GAAA,EAAD,CAAWC,WAAW,aAClB,kBAAC7L,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,KAC1B,kBAAC6L,GAAA,EAAD,CACI3G,MAAM,WACN4G,QAAShB,GACTiB,mBAAoBZ,EAAeJ,UAAYD,GAAgB,GAAGnD,IAClEpC,SAAU,SAACC,EAAyBwG,GAC3BA,GACLZ,EAAkB,MAAKD,EAAN,CAAsBJ,SAAUiB,EAAOhJ,WAGhE,kBAACiJ,GAAA,EAAD,CAAU/G,MAAM,4BACZgH,QAASf,EAAeD,UACxB3F,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsBD,UAAWzF,QAExF,kBAACwG,GAAA,EAAD,CAAU/G,MAAM,6BACZgH,QAASf,EAAexN,uBACxB4H,SAAU,SAACC,EAAQC,GAAT,OAAwB2F,EAAkB,MAAKD,EAAN,CAAsBxN,uBAAwB8H,QAErG,kBAAC5F,EAAA,EAAD,CAAMnB,MAAO,CAAEqG,QAASoG,EAAexN,uBAAyB,QAAU,SAA1E,uGAKZ,kBAACkC,EAAA,EAAD,CAAMnB,MAAO,CAAEZ,MAAO,QAAUwG,GAChC,kBAAC5E,EAAA,EAAD,CAAOK,YAAU,EAACJ,OAAQ,CAAEK,YAAa,IAAMkB,gBAAgB,eAAexC,MAAO,CAAE0C,UAAW,KAE1FlD,EAAMyH,SACF,kBAACC,GAAA,EAAD,CAAe5C,KAAK,SAAS3C,QAAS,kBAAMnC,EAAMyH,SAAWzH,EAAMyH,gBAAazF,KAC9E,GAEV,kBAACE,GAAA,EAAD,CAAe4C,KAAK,WAAW3C,QA1G4B,iD,ilBCdxE,IAAM8L,GAAoB,SAACjO,GAAoC,IAAD,EACjC2C,IAAMsD,UAAS,GADkB,mBAC1DiI,EAD0D,KAChDC,EADgD,OAECxL,IAAMsD,UAAS,GAFhB,mBAE1DmI,EAF0D,KAE/BC,EAF+B,OAGD1L,IAAMsD,UAAS,GAHd,mBAG1DqI,EAH0D,KAGhCC,EAHgC,OAI3B5L,IAAMsD,SAA4B,IAJP,mBAI1DhH,EAJ0D,KAI7CuP,EAJ6C,KAMjE,OACIJ,EAA4B,kBAAC,GAAD,CAAqB3G,SAAU,WAAQ4G,GAA6B,IAAUzH,UAAW,SAAC6H,GAClHD,EAAeC,GAEfJ,GAA6B,GAC7BF,GAAY,GACZI,GAA4B,MAG5BL,EACKI,EACG,kBAAC9M,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,KAC1B,kBAACH,EAAA,EAAD,6HACA,kBAACH,EAAA,EAAD,CAAOK,YAAU,EAACJ,OAAQ,CAAEK,YAAa,IAAMkB,gBAAgB,eAAexC,MAAO,CAAE0C,UAAW,KAC9F,kBAACwE,GAAA,EAAD,CAAevF,QAAS,WACpBoM,GAA4B,GAC5BJ,GAAY,KAFhB,WAIA,kBAACjM,GAAA,EAAD,CAAeC,QAAS,kBAAMoM,GAA4B,KAA1D,cAGN,kBAAC,GAAD,iBAA4BvO,EAA5B,CAAmCf,YAAaA,KAEtD,kBAACuC,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,GAAIJ,QAAS,IACvC,kBAACC,EAAA,EAAD,CAAM2B,QAAQ,SAAd,sBACA,kBAAC9B,EAAA,EAAD,CAAOK,YAAU,EAACJ,OAAQ,CAAEK,YAAa,IACrC,kBAACqB,EAAA,EAAD,CAAUC,SAAS,eAAe5C,MAAO,CAAE6C,SAAU,MACrD,kBAAC1B,EAAA,EAAD,CAAM2B,QAAQ,UAAd,iDAEJ,kBAAC9B,EAAA,EAAD,CAAOK,YAAU,EAACJ,OAAQ,CAAEK,YAAa,IACrC,kBAACqB,EAAA,EAAD,CAAUC,SAAS,eAAe5C,MAAO,CAAE6C,SAAU,MACrD,kBAAC1B,EAAA,EAAD,CAAM2B,QAAQ,UAAd,iFAEJ,kBAAC9B,EAAA,EAAD,CAAOhB,MAAO,CAAE0C,UAAW,IAAMrB,YAAU,EAACJ,OAAQ,CAAEK,YAAa,IAAMkB,gBAAgB,gBACrF,kBAAC0E,GAAA,EAAD,CAAevF,QAAS,WAAQqM,EAAe,MAAKxO,EAAMf,YAAZ,CAAyByP,mBAAmB,KAASP,GAAY,KAA/G,MACA,kBAAC1D,GAAA,EAAD,CAAaC,QAAQ,gGAAgGe,WAAY,IAAKkD,gBAAiBC,KAAgBC,gBACnK,kBAAC3M,GAAA,EAAD,CAAeC,QAAS,WAAQqM,EAAe,MAAKxO,EAAMf,YAAZ,GAA4BA,EAA5B,CAAyCyP,mBAAmB,KAAUL,GAA6B,KAAjJ,WAYfS,GAAsB,SAAC9O,GAAsC,IACjE+O,GADgE,SAChEA,OADgE,qBAChEA,IADgE,mCAChEA,IADgE,wBAChEA,MADgE,WAKCpM,IAAMsD,WALP,mBAK9D+I,EAL8D,KAKjCC,EALiC,OAMvCtM,IAAMsD,WANiC,mBAM9DiJ,EAN8D,KAMrDC,EANqD,OAObxM,IAAMsD,WAPO,mBAO9DmJ,EAP8D,KAOxCC,EAPwC,OAQnB1M,IAAMsD,SAA2B8I,EAAiBO,SAR/B,mBAQ9DC,EAR8D,KAQ3CC,EAR2C,OAS7B7M,IAAMsD,SAAS,IATc,mBAS9DwJ,EAT8D,KAShDC,EATgD,cAWtDC,IAXsD,2EAWrE,8BAAA7T,EAAA,yDACS8T,IADT,iEAE0B3R,EAAa,wBAAyB,OAAQ,CAChEiR,QAASA,IAHjB,UAM2B,OAJjBxR,EAFV,QAMgBT,OANhB,gBAOQuS,EAAqBT,EAAiBc,gBAP9C,wCAS+BnS,EAAQlB,OATvC,QAScsT,EATd,OAUQC,QAAQtJ,MAAMqJ,GACdJ,EAAgBI,EAASpJ,QAXjC,6CAXqE,+BA0BtDsJ,IA1BsD,2EA0BrE,8BAAAlU,EAAA,yDACS8T,IADT,iEAE0B3R,EAAa,iCAAD,OAAkCiR,EAAlC,iBAAkDE,GAAwB,OAFhH,UAI2B,OAFjB1R,EAFV,QAIgBT,OAJhB,gBAKQuS,EAAqBT,EAAiBkB,UAL9C,wCAO+BvS,EAAQlB,OAPvC,QAOcsT,EAPd,OAQQC,QAAQtJ,MAAMqJ,GACdJ,EAAgBI,EAASpJ,QATjC,6CA1BqE,sBAuCrE,SAASkJ,IACL,OAAKV,GAAWA,EAAQ5R,OAAS,IAC7BoS,EAAgB,0BACT,IAEXA,EAAgB,KACT,GAGX,IAAMQ,EAAmC,CACrCC,KAAMxJ,YAAW,eACjByJ,UAAW,WACPnB,OAA+BjN,IAEnCqO,KAAM,WACFH,EAAiCI,QACjCJ,EAAiCK,SAAU,EAC3CL,EAAiCC,KAAOxJ,WAAWuJ,EAAiCE,UAAW,MAEnGG,SAAS,EACTD,MAAO,WACHJ,EAAiCK,SAAU,EAC3ChE,aAAa2D,EAAiCC,QAItD,SAASK,EAA0BC,GAC/BP,EAAiCI,QACjCrB,EAA+BwB,EAAMC,aAGzC,SAASC,EAA0BF,GAC/BP,EAAiCG,OAGrC,SAASO,EAA2BH,GACf,SAAbA,EAAMhH,KACNkG,IAIR,SAASkB,EAAoCJ,GACxB,SAAbA,EAAMhH,KACNuG,IAIR,OACI,kBAACxO,EAAA,EAAD,KAES,WACG,OAAQ+N,EAAkBjP,WACtB,KAAKyO,EAAiBO,QAClB,OAAO,yCAC8BtN,IAAhCgN,EACG,kBAAC8B,GAAA,EAAD,CAAgBvF,aAAc,CAAEwF,sBAAsB,EAAMpC,gBAAiBC,KAAgBoC,aAAe/L,OAAQ+J,GAChH,kBAACxN,EAAA,EAAD,CAAOyP,aAAcN,EAA2BO,YAAa,kBAAMhB,EAAiCI,SAAS7O,OAAQ,CAAEK,YAAa,KAChI,kBAACH,EAAA,EAAD,CAAM2B,QAAQ,cAAd,0HACA,kBAAC3B,EAAA,EAAD,CAAM2B,QAAQ,SAAQ,kBAACoE,GAAA,EAAD,CAAezC,OAAO,SAAS1C,KAAK,4GAApC,mBAG5B,qCAEN,kBAACf,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,KAC1B,kBAACH,EAAA,EAAD,qGACA,kBAACH,EAAA,EAAD,CAAOK,YAAU,EAACE,cAAc,MAAMN,OAAQ,CAAEK,YAAa,KACzD,kBAACH,EAAA,EAAD,CAAM2B,QAAQ,cAAd,mCACA,kBAAC3B,EAAA,EAAD,CAAM2B,QAAQ,QAAQ9C,MAAO,CAAEZ,MAAO,QAAUqR,aAAcN,GAA4B,kBAAC,KAAD,CAAMxO,QAASqO,GAAf,kBAE9F,kBAAChP,EAAA,EAAD,CAAO2P,MAAI,EAACtP,YAAU,EAACJ,OAAQ,CAAEK,YAAa,IAC1C,kBAACiF,GAAA,EAAD,CAAWqK,WAAYR,EAA4B1J,OAAQ,CAAEmK,MAAO,CAAEvR,MAAO,MAAS2N,YAAY,eAAepG,SAAU,SAACC,EAAQC,GAAT,OAAwB4H,EAAW5H,MAC9J,kBAACrF,GAAA,EAAD,CAAeC,QAAS,kBAAMwN,KAAqBnP,MAAO,CAAE8Q,SAAU,IAAMzH,UAAW,CAAEzG,SAAU,gBAInH,KAAK2L,EAAiBc,eAClB,OAAO,kBAACrO,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,KACjC,kBAACN,EAAA,EAAD,CAAO2P,MAAI,EAACtP,YAAU,EAACJ,OAAQ,CAAEK,YAAa,GAAKC,cAAc,OAC7D,kBAACoB,EAAA,EAAD,CAAUC,SAAS,aAAa5C,MAAO,CAAE6C,SAAU,MACnD,kBAAC1B,EAAA,EAAD,CAAM2B,QAAQ,UAAd,iCAEJ,kBAAC3B,EAAA,EAAD,CAAM2B,QAAQ,cAAd,8BACA,kBAAC9B,EAAA,EAAD,CAAO2P,MAAI,EAACtP,YAAU,EAACJ,OAAQ,CAAEK,YAAa,IAC1C,kBAACiF,GAAA,EAAD,CAAWM,SAAU,SAACC,EAAQC,GAAT,OAAwB8H,EAAwB9H,IAAQ6J,WAAYP,EAAqC3J,OAAQ,CAAEmK,MAAO,CAAEvR,MAAO,QACxJ,kBAACoC,GAAA,EAAD,CAAeC,QAAS,kBAAM6N,KAAqBxP,MAAO,CAAE8Q,SAAU,IAAMzH,UAAW,CAAEzG,SAAU,eAG/G,KAAK2L,EAAiBkB,SAClB,OAAO,kBAACzO,EAAA,EAAD,CAAOwB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,GAAIJ,QAAS,KACvE,kBAACyB,EAAA,EAAD,CAAU3C,MAAO,CAAE6C,SAAU,IAAMD,SAAS,mBAC5C,kBAACzB,EAAA,EAAD,CAAM2B,QAAQ,WAAd,sBACA,yBAAK9C,MAAO,CAAEqG,QAAS,SAClBF,YAAW,kBAAM3G,EAAM4G,UAAN,MACX5G,EAAMf,YADK,CAEduD,aAAa,mCAAD,OAAqC0M,QACjD,QAGhB,QACI,OAAO,sCAjDlB,GAqDL,kBAACvN,EAAA,EAAD,CAAMnB,MAAO,CAAEZ,MAAO,QAAU6P,K,ilBCnM5C,IAAM8B,GAAkBhO,KAAOiO,OAAV,MAQRC,GAAY,WAAO,IAAD,EACiB9O,IAAMsD,SAAS,iBADhC,mBACpByL,EADoB,KACJC,EADI,OAEKhP,IAAMsD,SAAS,IAFpB,mBAEpB2L,EAFoB,KAEVC,EAFU,OAIDlP,IAAMsD,SAAmB,IAJxB,mBAIpB6L,EAJoB,KAIbC,EAJa,OAM6BpP,IAAMsD,UAAS,GAN5C,mBAMpB+L,EANoB,KAMEC,EANF,OAO6BtP,IAAMsD,UAAS,GAP5C,mBAOpBiM,EAPoB,KAOEC,EAPF,OASHxP,IAAMsD,WATH,mBASpBmM,EAToB,KASdC,EATc,cAeZC,EAfY,8EAe3B,WAA2B7U,GAA3B,eAAA3B,EAAA,sEAC2BoD,EAAsBzB,EAAKJ,IADtD,OACUuF,EADV,OAEIyP,EAAQzP,GAFZ,4CAf2B,+BAoBZwG,IApBY,2EAoB3B,8BAAAtN,EAAA,sEAC+CyB,IAD/C,UACQE,EADR,8BAGQW,OAAOC,SAASkE,KAAOzH,EAH/B,iCAMI6W,EAAkBlU,EAAKkN,UAN3B,KAOIkH,EAPJ,UAOsB3T,EAAcT,GAPpC,kDAO6C,GAP7C,kDASwBD,EAAaC,GATrC,SASUqU,EATV,SAUeC,EAASD,GAEpBQ,EAAY7U,GAZhB,6CApB2B,kEAmC3B,sBAAA3B,EAAA,sDACIqW,GAAwB,GAExBpU,EAAe,aACf4I,YAAW,WACPyC,MACD,KANP,4CAnC2B,kEA4C3B,sBAAAtN,EAAA,sDACImW,GAAwB,GAD5B,4CA5C2B,sBAW3BtP,IAAMgJ,WAAU,WACZvC,MACD,IAmCH,IAAMmJ,EAAchP,aAAO0H,KAAP1H,CAAH,MAYXiP,EAAwBjP,KAAOC,IAAV,MAM3B,OACI,kBAAChC,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,KAC1B,kBAACyP,GAAD,KACI,kBAAC/P,EAAA,EAAD,CAAOK,YAAU,EAACoB,MAAI,EAACzC,MAAO,CAAEkB,QAAS,WAAY2C,OAAQ,GAAKtC,cAAc,SAASiB,gBAAgB,eAAevB,OAAQ,CAAEK,YAAa,KAC3I,kBAACyQ,EAAD,CAAarH,KAAMC,KAAYsH,WAAY3N,KAAM4M,EAAgBrG,SAAUuG,IAE3E,kBAACpQ,EAAA,EAAD,CAAOK,YAAU,EAACoB,MAAI,EAAClB,cAAc,MAAMN,OAAQ,CAAEK,YAAa,IAAMtB,MAAO,CAAEkS,WAAY,KAExFZ,EAAMvT,SAAS,aACZ,kBAAC,KAAD,CAAMiC,MAAO,CAAEZ,MAAO,QAASE,MAAO,QAAS6S,eAAgB,QAAUxQ,QAAS,kBAAM8P,GAAwB,KAC5G,kBAACzQ,EAAA,EAAD,CAAOO,cAAc,MAAMiB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,IACvE,kBAAC8Q,GAAA,EAAD,CAAMpS,MAAO,CAAE6C,SAAU,GAAIwP,WAAY,QAAUzP,SAAS,sBAC5D,kBAACzB,EAAA,EAAD,CAAM2B,QAAQ,cAAd,qBAIR,kBAAC,KAAD,CAAM9C,MAAO,CAAEZ,MAAO,QAASE,MAAO,QAAS6S,eAAgB,QAAUxQ,QAAS,kBAAMgQ,GAAwB,KAC5G,kBAAC3Q,EAAA,EAAD,CAAOO,cAAc,MAAMiB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,IACvE,kBAAC8Q,GAAA,EAAD,CAAMpS,MAAO,CAAE6C,SAAU,GAAIwP,WAAY,QAAUzP,SAAS,SAC5D,kBAACzB,EAAA,EAAD,CAAM2B,QAAQ,cAAd,wBAIZ,kBAAC,KAAD,CAAM9C,MAAO,CAAEZ,MAAO,OAAQE,MAAO,QAAS6S,eAAgB,QAAUnN,GAAG,0BACvE,kBAAChE,EAAA,EAAD,CAAOO,cAAc,MAAMiB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,IACvE,kBAAC8Q,GAAA,EAAD,CAAMpS,MAAO,CAAE6C,SAAU,GAAIzD,MAAO,OAAQiT,WAAY,QAAUzP,SAAS,UAC3E,kBAACzB,EAAA,EAAD,CAAMnB,MAAO,CAAEZ,MAAO,QAAU0D,QAAQ,cAAxC,wBAMZ,kBAACkP,EAAD,CAAuBhS,MAAO,CAAEV,MAAO,SAI/C,kBAAC0B,EAAA,EAAD,CAAOwB,gBAAgB,SAASC,MAAI,EAACpB,YAAU,EAACJ,OAAQ,CAAEK,YAAa,KAG/DgQ,EAAMvT,SAAS,aACX,kBAACiD,EAAA,EAAD,CAAOhB,MAAO,CAAE6D,OAAQ,IAAMrB,gBAAgB,SAASvB,OAAQ,CAAEK,YAAa,KAC1E,kBAACN,EAAA,EAAD,CAAOK,YAAU,EAACJ,OAAQ,CAAEK,YAAa,KACrC,kBAAC8Q,GAAA,EAAD,CAAMxP,SAAS,qBAAqB5C,MAAO,CAAE6C,SAlDxC,MAmDL,kBAAC1B,EAAA,EAAD,CAAM2B,QAAQ,SAAS9C,MAAO,CAAE4D,WAAY,MAA5C,YAGJ,kBAAC5C,EAAA,EAAD,CAAOK,YAAU,EAACoB,MAAI,EAACxB,OAAQ,CAAEK,YAAa,KAErCsQ,GAAQA,EAAK9U,OAAS,EAAI8U,EAAKxU,KAAI,SAAA2B,GAAO,OACvC,kBAAC,GAAD,CAEFA,QAASA,OACP,kBAACoC,EAAA,EAAD,CAAM2B,QAAQ,SAAd,wCAKhB,kBAAC9B,EAAA,EAAD,CAAOwB,gBAAgB,UACnB,kBAAC4P,GAAA,EAAD,CAAMxP,SAAS,kBAAkB5C,MAAO,CAAE6C,SAAU,MACpD,kBAAC1B,EAAA,EAAD,CAAM2B,QAAQ,SAAS9C,MAAO,CAAE4D,WAAY,MAA5C,sBACA,kBAACzC,EAAA,EAAD,CAAM2B,QAAQ,SAAd,8EAGZ,kBAACyG,GAAA,EAAD,CAAQC,QAASgI,EAAsB/H,mBAAoB,CACvD5J,KAAM6J,KAAWoB,YACjBjK,MAAO,oBAEP,kBAAC,GAAD,CAAmBpC,YAAa,GAAI2H,UArIzB,2CAqI8Da,SAAU,kBAAMwK,GAAwB,OAGrH,kBAAClI,GAAA,EAAD,CAAQC,QAASkI,EAAsBjI,mBAAoB,CACvD5J,KAAM6J,KAAWoB,YAAajK,MAAO,uBAErC,kBAACG,EAAA,EAAD,CAAOC,OAAQ,CAAEK,YAAa,IAAMkB,gBAAgB,UAChD,kBAACG,EAAA,EAAD,CAAUC,SAAS,cAAc5C,MAAO,CAAE6C,SAAU,MACpD,kBAAC1B,EAAA,EAAD,CAAM2B,QAAQ,UAAd,mCACA,kBAAC3B,EAAA,EAAD,CAAM2B,QAAQ,UAAd,qGACA,kBAAC3B,EAAA,EAAD,CAAM2B,QAAQ,UAAd,kIACA,kBAAC9B,EAAA,EAAD,CAAOK,YAAU,EAACmB,gBAAgB,eAAevB,OAAQ,CAAEK,YAAa,KACpE,kBAAC4F,GAAA,EAAD,CAAevF,QAAS,kBAAMgQ,GAAwB,KAAtD,UACA,kBAACjQ,GAAA,EAAD,CAAeC,QAlJZ,4CAkJH,kB,2BClKf2Q,GAAqC,WAChD,OACE,gBAACtR,EAAA,EAAD,CAAOK,YAAU,EAACmB,gBAAgB,UAChC,gBAACrB,EAAA,EAAD,CAAM2B,QAAQ,QAAQ9C,MAAO,CAAEkB,QAAS,KAAxC,mB,0CCDAqR,GAAY,CAChBC,QAAS,SAAChT,GAAgD,IAChDiT,EAAoBjT,EAApBiT,MAAOC,EAAalT,EAAbkT,SAQT5P,EANO,CACX6P,EAAG,OACHC,EAAG,UACHC,EAAG,UAGqBJ,GACpBK,EAAe,WAAOL,GAE5B,OAAO,kBAACtR,EAAA,EAAD,CAAM4R,GAAID,EAAYhQ,QAASA,GAAU4P,EAAS,GAAGlT,MAAMuH,QAEpEzC,KAAMnD,IACNvB,KAAM0D,MAGF0P,GAAcC,KAAO,uCAAC,WAAO3U,GAAP,iBAAAhD,EAAA,sEACRQ,MAAMwC,GADE,cACpB4U,EADoB,gBAEHA,EAAI5O,OAFD,cAEpB6O,EAFoB,yBAInBA,GAJmB,2CAAD,uDAOdC,GAAkB,uCAAG,WAAOC,GAAP,eAAA/X,EAAA,sEACT0X,GAAYK,GADH,cAC1BF,EAD0B,yBAEzB,CACLG,QAAS,kBACP,kBAACtS,EAAA,EAAD,CACEuS,cAAY,EACZ7M,OAAQ,CACNC,KAAM,CACJ7C,SAAU,IACVzE,OAAQ,UAGZ,kBAAC,KAAD,CAAekT,UAAWA,GAAWiB,OAAQL,QAZnB,2CAAH,sD,oBCT/BM,KAAQC,IAAIC,KAAKC,KAAWC,KAAUC,MACtCL,KAAQC,IAAIC,KAAKI,KAAKC,KAASC,KAAmBL,KAAWC,KAAUC,MAEvE,IAAMI,GAAsBC,aAAW,SAAA3U,GAAK,OAAI,gBAAC,GAAcA,MACzD4U,GCrB2B,SAACC,GAChC,IAAMC,EAAoBC,aAASF,GACnC,OAAOlS,IAAMqS,MAAK,SAAAhV,GAAK,OACrB,kBAACiV,GAAA,EAAD,CAAsBC,KAAMJ,EAAkBK,QAC5C,kBAACL,EAAsB9U,ODiBPoV,EAAkB,kBAAMxB,GAAmB,yBAEpDyB,GAAgC,WAE3C,OACE,gBAAC,IAAD,CAAeC,SAAS,KACtB,gBAAC9T,EAAA,EAAD,CAAOwB,gBAAgB,UACrB,gBAAC0R,GAAD,MACA,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAOzM,KAAK,IAAIxC,OAAK,EAAC8P,UAAWrR,KACjC,gBAAC,IAAD,CAAO+D,KAAK,YAAYsN,UAAW7S,KACnC,gBAAC,IAAD,CAAO+C,OAAK,EAACwC,KAAK,UAAUsN,UAAW7J,KACvC,gBAAC,IAAD,CAAOjG,OAAK,EAACwC,KAAK,UAAUsN,UAAWzJ,KACvC,gBAAC,IAAD,CAAOrG,OAAK,EAACwC,KAAK,aAAasN,UAAW9D,KAC1C,gBAAC,IAAD,CAAOhM,OAAK,EAACwC,KAAK,kBAAkBsN,UAAWX,KAC/C,gBAAC,IAAD,CAAOW,UAAWzC,KAPpB,QE3BR0C,cAEA,IAAMC,GAAcC,SAASC,eAAe,QACxCF,IAAeA,GAAYG,gBAC7BC,kBAAQ,kBAAC,GAAD,MAASJ,IAEjB5N,iBAAO,kBAAC,GAAD,MAAS4N,M","file":"static/js/main.d505d586.chunk.js","sourcesContent":["import { backendHost } from \"../const\";\r\nimport { isLocalhost, fetchBackend } from \"../helpers\";\r\n\r\nexport const uwpCommunityGuildId = 372137812037730304;\r\nexport const developerRoleId = 372142246625017871;\r\n\r\nexport const discordAuthEndpoint = (\r\n    isLocalhost ?\r\n        `https://discordapp.com/api/oauth2/authorize?client_id=611491369470525463&redirect_uri=http%3A%2F%2Flocalhost%3A5000%2Fsignin%2Fredirect&response_type=code&scope=identify%20guilds`\r\n        :\r\n        `https://discordapp.com/api/oauth2/authorize?client_id=611491369470525463&redirect_uri=http%3A%2F%2Fuwpcommunity-site-backend.herokuapp.com%2Fsignin%2Fredirect&response_type=code&scope=identify%20guilds`\r\n);\r\n\r\nexport const AuthData = {\r\n    Get: GetDiscordAuthData,\r\n    Set: SetDiscordAuthData,\r\n    Clear: ClearDiscordAuthData\r\n};\r\n\r\nexport function GetDiscordAuthData(): IDiscordAuthResponse | undefined {\r\n    const authData = localStorage.getItem(\"discordAuthData\");\r\n    if (!authData) return;\r\n    return JSON.parse(authData);\r\n}\r\n\r\nexport function SetDiscordAuthData(data: IDiscordAuthResponse) {\r\n    if (!data) return;\r\n    localStorage.setItem(\"discordAuthData\", JSON.stringify(data));\r\n}\r\n\r\nexport function ClearDiscordAuthData() {\r\n    localStorage.removeItem(\"discordAuthData\");\r\n}\r\n\r\nexport async function RefreshTokenIfNeeded() {\r\n    const UnixTime: number = Math.round((new Date()).getTime() / 1000);\r\n    let auth = AuthData.Get();\r\n\r\n    if (!auth) return;\r\n\r\n    if (auth.expires_at && auth.expires_at < UnixTime) {\r\n        let refreshData: IDiscordAuthResponse = await (await fetch(`https://${backendHost}/signin/refresh?refreshToken=${auth.refresh_token}`)).json();\r\n\r\n        if (refreshData.expires_in) refreshData.expires_at = UnixTime + refreshData.expires_in;\r\n\r\n        SetDiscordAuthData(refreshData);\r\n    }\r\n}\r\n\r\nexport async function IsUserInServer(): Promise<boolean> {\r\n    await RefreshTokenIfNeeded();\r\n\r\n    const Auth = AuthData.Get();\r\n    if (!Auth) throw new Error(\"No auth data found\");\r\n\r\n    const Req = await fetch(\"https://discordapp.com/api/v6/users/@me/guilds\", {\r\n        headers: {\r\n            \"Authorization\": \"Bearer \" + Auth.access_token\r\n        }\r\n    });\r\n    if (Req.status !== 200) return true; // If something goes wrong, give the benefit of the doubt\r\n\r\n    const Response: IDiscordGuild[] = await Req.json();\r\n\r\n    return Response.filter(server => server.id === \"372137812037730304\").length > 0;\r\n}\r\n\r\nexport let CurrentUser: IDiscordUser;\r\nexport async function GetCurrentDiscordUser(): Promise<IDiscordUser | undefined> {\r\n    if (CurrentUser) return CurrentUser;\r\n\r\n    const Auth = AuthData.Get();\r\n    if (!Auth) return;\r\n\r\n    const Req = await fetch(\"https://discordapp.com/api/v6/users/@me\", {\r\n        headers: {\r\n            \"Authorization\": \"Bearer \" + Auth.access_token\r\n        }\r\n    });\r\n    if (!Req || Req.status !== 200) return;\r\n    CurrentUser = await Req.json();\r\n    return CurrentUser;\r\n}\r\n\r\nexport async function GetUserRoles(user: IDiscordUser): Promise<string[] | undefined> {\r\n    user = user || await GetCurrentDiscordUser();\r\n    const Auth = AuthData.Get();\r\n    if (!Auth) return;\r\n\r\n    const request = await fetch(`http://${backendHost}/bot/user/roles`, {\r\n        headers: {\r\n            \"Authorization\": \"Bearer \" + Auth.access_token\r\n        }\r\n    });\r\n\r\n    if (request && request.status === 200) {\r\n        const result: IDiscordRoleData[] = await request.json();\r\n\r\n        return result.map(role => role.name);\r\n    }\r\n}\r\n\r\nexport async function AssignUserRole(roleName: string, user?: IDiscordUser) {\r\n    return await fetchBackend(\"bot/user/roles\", \"PUT\", { role: roleName });\r\n}\r\n\r\nexport async function GetUserAvatar(user?: IDiscordUser): Promise<string | undefined> {\r\n    user = user || await GetCurrentDiscordUser();\r\n    if (!user) return;\r\n    return `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`;\r\n}\r\n\r\nexport interface IDiscordUser {\r\n    \"username\": string;\r\n    \"locale\"?: string;\r\n    \"premium_type\"?: number;\r\n    \"mfa_enabled\": boolean;\r\n    \"flags\"?: number;\r\n    \"avatar\": string;\r\n    \"discriminator\": string;\r\n    \"id\": string;\r\n}\r\n\r\nexport interface IDiscordRoleData {\r\n    deleted: boolean;\r\n    id: string;\r\n    name: string;\r\n    color: number;\r\n    hoist: boolean;\r\n    position: number;\r\n    permissions: number;\r\n    managed: boolean;\r\n    mentionable: boolean;\r\n}\r\n\r\nexport interface IDiscordGuildMember {\r\n    /** @summary the user this guild member represents */\r\n    user: IDiscordUser;\r\n    /** @summary this users guild nickname (if one is set) */\r\n    nick?: string;\r\n    /** @summary array of role object ids @type Snowflake[] */\r\n    roles: string[];\r\n    /** @summary when the user joined the guild */\r\n    joined_at: string;\r\n    /** @summary when the user used their Nitro boost on the server */\r\n    premium_since?: string;\r\n    /** @summary whether the user is deafened in voice channels */\r\n    deaf: boolean;\r\n    /** @summary whether the user is muted in voice channels */\r\n    mute: boolean;\r\n};\r\n\r\nexport interface IDiscordGuild {\r\n    \"owner\": boolean,\r\n    \"permissions\": number,\r\n    \"icon\": string,\r\n    \"id\": string,\r\n    \"name\": string;\r\n}\r\n\r\nexport interface IDiscordAuthResponse {\r\n    \"access_token\": string;\r\n    \"token_type\": \"Bearer\";\r\n    \"expires_in\": number;\r\n    \"expires_at\"?: number;\r\n    \"refresh_token\": string;\r\n    \"scope\": string;\r\n}","import { isLocalhost } from \"./helpers\";\r\n\r\nexport const Links = {\r\n  thisSiteRepo: \"https://github.com/UWPCommunity/uwpcommunity.github.io/\",\r\n  launch2019Medium: \"https://medium.com/@Arlodottxt/launch-2019-7efd37cc0877\",\r\n  discordServerInvite: \"https://discord.gg/eBHZSKG\",\r\n  githubOrganization: \"https://github.com/UWPCommunity/\"\r\n};\r\n\r\nexport const Images = {\r\n  discordChatExample: \"/assets/img/discordchatexample.png\",\r\n  githubOrgScreenshot: \"/assets/img/githuborgscreenshot.png\",\r\n  launchHeroImage: \"/assets/img/LaunchHero.png\",\r\n  launchHeroImageHD: \"/assets/img/LaunchHeroHD.png\",\r\n  launchAppsHero: \"/assets/img/LaunchAppsHero.png\",\r\n\r\n  uwpCommunityLogo: \"/assets/img/uwpCommunityLogo.png\",\r\n  Badges: {\r\n    msstore: \"/assets/img/msstoreBadge.svg\",\r\n    github: \"/assets/img/githubBadge.svg\",\r\n    discord: \"/assets/img/discordBadge.svg\"\r\n  }\r\n};\r\n\r\nexport const MicrosoftStoreAppCategories = [\r\n  \"Books & reference\",\r\n  \"Business\",\r\n  \"Developer tools\",\r\n  \"Education\",\r\n  \"Entertainment\",\r\n  \"Food & dining\",\r\n  \"Government & politics\",\r\n  \"Kids & family\",\r\n  \"Lifestyle\",\r\n  \"Medical\",\r\n  \"Multimedia design\",\r\n  \"Music\",\r\n  \"Navigation & maps\",\r\n  \"News & weather\",\r\n  \"Personal finance\",\r\n  \"Personalization\",\r\n  \"Photo & video\",\r\n  \"Productivity\",\r\n  \"Security\",\r\n  \"Shopping\",\r\n  \"Social\",\r\n  \"Sports\",\r\n  \"Travel\",\r\n  \"Utilities & tools\"\r\n];\r\n\r\nexport const backendHost: string = (\r\n  isLocalhost ? \"localhost:5000\" : \"uwpcommunity-site-backend.herokuapp.com\"\r\n); ","import { AuthData, GetCurrentDiscordUser } from \"./services/discord\";\r\nimport { backendHost } from \"./const\";\r\n\r\nexport const getStoreUrl = (id: string) => {\r\n    return `https://www.microsoft.com/store/apps/${id}`;\r\n}\r\n\r\nexport const getGithubUrl = (id: string) => {\r\n    return `https://www.github.com/${id}`;\r\n}\r\n\r\nexport const getDiscordUrl = (id: string) => {\r\n    return `https://www.discord.gg/${id}`;\r\n}\r\n\r\nexport const getHeadTitle = (path: string) => {\r\n    let title = \"UWP Community\"\r\n    switch (path) {\r\n        case \"/\":\r\n            title = title + \" // Home\"\r\n            break;\r\n        case \"/projects\":\r\n            title = title + \" // Projects\"\r\n            break;\r\n        case \"/launch\":\r\n            title = title + \" // Launch\"\r\n            break;\r\n        case \"/dashboard\":\r\n            title = title + \" // Dashboard\"\r\n            break;\r\n        case \"/signin\":\r\n            title = title + \" // Sign in\"\r\n            break;\r\n        default:\r\n            title = title + \" // 404\"\r\n            break;\r\n    }\r\n    return title\r\n}\r\nexport const isLocalhost = window.location.host.includes(\"localhost\") || navigator.userAgent.includes(\"ReactSnap\");\r\n\r\nexport async function fetchBackend(route: string, method: (\"GET\" | \"POST\" | \"PUT\" | \"DELETE\"), requestBody?: any): Promise<Response> {\r\n    let headers: string[][] = [[\"Content-Type\", \"application/json\"]];\r\n\r\n    let authData = await AuthData.Get();\r\n    if (authData) headers.push([\"authorization\", authData.access_token])\r\n\r\n    let protocol = isLocalhost ? \"http\" : \"https\";\r\n    let url = `${protocol}://${backendHost}/${route}`;\r\n\r\n    return await fetch(url, {\r\n        headers: headers,\r\n        method: method,\r\n        body: JSON.stringify(requestBody)\r\n    });\r\n}\r\n\r\nexport async function ObjectToPathQuery(data: object) {\r\n    let queryString: string = \"\";\r\n    for (let [key, value] of Object.entries(data)) {\r\n        queryString += `${key}=${value}&`;\r\n    }\r\n    // If the last character is an \"&\", remove it\r\n    if (queryString.charAt(queryString.length - 1) === \"&\") queryString = queryString.slice(0, -1);\r\n    return queryString;\r\n}\r\nexport default {\r\n    getDiscordUrl, getGithubUrl, getStoreUrl\r\n}","import { IUser } from \"./users\";\r\nimport { fetchBackend, ObjectToPathQuery } from \"../helpers\";\r\n\r\nexport async function CreateProject(projectData: ICreateProjectsRequestBody): Promise<Response> {\r\n    return await fetchBackend(\"projects\", \"POST\", projectData);\r\n}\r\nexport interface ICreateProjectsRequestBody {\r\n    role: \"Developer\" | \"Other\"; // Only a developer or \"Other\" (manager, etc) can create a new project\r\n    appName: string;\r\n    category: string;\r\n    description: string;\r\n    isPrivate: boolean;\r\n    downloadLink?: string;\r\n    githubLink?: string;\r\n    externalLink?: string;\r\n    launchYear: number;\r\n    awaitingLaunchApproval: boolean;\r\n    needsManualReview: boolean;\r\n    heroImage: string;\r\n    lookingForRoles: string[];\r\n}\r\n\r\n\r\nexport async function ModifyProject(projectData: IModifyProjectsRequestBody, queryData: IModifyProjectRequestQuery) {\r\n    return await fetchBackend(`projects?${ObjectToPathQuery(queryData)}`, \"POST\", projectData);\r\n}\r\n\r\nexport async function GetProjectByDiscordId(discordId: string): Promise<IProject[]> {\r\n    return (await fetchBackend(`projects?discordId=${discordId}`, \"GET\")).json();\r\n}\r\n\r\nexport async function GetAllProjects(): Promise<IProject[]> {\r\n    return (await fetchBackend(`projects`, \"GET\")).json();\r\n}\r\n\r\nexport async function GetLaunchProjects(year: number): Promise<IProject[]> {\r\n    return (await (await fetchBackend(`projects`, \"GET\")).json()).filter((project: IProject) => project.launchYear == year && project.awaitingLaunchApproval == false);\r\n}\r\n\r\ninterface IModifyProjectsRequestBody {\r\n    appName: string;\r\n    description?: string;\r\n    isPrivate: boolean;\r\n    category?: string;\r\n\r\n    downloadLink?: string;\r\n    githubLink?: string;\r\n    externalLink?: string;\r\n\r\n    collaborators?: IUser[];\r\n\r\n    launchYear?: number;\r\n    awaitingLaunchApproval: boolean;\r\n}\r\n\r\ninterface IModifyProjectRequestQuery {\r\n    /** @summary The app name that's being modified */\r\n    appName: string;\r\n}\r\n\r\nexport interface IProjectCollaborator extends IUser {\r\n    role: \"Developer\" | \"Translator\" | \"Beta Tester\" | \"Other\";\r\n}\r\nexport interface IProject {\r\n    id?: number;\r\n\r\n    appName: string;\r\n    description: string;\r\n    isPrivate: boolean;\r\n    downloadLink?: string;\r\n    githubLink?: string;\r\n    externalLink?: string;\r\n\r\n    heroImage: string;\r\n\r\n    awaitingLaunchApproval: boolean;\r\n    needsManualReview: boolean;\r\n    lookingForRoles?: string[];\r\n\r\n    collaborators: IProjectCollaborator[];\r\n\r\n    launchYear?: number;\r\n    category?: string;\r\n};\r\n","import { IProject } from \"../common/services/projects\";\r\nimport { DocumentCard, DocumentCardImage, ImageFit, DocumentCardDetails, DocumentCardTitle, Text, Stack, DocumentCardActions, FontIcon, IButtonProps, PrimaryButton } from \"office-ui-fabric-react\";\r\nimport * as React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nenum ButtonType {\r\n  Github, Download, External\r\n}\r\n\r\ninterface ICustomButtonRenderProps {\r\n  type: ButtonType;\r\n  link: string;\r\n}\r\nconst FaIconStyle: React.CSSProperties = {\r\n  color: \"black\",\r\n  height: \"25px\",\r\n  width: \"25px\"\r\n};\r\n\r\nexport interface IProjectCard {\r\n  project: IProject;\r\n  onEditButtonClicked?: Function;\r\n}\r\n\r\nexport const ProjectCard = (props: IProjectCard) => {\r\n\r\n  function onRenderIcon(buttonProps: IButtonProps | undefined) {\r\n    if (!buttonProps) return null;\r\n    const buttonData: ICustomButtonRenderProps = buttonProps.data;\r\n    if (!buttonData.link) return null;\r\n\r\n    switch (buttonData.type.valueOf()) {\r\n      case ButtonType.Download:\r\n        if (buttonData.link && buttonData.link.includes(\"microsoft.com\")) {\r\n          return <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"microsoft\"]} />\r\n        } else {\r\n          return <FontAwesomeIcon style={FaIconStyle} icon=\"arrow-circle-down\" />\r\n        }\r\n      case ButtonType.External:\r\n        return <FontAwesomeIcon style={FaIconStyle} icon={[\"fas\", \"globe\"]} />\r\n      case ButtonType.Github:\r\n        return <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"github\"]} />\r\n      default: return null;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <DocumentCard>\r\n      <DocumentCardImage height={150} imageFit={ImageFit.centerCover} imageSrc={props.project.heroImage} />\r\n      <DocumentCardDetails>\r\n        <DocumentCardTitle title={props.project.appName} shouldTruncate />\r\n        <Stack tokens={{ padding: 15 }}>\r\n          <Text>{props.project.description}</Text>\r\n        </Stack>\r\n        <Stack horizontal tokens={{ childrenGap: 5, padding: 10 }} verticalAlign=\"center\">\r\n          {props.onEditButtonClicked !== undefined ? <PrimaryButton onClick={() => { if (props.onEditButtonClicked) props.onEditButtonClicked() }}>Edit</PrimaryButton> : <></>}\r\n\r\n          <DocumentCardActions actions={[\r\n            {\r\n              data: {\r\n                type: ButtonType.Github,\r\n                link: props.project.githubLink\r\n              },\r\n              href: props.project.githubLink,\r\n              onRenderIcon: onRenderIcon\r\n            },\r\n            {\r\n              data: {\r\n                type: ButtonType.Download,\r\n                link: props.project.downloadLink\r\n              },\r\n              href: props.project.downloadLink,\r\n              onRenderIcon: onRenderIcon\r\n            },\r\n            {\r\n              data: {\r\n                type: ButtonType.External,\r\n                link: props.project.externalLink\r\n              },\r\n              href: props.project.externalLink,\r\n              onRenderIcon: onRenderIcon\r\n            }\r\n          ]} />\r\n        </Stack>\r\n      </DocumentCardDetails>\r\n    </DocumentCard>\r\n  )\r\n}","import * as React from \"react\";\r\nimport { Stack, Text, FontIcon } from \"office-ui-fabric-react\";\r\nimport { GetAllProjects, IProject } from \"../common/services/projects\";\r\nimport { ProjectCard } from \"../components/ProjectCard\";\r\n\r\nexport const Projects: React.StatelessComponent = () => {\r\n  const [projects, setProjects] = React.useState<IProject[]>();\r\n\r\n  async function PopulateProjects() {\r\n    const projectsApi = await GetAllProjects();\r\n    setProjects(projectsApi);\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    PopulateProjects();\r\n  }, []);\r\n\r\n  return (\r\n    /* Todo: Add a header with brief explanation of the below */\r\n    <Stack horizontalAlign=\"center\" horizontal wrap tokens={{ childrenGap: 10 }}>\r\n      {projects && projects.length > 0 ? projects.map(project => {\r\n        return (\r\n          <ProjectCard project={project}></ProjectCard>\r\n        )\r\n      }) :\r\n        <Stack horizontalAlign=\"center\" style={{ marginTop: \"25vh\" }}>\r\n          <FontIcon iconName=\"sad\" style={{ fontSize: 55 }}></FontIcon>\r\n          <Text variant=\"xLarge\">No projects, yet</Text>\r\n        </Stack>\r\n      }\r\n    </Stack>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\r\n\r\nexport default styled.div`\r\n    box-shadow: ${Depths.depth8};\r\n    :hover {\r\n      box-shadow: ${Depths.depth16};\r\n    };\r\n    transition: 150ms all;\r\n`;","import React, { CSSProperties } from \"react\";\r\nimport { Stack, Text, PrimaryButton, Image, ImageFit, ImageCoverStyle } from \"office-ui-fabric-react\";\r\nimport { Links, Images } from \"../common/const\";\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport HoverBox from '../components/HoverBox';\r\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\r\n\r\nconst FaIconStyle: CSSProperties = {\r\n  color: \"black\",\r\n  height: \"65px\",\r\n  width: \"65px\"\r\n};\r\n\r\nconst LinkCard = styled.section`\r\n    font-family: Segoe UI, sans-serif;\r\n    padding: 7px;\r\n    max-width: 400px;\r\n`;\r\n\r\nlet Link = styled.a`\r\n    color: blue;\r\n    width: fit-content;\r\n    text-decoration: none;\r\n    :hover {\r\n      text-decoration: underline;\r\n    };\r\n`;\r\n\r\nlet Img = styled.img`\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n`;\r\n\r\nconst LargeCard = styled.div`\r\nbox-shadow: ${Depths.depth16};\r\n.heroImage, .heroImage img {\r\n  width: 620px;\r\n  height: 350px;\r\n}\r\n\r\n@media screen and (max-width: 1079px) {\r\n  width: min-content;\r\n  .heroImage, .heroImage img {\r\n      width: 750px;\r\n      height: 350px;\r\n  }\r\n}\r\n`;\r\n\r\nexport const Home: React.StatelessComponent = () => {\r\n  return (\r\n    <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 10 }}>\r\n      <p style={{ fontFamily: \"Segoe UI, Sans-Serif\", fontWeight: \"lighter\", fontSize: \"24px\", margin: 0 }}>The homepage for the unofficial Discord server </p>\r\n\r\n      <Stack wrap horizontal horizontalAlign=\"space-around\" tokens={{ childrenGap: 25 }}>\r\n\r\n        <LargeCard>\r\n          <Stack horizontal wrap maxWidth=\"1200px\" horizontalAlign=\"space-evenly\">\r\n            <Image className=\"heroImage\" coverStyle={ImageCoverStyle.landscape} imageFit={ImageFit.cover} src={Images.launchHeroImageHD} />\r\n\r\n            <Stack style={{ margin: \"15px\" }} verticalAlign=\"center\">\r\n              <Text variant=\"xLargePlus\">Launch 2020 signup coming soon</Text>\r\n              <Text variant=\"mediumPlus\">Check back later</Text>\r\n              <PrimaryButton style={{ marginTop: \"15px\" }} text=\"Submit your app\" disabled />\r\n            </Stack>\r\n          </Stack>\r\n        </LargeCard>\r\n\r\n        <Stack wrap horizontal horizontalAlign=\"space-around\" tokens={{ childrenGap: 15 }}>\r\n          <HoverBox>\r\n            <LinkCard>\r\n              <Stack>\r\n                <Img src={Images.discordChatExample} />\r\n\r\n                <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\" tokens={{ childrenGap: 7 }}>\r\n                  <Stack style={{ margin: \"10px\" }} tokens={{ childrenGap: 10 }}>\r\n                    <Text>Discuss the platform with other enthusiasts, get help as a developer, and interact with the devs of your favorite apps</Text>\r\n                    <Link href={Links.discordServerInvite} target=\"_blank\"> Join our discord server </Link>\r\n                  </Stack>\r\n                  <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"discord\"]} />\r\n                </Stack>\r\n\r\n              </Stack>\r\n            </LinkCard>\r\n          </HoverBox>\r\n\r\n          <HoverBox>\r\n            <LinkCard>\r\n              <Stack>\r\n                <Img src={Images.githubOrgScreenshot} />\r\n                <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\" tokens={{ childrenGap: 7 }}>\r\n                  <Stack style={{ margin: \"10px\" }} tokens={{ childrenGap: 10 }}>\r\n                    <Text>Many of our projects are open source, so others can learn or build with them</Text>\r\n                    <Link href={Links.githubOrganization} target=\"_blank\">See our open source projects</Link>\r\n                  </Stack>\r\n                  <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"github\"]} />\r\n                </Stack>\r\n              </Stack>\r\n            </LinkCard>\r\n          </HoverBox>\r\n\r\n          <HoverBox>\r\n            <LinkCard>\r\n              <Stack>\r\n                <Img src={Images.launchHeroImage} />\r\n                <Stack horizontal verticalAlign=\"center\" horizontalAlign=\"center\" tokens={{ childrenGap: 7 }}>\r\n                  <Stack style={{ margin: \"10px\" }} tokens={{ childrenGap: 10 }}>\r\n                    <Text>As a community of talented developers, each year we Launch our projects together in an annual event known as <code>Launch</code></Text>\r\n                    <Link href={Links.launch2019Medium} target=\"_blank\">Read about Launch 2019</Link>\r\n                  </Stack>\r\n                  <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"medium\"]} />\r\n                </Stack>\r\n              </Stack>\r\n            </LinkCard>\r\n          </HoverBox>\r\n\r\n        </Stack>\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n};\r\n","import React, { CSSProperties } from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { Text, Stack } from \"office-ui-fabric-react\";\r\n\r\nconst navLinkActiveStyle: CSSProperties = {\r\n  borderBottom: \"3px solid #5e5eff\",\r\n};\r\n\r\nconst MyNavLink = styled(NavLink)`     \r\n   color: black;\r\n   padding: 10px 12px 5px 12px;\r\n   text-align: center;\r\n   display: inline-block;\r\n   text-decoration: none;\r\n   margin: 7px;\r\n   border-bottom: 3px solid #c9c9c9;\r\n\r\n  :hover  {\r\n    text-decoration: none;    \r\n    border-bottom: 3px solid #9e9e9e;\r\n  };\r\n`;\r\n\r\nconst NavText = styled(Text)`\r\n  font-size: 18px;\r\n`;\r\n\r\nexport class NavMenu extends React.Component<any, any> {\r\n  public render(): JSX.Element {\r\n    return (\r\n      <nav>\r\n        <Stack horizontal wrap style={{ maxWidth: \"100%\" }}>\r\n          <MyNavLink to=\"/\" exact activeStyle={navLinkActiveStyle}>\r\n            <NavText>Home</NavText>\r\n          </MyNavLink>\r\n          <MyNavLink to=\"/projects\" activeStyle={navLinkActiveStyle}>\r\n            <NavText>Projects</NavText>\r\n          </MyNavLink>\r\n          <MyNavLink to=\"/launch\" activeStyle={navLinkActiveStyle}>\r\n            <NavText>Launch</NavText>\r\n          </MyNavLink>\r\n        </Stack>\r\n      </nav>\r\n    );\r\n  }\r\n}","import { fetchBackend } from \"../helpers\";\r\n\r\nexport async function CreateUser(userData: IUser): Promise<Response> {\r\n    return await fetchBackend(\"user\", \"POST\", userData);\r\n}\r\n\r\nexport async function ModifyUser(userData: IUser) {\r\n    return await fetchBackend(\"user\", \"PUT\", userData);\r\n}\r\n\r\nexport async function GetUser(discordId: string) {\r\n    return await fetchBackend(`user?discordId=${discordId}`, \"GET\");\r\n}\r\n\r\nexport interface IUser {\r\n    name: string;\r\n    discordId: string;\r\n    email?: string; // This is a contact email supplied by the user, and is safe to be public \r\n}","import { Text, Stack, PrimaryButton, TextField, DefaultButton } from \"office-ui-fabric-react\";\r\nimport React from \"react\";\r\nimport { IBackendReponseError } from \"../../common/interfaces\";\r\nimport { CreateUser, IUser, ModifyUser } from \"../../common/services/users\";\r\nimport { CurrentUser } from \"../../common/services/discord\";\r\n\r\nexport interface IRegisterDevProps {\r\n    onCancel?: Function;\r\n    onSuccess: Function;\r\n    userData?: Partial<IUser>;\r\n};\r\n\r\nexport const RegisterUserForm = (props: IRegisterDevProps) => {\r\n    let [userRequest, setUserRequest] = React.useState<IUser>({\r\n        discordId: CurrentUser.id,\r\n        name: \"\"\r\n    });\r\n\r\n    let [submissionError, setSubmissionError] = React.useState<string>(\"\");\r\n    let [showSuccessIndicator, setShowSuccessIndicator] = React.useState(false);\r\n\r\n    /* Todo: Attempt to find an existing user in the DB and set this according, then prepopulate the fields below */\r\n    let [modifying] = React.useState(false);\r\n\r\n    async function addUser() {\r\n        if (!userRequest) return;\r\n\r\n        let request = modifying ? await ModifyUser(userRequest)\r\n            : await CreateUser(userRequest);\r\n\r\n        let success = await request.status === 200;\r\n\r\n        if (!success) {\r\n            let error: IBackendReponseError = await request.json();\r\n            if (error.error && error.reason) {\r\n                setSubmissionError(error.reason);\r\n            }\r\n        } else {\r\n            setShowSuccessIndicator(true);\r\n            setTimeout(() => {\r\n                props.onSuccess();\r\n            }, 2500);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 10 }}>\r\n            {/* Need to toggle both src and display so it trigger the animation, and space is taken up during the transition (while the svg loads) */}\r\n            <img style={{ display: (showSuccessIndicator ? \"block\" : \"none\"), height: \"200px\" }} src={showSuccessIndicator ? \"/assets/img/checkanimated.svg\" : \"\"} alt=\"Check\" />\r\n            <Stack horizontalAlign=\"start\" tokens={{ childrenGap: 10 }} style={{ maxWidth: \"100%\", width: \"300px\", display: (!showSuccessIndicator ? \"block\" : \"none\") }}>\r\n                <TextField label=\"Name:\"\r\n                    description=\"Friendly name for other users/devs to see\"\r\n                    defaultValue={props.userData ? props.userData.name : \"\"}\r\n                    styles={{ root: { width: \"100%\" } }}\r\n                    required\r\n                    onChange={(e: any, value: any) => setUserRequest({ ...userRequest, name: value })} />\r\n\r\n                <TextField label=\"Contact email:\"\r\n                    description=\"Optional\"\r\n                    defaultValue={props.userData ? props.userData.email : \"\"}\r\n                    styles={{ root: { width: \"100%\" } }}\r\n                    onChange={(e: any, value: any) => setUserRequest({ ...userRequest, email: value })} />\r\n\r\n                <Text style={{ color: \"red\" }}>{submissionError}</Text>\r\n                <Stack horizontal tokens={{ childrenGap: 10 }}>\r\n                    <PrimaryButton text=\"Register\"\r\n                        onClick={addUser} />\r\n                    {\r\n                        props.onCancel ?\r\n                            <DefaultButton text=\"Cancel\" onClick={() => props.onCancel ? props.onCancel() : undefined} />\r\n                            : \"\"\r\n                    }\r\n                </Stack>\r\n            </Stack>\r\n        </Stack>\r\n    )\r\n};","import * as React from \"react\";\r\nimport { Stack, Link, Text, PrimaryButton, Persona, TooltipHost, TooltipDelay, DefaultButton, IContextualMenuProps, IContextualMenuItem, PersonaSize, Dialog, DialogFooter, DialogType } from \"office-ui-fabric-react\";\r\nimport { Images, Links } from \"../common/const\";\r\nimport { NavMenu } from \"./NavMenu\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { CSSProperties } from \"react\";\r\nimport { Route } from 'react-router-dom';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { GetUserAvatar, GetCurrentDiscordUser, IDiscordUser, AuthData, IsUserInServer, discordAuthEndpoint } from \"../common/services/discord\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { getHeadTitle } from \"../common/helpers\";\r\nimport { History } from \"history\";\r\nimport { RegisterUserForm } from \"./forms/RegisterUser\";\r\nimport { GetUser, IUser } from \"../common/services/users\";\r\n\r\nconst FaIconStyle: CSSProperties = {\r\n  color: \"white\",\r\n  height: \"20px\",\r\n  width: \"20px\",\r\n  paddingLeft: \"10px\"\r\n};\r\n\r\nexport const AppHeader: React.StatelessComponent = (props: any) => {\r\n  return (\r\n    <Route render={({ history }) => (\r\n      <header style={{ marginBottom: \"10px\", maxWidth: \"98vw\" }}>\r\n        <Stack style={{ width: \"100vw\", margin: \"0px\" }} horizontal wrap tokens={{ childrenGap: 10 }} verticalAlign='end' horizontalAlign=\"space-around\">\r\n          <Helmet>\r\n            <title>{getHeadTitle(props.location.pathname)}</title>\r\n          </Helmet>\r\n          <Link href=\"/\">\r\n            {/* This is an img and not an Image from FabricUI because when rendered on the live server, the image randomly doesn't show */}\r\n            <img style={{ maxWidth: \"100vw\" }} src={Images.uwpCommunityLogo} alt=\"Uwp Community Logo\" />\r\n          </Link>\r\n\r\n          <NavMenu />\r\n\r\n          <SignInButton history={history} />\r\n        </Stack>\r\n\r\n      </header>\r\n    )} />\r\n  );\r\n};\r\n\r\nconst PrivacyPolicyText: React.StatelessComponent = () => <p>Make sure you've read the <NavLink to=\"/privacy-policy\">Privacy Policy</NavLink> first -- by logging in, you agree to accept this policy.</p>\r\n\r\nexport const SignInButton: React.FC<{ history: History }> = ({ history }) => {\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [discordUser, setDiscordUser] = React.useState<IDiscordUser>();\r\n  const [user, setUser] = React.useState<IUser>();\r\n  const [userAvatar, setUserAvatar] = React.useState<string>();\r\n  const [joinServerAlertHidden, setJoinServerAlertHidden] = React.useState(true);\r\n  const [registerUserShown, setRegisterUserShown] = React.useState(false);\r\n  const [editProfileShown, setEditProfileShown] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setupLoggedInUser();\r\n  }, []);\r\n\r\n  async function setupLoggedInUser() {\r\n    const discordUser = await GetCurrentDiscordUser();\r\n    const avatarUrl = await GetUserAvatar(discordUser);\r\n\r\n    if (!discordUser || !avatarUrl) return;\r\n    setLoggedIn(true);\r\n    setDiscordUser(discordUser);\r\n\r\n    let userIsInServer = await IsUserInServer();\r\n    if (!userIsInServer) {\r\n      setJoinServerAlertHidden(false);\r\n      return;\r\n    }\r\n\r\n    const userRequest = await GetUser(discordUser.id);\r\n    if (userRequest.status === 404) {\r\n      // User isn't registered\r\n      setRegisterUserShown(true);\r\n      return;\r\n    }\r\n    if (userRequest && userRequest.status !== 200) throw new Error(await userRequest.text());\r\n\r\n    let user: IUser = await userRequest.json();\r\n\r\n    setUser(user);\r\n    setUserAvatar(avatarUrl);\r\n  }\r\n\r\n  const LoggedInButtonDropdownItems: IContextualMenuProps = {\r\n    onItemClick: OnMenuItemClick,\r\n    useTargetWidth: true,\r\n    items: [{\r\n      key: \"dashboard\",\r\n      text: \"Dashboard\",\r\n      iconProps: { iconName: \"ViewDashboard\" }\r\n    }, {\r\n      /* Todo: Only show this button if the user HAS a profile to edit */\r\n      key: \"editProfile\",\r\n      text: \"Edit Profile\",\r\n      iconProps: { iconName: \"EditContact\" }\r\n    }, {\r\n      key: \"logOut\",\r\n      text: \"Log out\",\r\n      iconProps: { iconName: \"SignOut\" }\r\n    }]\r\n  }\r\n\r\n  function OnMenuItemClick(ev?: React.MouseEvent<HTMLElement, MouseEvent> | React.KeyboardEvent<HTMLElement> | undefined, item?: IContextualMenuItem | undefined) {\r\n    if (!item) return;\r\n\r\n    switch (item.key) {\r\n      case \"logOut\":\r\n        LogOut();\r\n        break;\r\n      case \"dashboard\":\r\n        history.push(\"/dashboard\");\r\n        break;\r\n      case \"editProfile\":\r\n        setEditProfileShown(true);\r\n        break;\r\n    }\r\n  }\r\n\r\n  function LogOut() {\r\n    AuthData.Clear();\r\n    history.push(\"/\");\r\n    window.location.reload();\r\n  }\r\n\r\n  function CloseJoinServerDialog() {\r\n    setJoinServerAlertHidden(true);\r\n    LogOut();\r\n  }\r\n\r\n\r\n  return (\r\n    loggedIn && discordUser ?\r\n      <Stack>\r\n        <Dialog\r\n          hidden={joinServerAlertHidden}\r\n          dialogContentProps={{\r\n            type: DialogType.normal,\r\n            title: \"Join the Community to continue\",\r\n            subText: \"Looks like you aren't part of the UWP Community. To sign in, you'll need to join the server first\"\r\n          }}\r\n          modalProps={{\r\n            isBlocking: true,\r\n            styles: { main: { maxWidth: 450 } }\r\n          }}\r\n        >\r\n          <DialogFooter>\r\n            <PrimaryButton href={Links.discordServerInvite} text=\"Join the server\" />\r\n            <DefaultButton onClick={CloseJoinServerDialog} text=\"Sign out\" />\r\n          </DialogFooter>\r\n        </Dialog>\r\n        <TooltipHost content={`Logged in as ${discordUser.username}`} delay={TooltipDelay.long}>\r\n          <DefaultButton style={{ padding: \"25px\", border: \"0px solid black\" }} menuProps={LoggedInButtonDropdownItems}>\r\n            <Persona size={PersonaSize.size40} text={discordUser.username} imageUrl={userAvatar} />\r\n          </DefaultButton>\r\n        </TooltipHost>\r\n\r\n        <Dialog hidden={!editProfileShown && !registerUserShown} dialogContentProps={{ type: DialogType.largeHeader, title: registerUserShown ? \"One more step\" : \"Edit profile\" }}>\r\n          {registerUserShown ?\r\n            <Text variant=\"large\">Complete your profile to get started</Text>\r\n            : <></>}\r\n          <RegisterUserForm userData={user} onSuccess={() => { setRegisterUserShown(false); setEditProfileShown(false) }} onCancel={!registerUserShown ? () => setEditProfileShown(false) : undefined} />\r\n        </Dialog>\r\n      </Stack>\r\n      :\r\n      <Stack verticalAlign=\"start\" style={{ marginBottom: \"22px\" }}>\r\n        <TooltipHost\r\n          content={<PrivacyPolicyText />}\r\n          id={'privacyPolicyHost'}\r\n          calloutProps={{ gapSpace: 0 }}\r\n          closeDelay={500}\r\n          delay={0}\r\n          styles={{ root: { display: 'inline-block' } }}\r\n        >\r\n          <PrimaryButton href={discordAuthEndpoint} style={{ padding: \"18px\" }}>\r\n            <Text>Sign in</Text>\r\n            <FontAwesomeIcon style={FaIconStyle} icon={[\"fab\", \"discord\"]} />\r\n          </PrimaryButton>\r\n      </TooltipHost>\r\n    </Stack>\r\n  );\r\n};","import React, { useState, CSSProperties } from \"react\";\r\nimport { Text, Stack, PrimaryButton, IconButton, Image, ImageCoverStyle, ImageFit } from \"office-ui-fabric-react\";\r\nimport styled from 'styled-components';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport HoverBox from '../components/HoverBox';\r\nimport { Images } from \"../common/const\";\r\nimport { Depths } from \"@uifabric/fluent-theme/lib/fluent/FluentDepths\";\r\nimport { GetLaunchProjects, IProject } from \"../common/services/projects\";\r\nimport { ProjectCard } from \"../components/ProjectCard\";\r\nimport { GetCurrentDiscordUser, IDiscordUser } from \"../common/services/discord\";\r\n\r\nexport const Launch = () => {\r\n    const [projects, setProjects] = React.useState<IProject[]>();\r\n    const [user, setUser] = React.useState<IDiscordUser>();\r\n\r\n    async function GetNextLaunchEventProjects() {\r\n        setProjects(await GetLaunchProjects(2020));\r\n    }\r\n    React.useEffect(()=>{\r\n        GetNextLaunchEventProjects();\r\n        (async () => {\r\n            setUser(await GetCurrentDiscordUser());\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <Stack tokens={{childrenGap: 25}}>\r\n                <Stack horizontal wrap style={{ boxShadow: Depths.depth16 }} maxWidth=\"1200px\">\r\n                    <Image width=\"100%\" height=\"400px\" src={Images.launchAppsHero} coverStyle={ImageCoverStyle.landscape} imageFit={ImageFit.cover} />\r\n                    <Stack style={{margin: \"20px\"}}>\r\n\r\n                        <Text style={{fontFamily: \"Segoe UI\", fontSize: \"30px\", fontWeight: \"lighter\"}}>// Launch</Text>\r\n\r\n                        <Text style={{marginTop: \"10px\", fontWeight: 500}} variant=\"xLarge\">Learn, develop, and Launch together</Text>\r\n                        <Text style={{marginTop: \"10px\"}} variant=\"mediumPlus\">Once a year, our community of Windows App developers join together to release their UWP-related projects. If youre a developer, new or veteran, then we HIGHLY encourage you to join the server and register your app for the next Launch event!</Text>\r\n                        <Text style={{marginTop: \"10px\"}} variant=\"large\">{ user ? \"Go to your dashboard to get started\" : \"\"}</Text>\r\n                    </Stack>\r\n                </Stack>\r\n\r\n                {projects ? <Text variant=\"xLarge\">Launch 2020 Participants</Text> : <></>}\r\n            <Stack horizontal wrap horizontalAlign=\"center\" tokens={{childrenGap: 25}}>\r\n                {/* Todo: Add launch 2019 summary */}\r\n                {projects ? projects.map(project => <ProjectCard project={project} />) : <></>}\r\n            </Stack>\r\n        </Stack>\r\n    );\r\n};\r\n\r\ninterface ILaunchCardProps {\r\n    header: string;\r\n    description: string;\r\n    path: string;\r\n    buttonText?: string;\r\n    buttonDisabled?: boolean;\r\n    buttonStyle?: CSSProperties;\r\n};\r\n\r\nconst LaunchCardStyle = styled(HoverBox)`\r\n    max-height: 500px;\r\n    max-width: 350px;\r\n    padding: 50px;\r\n    :hover {\r\n                pointer: cursor;\r\n        };\r\n    `;\r\n\r\n","import { Text, Stack, Label, Spinner } from \"office-ui-fabric-react\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { AuthData } from \"../common/services/discord\";\r\n\r\nexport const Signin: React.FC<any> = () => {\r\n\r\n    let authResponse: string | null = (new URL(window.location.href)).searchParams.get(\"authResponse\");\r\n\r\n    if (authResponse) {\r\n        authResponse = atob(authResponse);\r\n        AuthData.Set(JSON.parse(authResponse));\r\n\r\n        window.location.href = \"/dashboard\";\r\n    }\r\n\r\n    const [showRedirectLink, setShowRedirectLink] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setShowRedirectLink(true);\r\n        }, 7000);\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Stack>\r\n                <Stack horizontalAlign=\"center\">\r\n                    <Label>Signing in...</Label>\r\n                    <Spinner label=\"Hold on tight\" ariaLive=\"assertive\" />\r\n                    <Text style={{ visibility: showRedirectLink ? \"visible\" : \"hidden\" }}>If not redirected automatically, <a href=\"/dashboard\">click here</a></Text>\r\n                </Stack>\r\n            </Stack>\r\n        </div>\r\n    )\r\n};\r\n","import { Text, Stack, PrimaryButton, Checkbox, TextField, DefaultButton, IComboBoxOption, ComboBox, MaskedTextField, Pivot, PivotItem, IComboBox } from \"office-ui-fabric-react\";\r\nimport React, { FormEvent } from \"react\";\r\nimport { IBackendReponseError } from \"../../common/interfaces\";\r\nimport { CreateProject, ICreateProjectsRequestBody, IProject } from \"../../common/services/projects\";\r\nimport { MicrosoftStoreAppCategories } from \"../../common/const\";\r\n\r\nexport interface IEditProjectDetailsFormProps {\r\n    onCancel?: Function;\r\n    onSuccess: Function;\r\n    projectData: Partial<IProject>;\r\n    editing?: boolean;\r\n};\r\n\r\nconst roleOptions: IComboBoxOption[] = [\r\n    { key: 1, text: 'Developer', selected: true },\r\n    { key: 2, text: 'Beta tester' },\r\n    { key: 3, text: 'Translator' },\r\n    { key: 4, text: 'Other' }\r\n];\r\n\r\nconst categoryOptions: IComboBoxOption[] = MicrosoftStoreAppCategories.map((category, index) => {\r\n    return { key: category, text: category }\r\n});\r\n\r\nexport const EditProjectDetailsForm = (props: IEditProjectDetailsFormProps) => {\r\n    let [projectRequest, setProjectRequest] = React.useState<Partial<ICreateProjectsRequestBody>>({\r\n        isPrivate: false, awaitingLaunchApproval: false, role: \"Developer\", ...props.projectData\r\n    });\r\n\r\n    let [submissionError, setSubmissionError] = React.useState<string>(\"\");\r\n    let [showSuccessIndicator, setShowSuccessIndicator] = React.useState(false);\r\n\r\n    async function submitParticipantRequest() {\r\n        let request = await CreateProject(projectRequest as ICreateProjectsRequestBody);\r\n\r\n        let success = request.status === 200;\r\n\r\n        if (!success) {\r\n            let error: IBackendReponseError = await request.json();\r\n            if (error.error && error.reason) {\r\n                setSubmissionError(error.reason);\r\n            }\r\n        } else {\r\n            setShowSuccessIndicator(true);\r\n            setTimeout(() => {\r\n                props.onSuccess();\r\n            }, 2500);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Stack horizontalAlign=\"center\">\r\n            {/* Need to toggle both src and display so it trigger the animation, and space is taken up during the transition (while the svg loads) */}\r\n            <img style={{ display: (showSuccessIndicator ? \"block\" : \"none\"), height: \"200px\" }} src={showSuccessIndicator ? \"/assets/img/checkanimated.svg\" : \"\"} alt=\"Check\" />\r\n            <Stack horizontalAlign=\"start\" tokens={{ childrenGap: 10 }} style={{ maxWidth: \"100%\", width: \"300px\", display: (!showSuccessIndicator ? \"block\" : \"none\") }}>\r\n                <Pivot>\r\n                    <PivotItem headerText=\"Basic info\">\r\n                        <Stack tokens={{ childrenGap: 10 }}>\r\n                            <TextField label=\"Project name:\" maxLength={50}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                value={projectRequest.appName}\r\n                                required onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, appName: value })} />\r\n\r\n                            <TextField label=\"Description\" maxLength={140}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                multiline required autoAdjustHeight\r\n                                value={projectRequest.description}\r\n                                placeholder=\"Enter a brief description\"\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, description: value })} />\r\n\r\n                            <TextField label=\"Hero image\"\r\n                                type=\"url\"\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                required\r\n                                value={projectRequest.heroImage}\r\n                                placeholder=\"External link to an image of your app\"\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, heroImage: value })} />\r\n                        </Stack>\r\n                    </PivotItem>\r\n                    <PivotItem headerText=\"Project links\">\r\n                        <Stack tokens={{ childrenGap: 10 }}>\r\n                            <TextField label=\"Download Link:\"\r\n                                value={projectRequest.downloadLink}\r\n                                disabled={!props.editing && props.projectData.downloadLink !== undefined}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, downloadLink: value })} />\r\n\r\n                            <TextField label=\"Github Link:\"\r\n                                value={projectRequest.githubLink}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, githubLink: value })} />\r\n\r\n                            <TextField label=\"External link\"\r\n                                value={projectRequest.externalLink}\r\n                                styles={{ root: { width: \"100%\" } }}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, externalLink: value })} />\r\n\r\n                        </Stack>\r\n                    </PivotItem>\r\n                    <PivotItem headerText=\"More info\">\r\n                        <Stack tokens={{ childrenGap: 10 }}>\r\n                            <ComboBox\r\n                                label=\"Category\"\r\n                                options={categoryOptions}\r\n                                defaultSelectedKey={projectRequest.category || categoryOptions[0].key}\r\n                                onChange={(e: FormEvent<IComboBox>, option: IComboBoxOption | undefined) => {\r\n                                    if (!option) return;\r\n                                    setProjectRequest({ ...projectRequest, category: option.text });\r\n                                }} />\r\n\r\n                            <Checkbox label=\"Project is private/secret\"\r\n                                checked={projectRequest.isPrivate}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, isPrivate: value })} />\r\n\r\n                            <Checkbox label=\"Partipation in Launch 2020\"\r\n                                checked={projectRequest.awaitingLaunchApproval}\r\n                                onChange={(e: any, value: any) => setProjectRequest({ ...projectRequest, awaitingLaunchApproval: value })} />\r\n\r\n                            <Text style={{ display: projectRequest.awaitingLaunchApproval ? \"block\" : \"none\" }}>A moderator will contact you over Discord to help with the manual review process for Launch 2020</Text>\r\n                        </Stack>\r\n                    </PivotItem>\r\n                </Pivot>\r\n\r\n                <Text style={{ color: \"red\" }}>{submissionError}</Text>\r\n                <Stack horizontal tokens={{ childrenGap: 10 }} horizontalAlign=\"space-evenly\" style={{ marginTop: 20 }}>\r\n                    {\r\n                        props.onCancel ?\r\n                            <DefaultButton text=\"Cancel\" onClick={() => props.onCancel ? props.onCancel() : undefined} />\r\n                            : \"\"\r\n                    }\r\n                    <PrimaryButton text=\"Register\" onClick={submitParticipantRequest} />\r\n                </Stack>\r\n            </Stack>\r\n        </Stack>\r\n    )\r\n};","import { EditProjectDetailsForm, IEditProjectDetailsFormProps } from './EditProjectDetailsForm';\r\nimport React from \"react\";\r\nimport { IProject } from '../../common/services/projects';\r\nimport { Stack, Text, PrimaryButton, DefaultButton, TooltipHost, DirectionalHint, Link, TeachingBubble, TextField, FontIcon } from 'office-ui-fabric-react';\r\nimport { fetchBackend } from '../../common/helpers';\r\n\r\nexport interface ICreateProjectFormProps extends IEditProjectDetailsFormProps {\r\n\r\n};\r\n\r\nexport const CreateProjectForm = (props: ICreateProjectFormProps) => {\r\n    const [verified, setVerified] = React.useState(false);\r\n    const [codeVerificationDisplayed, setCodeVerificationDisplayed] = React.useState(false);\r\n    const [manualReviewMessageShown, setManualReviewMessageShown] = React.useState(true);\r\n    const [projectData, setProjectData] = React.useState<Partial<IProject>>({});\r\n\r\n    return (\r\n        codeVerificationDisplayed ? <ProjectCodeVerifier onCancel={() => { setCodeVerificationDisplayed(false) }} onSuccess={(projectDetails) => {\r\n            setProjectData(projectDetails);\r\n\r\n            setCodeVerificationDisplayed(false);\r\n            setVerified(true);\r\n            setManualReviewMessageShown(false);\r\n        }} />\r\n            :\r\n            verified ?\r\n                (manualReviewMessageShown ?\r\n                    <Stack tokens={{ childrenGap: 10 }}>\r\n                        <Text>Manual review is required after submitting your project. This could take anywhere from several hours to several days</Text>\r\n                        <Stack horizontal tokens={{ childrenGap: 10 }} horizontalAlign=\"space-evenly\" style={{ marginTop: 20 }}>\r\n                            <DefaultButton onClick={() => {\r\n                                setManualReviewMessageShown(false);\r\n                                setVerified(false);\r\n                            }}>Go back</DefaultButton>\r\n                            <PrimaryButton onClick={() => setManualReviewMessageShown(false)}>Continue</PrimaryButton>\r\n                        </Stack>\r\n                    </Stack>\r\n                    : <EditProjectDetailsForm {...props} projectData={projectData} />)\r\n                :\r\n                <Stack tokens={{ childrenGap: 10, padding: 5 }}>\r\n                    <Text variant=\"large\">Before we begin...</Text>\r\n                    <Stack horizontal tokens={{ childrenGap: 5 }}>\r\n                        <FontIcon iconName=\"ReceiptCheck\" style={{ fontSize: 25 }} />\r\n                        <Text variant=\"medium\">Is your app public and already in the store?</Text>\r\n                    </Stack>\r\n                    <Stack horizontal tokens={{ childrenGap: 5 }}>\r\n                        <FontIcon iconName=\"ReceiptCheck\" style={{ fontSize: 25 }} />\r\n                        <Text variant=\"medium\">Do you have a \"Publisher support\" email listed on your apps' MS Store page?</Text>\r\n                    </Stack>\r\n                    <Stack style={{ marginTop: 20 }} horizontal tokens={{ childrenGap: 15 }} horizontalAlign=\"space-evenly\">\r\n                        <DefaultButton onClick={() => { setProjectData({ ...props.projectData, needsManualReview: true }); setVerified(true) }}>No</DefaultButton>\r\n                        <TooltipHost content=\"Automatic verification is possible. Your project will be immediately visible to the community\" closeDelay={100} directionalHint={DirectionalHint.leftBottomEdge}>\r\n                            <PrimaryButton onClick={() => { setProjectData({ ...props.projectData, ...projectData, needsManualReview: false }); setCodeVerificationDisplayed(true) }}>Yes</PrimaryButton>\r\n                        </TooltipHost>\r\n                    </Stack>\r\n                </Stack>\r\n    );\r\n};\r\n\r\ninterface IProjectCodeVerifierProps {\r\n    onSuccess: (projectDetails: Partial<IProject>) => void;\r\n    onCancel: Function;\r\n    projectData?: Partial<IProject>;\r\n}\r\nexport const ProjectCodeVerifier = (props: IProjectCodeVerifierProps) => {\r\n    enum VerficationState {\r\n        \"PreInit\", \"WaitingForCode\", \"Verified\"\r\n    }\r\n\r\n    const [storeIdTeachingBubbleTarget, setStoreIdTeachingBubbleTarget] = React.useState<MouseEvent>();\r\n    const [storeId, setStoreId] = React.useState<string>();\r\n    const [verificationCodeText, setVerificationCodeText] = React.useState<string>();\r\n    const [verificationState, setVerificationState] = React.useState<VerficationState>(VerficationState.PreInit);\r\n    const [errorMessage, setErrorMessage] = React.useState(\"\");\r\n    \r\n    async function BeginVerification() {\r\n        if (!validateStoreIdField()) return;\r\n        const request = await fetchBackend(\"projects/verification\", \"POST\", {\r\n            storeId: storeId\r\n        });\r\n\r\n        if (request.status === 200) {\r\n            setVerificationState(VerficationState.WaitingForCode);\r\n        } else {\r\n            const response = await request.json();\r\n            console.error(response);\r\n            setErrorMessage(response.reason);\r\n        }\r\n    }\r\n\r\n    async function checkVerification() {\r\n        if (!validateStoreIdField()) return;\r\n        const request = await fetchBackend(`projects/verification?storeId=${storeId}&code=${verificationCodeText}`, \"GET\");\r\n\r\n        if (request.status === 200) {\r\n            setVerificationState(VerficationState.Verified);\r\n        } else {\r\n            const response = await request.json();\r\n            console.error(response);\r\n            setErrorMessage(response.reason);\r\n        }\r\n    }\r\n\r\n    function validateStoreIdField() {\r\n        if (!storeId || storeId.length < 12) {\r\n            setErrorMessage(\"Store ID is too short\");\r\n            return false;\r\n        }\r\n        setErrorMessage(\"\");\r\n        return true;\r\n    }\r\n\r\n    const hideStoreIdTeachingBubbleTimeout = {\r\n        tick: setTimeout(() => { }),\r\n        onTimeout: () => {\r\n            setStoreIdTeachingBubbleTarget(undefined);\r\n        },\r\n        init: () => {\r\n            hideStoreIdTeachingBubbleTimeout.clear();\r\n            hideStoreIdTeachingBubbleTimeout.cleared = false;\r\n            hideStoreIdTeachingBubbleTimeout.tick = setTimeout(hideStoreIdTeachingBubbleTimeout.onTimeout, 1000);\r\n        },\r\n        cleared: false,\r\n        clear: () => {\r\n            hideStoreIdTeachingBubbleTimeout.cleared = true;\r\n            clearTimeout(hideStoreIdTeachingBubbleTimeout.tick);\r\n        }\r\n    };\r\n\r\n    function showStoreIdTeachingButton(event: React.MouseEvent<HTMLElement, MouseEvent>) {\r\n        hideStoreIdTeachingBubbleTimeout.clear();\r\n        setStoreIdTeachingBubbleTarget(event.nativeEvent);\r\n    }\r\n\r\n    function hideStoreIdTeachingButton(event: React.MouseEvent<HTMLElement, MouseEvent>) {\r\n        hideStoreIdTeachingBubbleTimeout.init();\r\n    }\r\n\r\n    function onStoreIDTextFieldKeyPress(event: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) {\r\n        if (event.key == \"Enter\") {\r\n            BeginVerification();\r\n        }\r\n    }\r\n\r\n    function onVerificationCodeTextFieldKeyPress(event: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) {\r\n        if (event.key == \"Enter\") {\r\n            checkVerification();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Stack>\r\n            {\r\n                (() => {\r\n                    switch (verificationState.valueOf()) {\r\n                        case VerficationState.PreInit:\r\n                            return <>\r\n                                {storeIdTeachingBubbleTarget !== undefined ?\r\n                                    <TeachingBubble calloutProps={{ directionalHintFixed: true, directionalHint: DirectionalHint.topAutoEdge }} target={storeIdTeachingBubbleTarget}>\r\n                                        <Stack onMouseLeave={hideStoreIdTeachingButton} onMouseOver={() => hideStoreIdTeachingBubbleTimeout.clear()} tokens={{ childrenGap: 10 }}>\r\n                                            <Text variant=\"mediumPlus\">This is the alphanumeric 12 character ID assigned to your app. It can be found in the URL for your app's store listing</Text>\r\n                                            <Text variant=\"small\"><DefaultButton target=\"_blank\" href=\"https://docs.microsoft.com/en-us/windows/uwp/publish/view-app-identity-details#link-to-your-apps-listing\">More details</DefaultButton></Text>\r\n                                        </Stack>\r\n                                    </TeachingBubble>\r\n                                    : <></>}\r\n\r\n                                <Stack tokens={{ childrenGap: 13 }}>\r\n                                    <Text>Your project can be verified automatically, and will be immediately visible to the community</Text>\r\n                                    <Stack horizontal verticalAlign=\"end\" tokens={{ childrenGap: 10 }}>\r\n                                        <Text variant=\"mediumPlus\">Enter the Store ID for your app</Text>\r\n                                        <Text variant=\"small\" style={{ color: \"gray\" }} onMouseLeave={hideStoreIdTeachingButton} ><Link onClick={showStoreIdTeachingButton}>What's this?</Link></Text>\r\n                                    </Stack>\r\n                                    <Stack grow horizontal tokens={{ childrenGap: 5 }}>\r\n                                        <TextField onKeyPress={onStoreIDTextFieldKeyPress} styles={{ field: { width: 250 } }} placeholder=\"9p75w183m6qr\" onChange={(e: any, value: any) => setStoreId(value)} />\r\n                                        <PrimaryButton onClick={() => BeginVerification()} style={{ minWidth: 25 }} iconProps={{ iconName: \"Forward\" }} />\r\n                                    </Stack>\r\n                                </Stack>\r\n                            </>;\r\n                        case VerficationState.WaitingForCode:\r\n                            return <Stack tokens={{ childrenGap: 10 }}>\r\n                                <Stack grow horizontal tokens={{ childrenGap: 5 }} verticalAlign=\"end\">\r\n                                    <FontIcon iconName=\"InboxCheck\" style={{ fontSize: 24 }} />\r\n                                    <Text variant=\"xLarge\">Check your inbox / junk mail</Text>\r\n                                </Stack>\r\n                                <Text variant=\"mediumPlus\">Enter the code we sent you</Text>\r\n                                <Stack grow horizontal tokens={{ childrenGap: 5 }}>\r\n                                    <TextField onChange={(e: any, value: any) => setVerificationCodeText(value)} onKeyPress={onVerificationCodeTextFieldKeyPress} styles={{ field: { width: 250 } }} />\r\n                                    <PrimaryButton onClick={() => checkVerification()} style={{ minWidth: 25 }} iconProps={{ iconName: \"Forward\" }} />\r\n                                </Stack>\r\n                            </Stack>;\r\n                        case VerficationState.Verified:\r\n                            return <Stack horizontalAlign=\"center\" tokens={{ childrenGap: 15, padding: 10 }}>\r\n                                <FontIcon style={{ fontSize: 38 }} iconName=\"ReminderPerson\" />\r\n                                <Text variant=\"xxLarge\">Identity verified!</Text>\r\n                                <div style={{ display: \"none\" }}>\r\n                                    {setTimeout(() => props.onSuccess({\r\n                                        ...props.projectData,\r\n                                        downloadLink: `http://microsoft.com/store/apps/${storeId}`\r\n                                    }), 1500)}\r\n                                </div>\r\n                            </Stack>\r\n                        default:\r\n                            return <></>\r\n                    }\r\n                })()\r\n            }\r\n            <Text style={{ color: \"red\" }}>{errorMessage}</Text>\r\n        </Stack >\r\n    );\r\n};\r\n\r\n","import { Text, Stack, Persona, PersonaSize, Icon, Link, Dialog, DialogType, Image, ImageFit, DefaultButton, PrimaryButton, FontIcon } from \"office-ui-fabric-react\";\r\nimport React from \"react\";\r\nimport { GetUserAvatar, GetCurrentDiscordUser, IDiscordUser, discordAuthEndpoint, GetUserRoles, AssignUserRole } from \"../common/services/discord\";\r\n\r\nimport styled from \"styled-components\";\r\nimport { CreateProjectForm } from \"../components/forms/CreateProjectForm\";\r\nimport { RegisterUserForm } from \"../components/forms/RegisterUser\";\r\nimport { GetProjectByDiscordId, IProject } from \"../common/services/projects\";\r\nimport HoverBox from \"../components/HoverBox\";\r\nimport { ProjectCard } from \"../components/ProjectCard\";\r\n\r\nconst DashboardHeader = styled.header`\r\nbackground: linear-gradient(to bottom,#005799 0,#0076d1);\r\nbox-shadow: 0 12px 45px -8px rgba(0,120,215,.35);\r\nwidth: 100vw;\r\nmargin: 0px;\r\npadding: 15px 0px;\r\n`;\r\n\r\nexport const Dashboard = () => {\r\n    const [welcomeMessage, setWelcomeMessage] = React.useState(\"Signing in...\");\r\n    const [userIcon, setUserIcon] = React.useState(\"\");\r\n\r\n    const [roles, setRoles] = React.useState<string[]>([]);\r\n\r\n    const [appRegistrationShown, setAppRegistrationShown] = React.useState(false);\r\n    const [devRegistrationShown, setDevRegistrationShown] = React.useState(false);\r\n\r\n    const [apps, setApps] = React.useState<IProject[]>();\r\n\r\n    React.useEffect(() => {\r\n        setupLoggedInUser();\r\n    }, []);\r\n\r\n    async function getUserApps(user: IDiscordUser) {\r\n        const projects = await GetProjectByDiscordId(user.id);\r\n        setApps(projects);\r\n    }\r\n\r\n    async function setupLoggedInUser() {\r\n        let user: IDiscordUser | undefined = await GetCurrentDiscordUser();\r\n        if (!user) {\r\n            window.location.href = discordAuthEndpoint;\r\n            return;\r\n        };\r\n        setWelcomeMessage(user.username);\r\n        setUserIcon(await GetUserAvatar(user) || \"\");\r\n\r\n        const roles = await GetUserRoles(user);\r\n        if (roles) setRoles(roles);\r\n\r\n        getUserApps(user);\r\n    }\r\n\r\n    async function onDevRegisterFormSuccess() {\r\n        setDevRegistrationShown(false);\r\n\r\n        AssignUserRole(\"Developer\");\r\n        setTimeout(() => {\r\n            setupLoggedInUser();\r\n        }, 1000);\r\n    }\r\n\r\n    async function onAppRegisterFormSuccess() {\r\n        setAppRegistrationShown(false);\r\n    }\r\n\r\n    const PersonaDark = styled(Persona)`\r\n    * {\r\n        :hover {\r\n            color: white;\r\n        }\r\n        color: #f7f7f7;\r\n        font-size: 22px;\r\n    }\r\n    `;\r\n\r\n    const SectionTitleIconFontSize = 34;\r\n\r\n    const DashboardColumnFiller = styled.div`\r\n    @media only screen and (max-width: 807px) {\r\n        display: none;\r\n    } \r\n    `;\r\n\r\n    return (\r\n        <Stack tokens={{ childrenGap: 25 }}>\r\n            <DashboardHeader>\r\n                <Stack horizontal wrap style={{ padding: \"15px 0px\", margin: 0 }} verticalAlign=\"center\" horizontalAlign=\"space-around\" tokens={{ childrenGap: 25 }}>\r\n                    <PersonaDark size={PersonaSize.extraLarge} text={welcomeMessage} imageUrl={userIcon} />\r\n\r\n                    <Stack horizontal wrap verticalAlign=\"end\" tokens={{ childrenGap: 10 }} style={{ marginLeft: 10 }}>\r\n\r\n                        {roles.includes(\"Developer\") ?\r\n                            <Link style={{ color: \"white\", width: \"150px\", textDecoration: \"none\" }} onClick={() => setAppRegistrationShown(true)}>\r\n                                <Stack verticalAlign=\"end\" horizontalAlign=\"center\" tokens={{ childrenGap: 5 }}>\r\n                                    <Icon style={{ fontSize: 35, userSelect: \"none\" }} iconName=\"AppIconDefaultAdd\"></Icon>\r\n                                    <Text variant=\"mediumPlus\">Register an app</Text>\r\n                                </Stack>\r\n                            </Link>\r\n                            :\r\n                            <Link style={{ color: \"white\", width: \"150px\", textDecoration: \"none\" }} onClick={() => setDevRegistrationShown(true)}>\r\n                                <Stack verticalAlign=\"end\" horizontalAlign=\"center\" tokens={{ childrenGap: 5 }}>\r\n                                    <Icon style={{ fontSize: 35, userSelect: \"none\" }} iconName=\"code\"></Icon>\r\n                                    <Text variant=\"mediumPlus\">Become a Developer</Text>\r\n                                </Stack>\r\n                            </Link>\r\n                        }\r\n                        <Link style={{ color: \"gray\", width: \"150px\", textDecoration: \"none\" }} to=\"/dashboard/registerapp\">\r\n                            <Stack verticalAlign=\"end\" horizontalAlign=\"center\" tokens={{ childrenGap: 5 }}>\r\n                                <Icon style={{ fontSize: 35, color: \"gray\", userSelect: \"none\" }} iconName=\"Robot\"></Icon>\r\n                                <Text style={{ color: \"gray\" }} variant=\"mediumPlus\">Manage your roles</Text>\r\n                            </Stack>\r\n                        </Link>\r\n\r\n                    </Stack>\r\n\r\n                    <DashboardColumnFiller style={{ width: 200 }} />\r\n                </Stack>\r\n            </DashboardHeader>\r\n\r\n            <Stack horizontalAlign=\"center\" wrap horizontal tokens={{ childrenGap: 20 }}>\r\n                {/* Todo: Hide this area if the user doesn't have Dev role, or no apps are registered */}\r\n                {\r\n                    roles.includes(\"Developer\") ?\r\n                        <Stack style={{ margin: 50 }} horizontalAlign=\"center\" tokens={{ childrenGap: 10 }}>\r\n                            <Stack horizontal tokens={{ childrenGap: 15 }}>\r\n                                <Icon iconName=\"AppIconDefaultList\" style={{ fontSize: SectionTitleIconFontSize }} />\r\n                                <Text variant=\"xLarge\" style={{ fontWeight: 600 }}>My apps</Text>\r\n                            </Stack>\r\n\r\n                            <Stack horizontal wrap tokens={{ childrenGap: 15 }}>\r\n                                {\r\n                                    (apps && apps.length > 0 ? apps.map(project =>\r\n                                        <ProjectCard /* onEditButtonClicked={() => {\r\n                                    \r\n                                }} */ project={project}></ProjectCard>\r\n                                    ) : <Text variant=\"large\">You don't have any registered apps</Text>)\r\n                                }\r\n                            </Stack>\r\n                        </Stack>\r\n                        :\r\n                        <Stack horizontalAlign=\"center\">\r\n                            <Icon iconName=\"BuildDefinition\" style={{ fontSize: 55 }} />\r\n                            <Text variant=\"xLarge\" style={{ fontWeight: 600 }}>Under construction</Text>\r\n                            <Text variant=\"large\">For now, this area is primarily for developers. Check back later for more</Text>\r\n                        </Stack>}\r\n\r\n                <Dialog hidden={!appRegistrationShown} dialogContentProps={{\r\n                    type: DialogType.largeHeader,\r\n                    title: 'Register an app',\r\n                }}>\r\n                    <CreateProjectForm projectData={{}} onSuccess={onAppRegisterFormSuccess} onCancel={() => setAppRegistrationShown(false)} />\r\n                </Dialog>\r\n\r\n                <Dialog hidden={!devRegistrationShown} dialogContentProps={{\r\n                    type: DialogType.largeHeader, title: \"Become a developer\"\r\n                }}>\r\n                    <Stack tokens={{ childrenGap: 10 }} horizontalAlign=\"center\">\r\n                        <FontIcon iconName=\"GiftboxOpen\" style={{ fontSize: 56 }} />\r\n                        <Text variant=\"xLarge\">Let's build something, together</Text>\r\n                        <Text variant=\"medium\">Everyone, from seasoned veterans to enthusiastic novices can become a developer with just a click</Text>\r\n                        <Text variant=\"medium\">You'll be given the Developer role in the UWP Community Discord server, and become eligible for app services exclusive to devs</Text>\r\n                        <Stack horizontal horizontalAlign=\"space-evenly\" tokens={{ childrenGap: 10 }}>\r\n                            <DefaultButton onClick={() => setDevRegistrationShown(false)}>Cancel</DefaultButton>\r\n                            <PrimaryButton onClick={onDevRegisterFormSuccess}>Register</PrimaryButton>\r\n                        </Stack>\r\n                    </Stack>\r\n                </Dialog>\r\n            </Stack>\r\n\r\n        </Stack >\r\n    )\r\n};","import * as React from \"react\";\r\nimport { Text, Stack } from \"office-ui-fabric-react\";\r\n\r\nexport const NotFound: React.StatelessComponent = () => {\r\n  return (\r\n    <Stack horizontal horizontalAlign=\"center\">\r\n      <Text variant=\"large\" style={{ padding: 10 }}>\r\n        404 Not Found\r\n      </Text>\r\n    </Stack>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport ReactMarkdown from 'react-markdown'\r\nimport { Stack, Text, Link } from 'office-ui-fabric-react';\r\nimport memoize from 'promise-memoize'\r\n\r\nconst renderers = {\r\n  heading: (props: { level: 1 | 2 | 3; children: any }) => {\r\n    const { level, children } = props\r\n\r\n    const size = {\r\n      1: 'mega',\r\n      2: 'xxLarge',\r\n      3: 'xLarge'\r\n    }\r\n\r\n    const variant: any = size[level]\r\n    const headerType: any = `h${level}`\r\n\r\n    return <Text as={headerType} variant={variant}>{children[0].props.value}</Text>\r\n  },\r\n  text: Text,\r\n  link: Link\r\n}\r\n\r\nconst getMarkdown = memoize(async (url: string) => {\r\n  const req = await fetch(url)\r\n  const markdown = await req.text()\r\n\r\n  return markdown\r\n})\r\n\r\nexport const createMarkdownPage = async (filename: string) => {\r\n  const markdown = await getMarkdown(filename)\r\n  return {\r\n    default: () => (\r\n      <Stack\r\n        verticalFill\r\n        styles={{\r\n          root: {\r\n            maxWidth: 960,\r\n            height: 'auto'\r\n          }\r\n        }}>\r\n        <ReactMarkdown renderers={renderers} source={markdown} />\r\n      </Stack>\r\n    )\r\n  }\r\n}","import * as React from \"react\";\r\nimport { Route, Switch, BrowserRouter } from 'react-router-dom';\r\n\r\nimport { Projects } from './views/Projects';\r\nimport { Home } from './views/Home';\r\nimport { AppHeader } from \"./components/AppHeader\";\r\nimport { Launch } from \"./views/Launch\";\r\nimport { Signin } from \"./views/signin\";\r\nimport { Dashboard } from \"./views/dashboard\";\r\n\r\nimport { Stack } from \"office-ui-fabric-react\";\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { fab, faDiscord, faMedium, faGithub } from '@fortawesome/free-brands-svg-icons';\r\nimport { fas, faGlobe, faArrowCircleDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { NotFound } from \"./views/NotFound\";\r\n\r\nimport { createMarkdownPage } from './components/markdown-loader'\r\nimport { prerenderedLoader } from './components/prerender-loader'\r\n\r\nlibrary.add(fab, faDiscord, faMedium, faGithub);\r\nlibrary.add(fab, fas, faGlobe, faArrowCircleDown, faDiscord, faMedium, faGithub);\r\n\r\nconst AppHeaderWithRouter = withRouter(props => <AppHeader {...props} />);\r\nconst PrivacyPolicy = prerenderedLoader(() => createMarkdownPage('/privacy-policy.md'));\r\n\r\nexport const App: React.StatelessComponent = () => {\r\n\r\n  return (\r\n    <BrowserRouter basename=\"/\">\r\n      <Stack horizontalAlign=\"center\">\r\n        <AppHeaderWithRouter />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/projects\" component={Projects} />\r\n          <Route exact path=\"/launch\" component={Launch} />\r\n          <Route exact path=\"/signin\" component={Signin} />\r\n          <Route exact path=\"/dashboard\" component={Dashboard} />\r\n          <Route exact path=\"/privacy-policy\" component={PrivacyPolicy} />\r\n          <Route component={NotFound} />}\r\n        </Switch>\r\n      </Stack>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import React from 'react'\r\n\r\nimport loadable from \"@loadable/component\";\r\nimport { PrerenderedComponent } from \"react-prerendered-component\";\r\n\r\nexport const prerenderedLoader = (dynamicImport: any) => {\r\n  const LoadableComponent = loadable(dynamicImport);\r\n  return React.memo(props => (\r\n    <PrerenderedComponent live={LoadableComponent.load()}>\r\n      <LoadableComponent {...props} />\r\n    </PrerenderedComponent>\r\n  ));\r\n};","import React from \"react\";\r\nimport { hydrate, render } from \"react-dom\";\r\nimport { initializeIcons } from \"@uifabric/icons\";\r\nimport {App} from './App';\r\n\r\n// Initializes the UI Fabric icons that we can use\r\n// Choose one from this list: https://developer.microsoft.com/en-us/fabric#/styles/icons\r\ninitializeIcons();\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nif (rootElement && rootElement.hasChildNodes()) {\r\n  hydrate(<App />, rootElement);\r\n} else {\r\n  render(<App />, rootElement);\r\n}"],"sourceRoot":""}